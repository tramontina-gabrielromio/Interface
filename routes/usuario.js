var _0x2baafc=_0x216b;(function(_0x760687,_0x3d988a){var _0x3c7f24=_0x216b,_0x1aa150=_0x760687();while(!![]){try{var _0x5526ec=parseInt(_0x3c7f24(0x13d))/0x1*(-parseInt(_0x3c7f24(0x12c))/0x2)+-parseInt(_0x3c7f24(0x13b))/0x3+parseInt(_0x3c7f24(0x12b))/0x4*(-parseInt(_0x3c7f24(0x142))/0x5)+parseInt(_0x3c7f24(0x13f))/0x6*(-parseInt(_0x3c7f24(0xf9))/0x7)+-parseInt(_0x3c7f24(0xf4))/0x8+-parseInt(_0x3c7f24(0xf3))/0x9+parseInt(_0x3c7f24(0x116))/0xa;if(_0x5526ec===_0x3d988a)break;else _0x1aa150['push'](_0x1aa150['shift']());}catch(_0x1effbe){_0x1aa150['push'](_0x1aa150['shift']());}}}(_0xf1a0,0xee0fd));const express=require(_0x2baafc(0x114)),router=express[_0x2baafc(0x10e)](),mongoose=require('mongoose');require(_0x2baafc(0xf1));const Evento=mongoose[_0x2baafc(0x14a)](_0x2baafc(0xd3));require('../models/Ferramenta');const Ferramenta=mongoose[_0x2baafc(0x14a)](_0x2baafc(0xf8));function _0xf1a0(){var _0x687593=['redirect','passport','usuarios/login','local','usuarios/documentacao','usuarios/historico','params','/usermanual','left','Router','/usuarios','/login/:login','push','login','/usuarios/main','express','./xyGav7','57149360oBrTqd','forEach','dataSearch','gv2','user','log','usuarios/teladesligar','/composicao','skip','configuracoes','resetTentativas','logout','/teladesligar','showTentativas','/logout','gv5','../helpers/logado','top','horaDevolucao','then','right','248kEDnJE','14610clVuCB','find','usuarios/tools','success_msg','Error:\x20','usuarios/main','bottom','limit','A\x20gaveta\x20não\x20pode\x20ser\x20acessada\x20pelo\x20usuário','setor','body','/retiradas:id','populate','reordenar','./xyGav3','844194EtTsTt','gv6','81blimWA','dataDevolucao','39042scByag','000000000000000000000001','/tools/buscar','56810RnJjfN','usuarios/usermanual','/compGaveta:gaveta','error_msg','/usuarios/loginblocked','usuarios/retiradas','referencia','render','model','gv4','/historico/buscar','eventos','gv3','/historico','/historico/skipp','gaveta','sort','usuario','Houve\x20um\x20erro\x20interno','gv8','./xyGav8','documentacao','lean','estado','length','toolSearch','/login','../models/Configuracoes','post','catch','/gaveta','./xyGav2','exports','horaRetirada','usuarios/gaveta','countDocuments','get','desc','usuarios/loginblocked','authenticate','Deslogado\x20com\x20sucesso!','../models/Evento','gv7','7171704IaymnM','12312344pPOgSH','Nenhuma\x20ferramenta\x20selecionada','usuarios/composicao','flash','ferramentas','889bYXEnb','showUserdata','/404?data=','/usuarios/tools','asc','/historico/reordenar','gv1','/loginblocked','../routes/senha','/documentacao','/loginrfid','gav'];_0xf1a0=function(){return _0x687593;};return _0xf1a0();}var userLogged=require('../routes/userLogged'),FuncSenha=require(_0x2baafc(0x101));require(_0x2baafc(0xe3));const Configuracao=mongoose[_0x2baafc(0x14a)]('configuracoes'),passport=require(_0x2baafc(0x106)),{logged}=require(_0x2baafc(0x126));var xyGav=[];try{xyGav[0x1]=require('./xyGav1'),xyGav[0x2]=require(_0x2baafc(0xe7)),xyGav[0x3]=require(_0x2baafc(0x13a)),xyGav[0x4]=require('./xyGav4'),xyGav[0x5]=require('./xyGav5'),xyGav[0x6]=require('./xyGav6'),xyGav[0x7]=require(_0x2baafc(0x115)),xyGav[0x8]=require(_0x2baafc(0xdc));}catch(_0x1fb733){console[_0x2baafc(0x11b)](_0x2baafc(0x130)+_0x1fb733),xyGav[0x1]=[],xyGav[0x2]=[],xyGav[0x3]=[],xyGav[0x4]=[],xyGav[0x5]=[],xyGav[0x6]=[],xyGav[0x7]=[],xyGav[0x8]=[];}var reordenarUltimo=0x0;function _0x216b(_0x22c8cd,_0x17686c){var _0xf1a084=_0xf1a0();return _0x216b=function(_0x216b80,_0x42375f){_0x216b80=_0x216b80-0xd2;var _0x3017b9=_0xf1a084[_0x216b80];return _0x3017b9;},_0x216b(_0x22c8cd,_0x17686c);}router['get'](_0x2baafc(0x110),(_0x25e025,_0x1d765f,_0x25bb7c)=>{var _0x579d01=_0x2baafc;_0x1d765f[_0x579d01(0x149)](_0x579d01(0x107),{'login':_0x25e025['params'][_0x579d01(0x112)]});}),router[_0x2baafc(0xec)](_0x2baafc(0xe2),(_0x58200e,_0x9e1a0e,_0x359864)=>{var _0x17f93e=_0x2baafc;_0x9e1a0e[_0x17f93e(0x149)](_0x17f93e(0x107));}),router[_0x2baafc(0xec)](_0x2baafc(0x100),(_0x4ddd74,_0x3b15f5,_0x8ddd71)=>{var _0x1003b7=_0x2baafc;Configuracao['findOne']({'_id':_0x1003b7(0x140)})[_0x1003b7(0xde)]()['populate'](_0x1003b7(0x11f))['then'](_0x51b516=>{var _0x45df53=_0x1003b7;_0x3b15f5['render'](_0x45df53(0xee),{'configuracoes':_0x51b516});})[_0x1003b7(0xe5)](_0x444903=>{var _0x42f851=_0x1003b7;_0x4ddd74[_0x42f851(0xf7)]('error_msg',_0x42f851(0xda)),_0x3b15f5['redirect']('/404?data='+_0x444903);});}),router[_0x2baafc(0xec)](_0x2baafc(0x122),(_0x19f875,_0x1f8444,_0x153c2a)=>{var _0x87e3a3=_0x2baafc;_0x1f8444[_0x87e3a3(0x149)](_0x87e3a3(0x11c));});var qtdRegistros=0x64;router[_0x2baafc(0xec)](_0x2baafc(0xd5),(_0x40d044,_0x4f7bc9)=>{var _0xa1906c=_0x2baafc,_0x20d16f=userLogged(_0xa1906c(0xfa)),_0xafa08a=[];reordenarUltimo=0x0;if(_0x20d16f[_0xa1906c(0xff)])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x1});if(_0x20d16f[_0xa1906c(0x119)])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x2});if(_0x20d16f[_0xa1906c(0xd4)])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x3});if(_0x20d16f[_0xa1906c(0x14b)])_0xafa08a['push']({'gaveta':0x4});if(_0x20d16f['gv5'])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x5});if(_0x20d16f['gv6'])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x6});if(_0x20d16f[_0xa1906c(0xf2)])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x7});if(_0x20d16f[_0xa1906c(0xdb)])_0xafa08a[_0xa1906c(0x111)]({'gaveta':0x8});if(_0xafa08a['length']>0x0)Evento[_0xa1906c(0xeb)]({'$or':_0xafa08a},function(_0x180ab2,_0x1f2741){var _0x5a7d4f=_0xa1906c;Evento[_0x5a7d4f(0x12d)]({'$or':_0xafa08a})[_0x5a7d4f(0xde)]()[_0x5a7d4f(0x138)]('eventos')[_0x5a7d4f(0xd8)]({'_id':_0x5a7d4f(0xed)})[_0x5a7d4f(0x133)](qtdRegistros)[_0x5a7d4f(0x11e)](0x0)[_0x5a7d4f(0x129)](_0x5e66e0=>{var _0x2d693b=_0x5a7d4f;_0x4f7bc9[_0x2d693b(0x149)](_0x2d693b(0x10a),{'eventos':_0x5e66e0,'busca':'','skip':0x0,'pgi':0x1,'pgf':parseInt(_0x1f2741/qtdRegistros)+0x1});})[_0x5a7d4f(0xe5)](_0x173af8=>{var _0x565317=_0x5a7d4f;_0x40d044[_0x565317(0xf7)](_0x565317(0x145),_0x565317(0xda)),_0x4f7bc9['redirect']('/404?data='+_0x173af8);});});else _0x4f7bc9[_0xa1906c(0x149)](_0xa1906c(0x10a),{'eventos':null,'busca':'','skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x2baafc(0xe4)]('/historico/skipm',(_0x2263c7,_0x53da46)=>{var _0xe0b7a4=_0x2baafc,_0x155e0b=userLogged(_0xe0b7a4(0xfa)),_0x500b3a=[];if(_0x155e0b[_0xe0b7a4(0xff)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x1});if(_0x155e0b[_0xe0b7a4(0x119)])_0x500b3a['push']({'gaveta':0x2});if(_0x155e0b[_0xe0b7a4(0xd4)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x3});if(_0x155e0b[_0xe0b7a4(0x14b)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x4});if(_0x155e0b[_0xe0b7a4(0x125)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x5});if(_0x155e0b[_0xe0b7a4(0x13c)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x6});if(_0x155e0b[_0xe0b7a4(0xf2)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x7});if(_0x155e0b[_0xe0b7a4(0xdb)])_0x500b3a[_0xe0b7a4(0x111)]({'gaveta':0x8});if(_0x500b3a[_0xe0b7a4(0xe0)]>0x0)Evento[_0xe0b7a4(0x12d)]({'$or':_0x500b3a,'descricao':new RegExp(_0x2263c7['body'][_0xe0b7a4(0x118)],'i')})[_0xe0b7a4(0xeb)]({},function(_0x14ac76,_0x1d5b63){var _0x33c1d9=_0xe0b7a4,_0x978cfe=Number(_0x2263c7[_0x33c1d9(0x136)][_0x33c1d9(0x11e)])-qtdRegistros;if(_0x978cfe<0x0)_0x978cfe=0x0;Evento['find']({'$or':_0x500b3a,'descricao':new RegExp(_0x2263c7['body'][_0x33c1d9(0x118)],'i')})[_0x33c1d9(0xde)]()[_0x33c1d9(0x138)](_0x33c1d9(0xd3))[_0x33c1d9(0xd8)]({'_id':_0x33c1d9(0xed)})['limit'](qtdRegistros)[_0x33c1d9(0x11e)](_0x978cfe)[_0x33c1d9(0x129)](_0x34e4a8=>{var _0x2880f7=_0x33c1d9;_0x53da46[_0x2880f7(0x149)](_0x2880f7(0x10a),{'eventos':_0x34e4a8,'busca':_0x2263c7['body']['dataSearch'],'skip':_0x978cfe,'pgi':parseInt(_0x978cfe/qtdRegistros)+0x1,'pgf':parseInt(_0x1d5b63/qtdRegistros)+0x1});})[_0x33c1d9(0xe5)](_0x4e768f=>{var _0x260d83=_0x33c1d9;_0x2263c7[_0x260d83(0xf7)]('error_msg',_0x260d83(0xda)),_0x53da46[_0x260d83(0x105)](_0x260d83(0xfb)+_0x4e768f);});});else _0x53da46['render']('usuarios/historico',{'eventos':null,'busca':_0x2263c7[_0xe0b7a4(0x136)][_0xe0b7a4(0x118)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x2baafc(0xe4)](_0x2baafc(0xd6),(_0x31df94,_0x257975)=>{var _0x52540b=_0x2baafc,_0x1bacdd=userLogged(_0x52540b(0xfa)),_0x57afa8=[];if(_0x1bacdd['gv1'])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x1});if(_0x1bacdd[_0x52540b(0x119)])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x2});if(_0x1bacdd[_0x52540b(0xd4)])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x3});if(_0x1bacdd[_0x52540b(0x14b)])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x4});if(_0x1bacdd['gv5'])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x5});if(_0x1bacdd['gv6'])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x6});if(_0x1bacdd[_0x52540b(0xf2)])_0x57afa8['push']({'gaveta':0x7});if(_0x1bacdd[_0x52540b(0xdb)])_0x57afa8[_0x52540b(0x111)]({'gaveta':0x8});if(_0x57afa8['length']>0x0)Evento['find']({'$or':_0x57afa8,'descricao':new RegExp(_0x31df94[_0x52540b(0x136)][_0x52540b(0x118)],'i')})[_0x52540b(0xeb)]({},function(_0x303da3,_0x3c5072){var _0xc6efc9=_0x52540b,_0x22021a=Number(_0x31df94['body'][_0xc6efc9(0x11e)])+qtdRegistros;if(_0x22021a>_0x3c5072)_0x22021a=_0x22021a-qtdRegistros;Evento['find']({'$or':_0x57afa8,'descricao':new RegExp(_0x31df94[_0xc6efc9(0x136)][_0xc6efc9(0x118)],'i')})[_0xc6efc9(0xde)]()[_0xc6efc9(0x138)](_0xc6efc9(0xd3))[_0xc6efc9(0xd8)]({'_id':_0xc6efc9(0xed)})[_0xc6efc9(0x133)](qtdRegistros)['skip'](_0x22021a)[_0xc6efc9(0x129)](_0x175b3e=>{var _0x68f420=_0xc6efc9;_0x257975[_0x68f420(0x149)](_0x68f420(0x10a),{'eventos':_0x175b3e,'busca':_0x31df94['body'][_0x68f420(0x118)],'skip':_0x22021a,'pgi':parseInt(_0x22021a/qtdRegistros)+0x1,'pgf':parseInt(_0x3c5072/qtdRegistros)+0x1});})['catch'](_0x47b575=>{var _0x43a60e=_0xc6efc9;_0x31df94[_0x43a60e(0xf7)](_0x43a60e(0x145),_0x43a60e(0xda)),_0x257975[_0x43a60e(0x105)](_0x43a60e(0xfb)+_0x47b575);});});else _0x257975[_0x52540b(0x149)](_0x52540b(0x10a),{'eventos':null,'busca':_0x31df94[_0x52540b(0x136)][_0x52540b(0x118)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x2baafc(0xe4)](_0x2baafc(0xd2),(_0x42e2b9,_0x2e0340)=>{var _0x4f0a40=_0x2baafc,_0x385415=userLogged(_0x4f0a40(0xfa)),_0x18fd7f=[];reordenarUltimo=0x0;if(_0x385415['gv1'])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x1});if(_0x385415[_0x4f0a40(0x119)])_0x18fd7f['push']({'gaveta':0x2});if(_0x385415[_0x4f0a40(0xd4)])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x3});if(_0x385415[_0x4f0a40(0x14b)])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x4});if(_0x385415[_0x4f0a40(0x125)])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x5});if(_0x385415[_0x4f0a40(0x13c)])_0x18fd7f['push']({'gaveta':0x6});if(_0x385415[_0x4f0a40(0xf2)])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x7});if(_0x385415[_0x4f0a40(0xdb)])_0x18fd7f[_0x4f0a40(0x111)]({'gaveta':0x8});if(_0x18fd7f['length']>0x0)Evento[_0x4f0a40(0x12d)]({'$or':_0x18fd7f,'descricao':new RegExp(_0x42e2b9[_0x4f0a40(0x136)][_0x4f0a40(0x118)],'i')})[_0x4f0a40(0xeb)]({},function(_0x569b45,_0xc9a760){var _0x36c3bd=_0x4f0a40;Evento[_0x36c3bd(0x12d)]({'$or':_0x18fd7f,'descricao':new RegExp(_0x42e2b9['body'][_0x36c3bd(0x118)],'i')})[_0x36c3bd(0xde)]()[_0x36c3bd(0x138)]('eventos')['sort']({'_id':'desc'})[_0x36c3bd(0x133)](qtdRegistros)[_0x36c3bd(0x11e)](0x0)[_0x36c3bd(0x129)](_0x40e5e3=>{var _0x3a0424=_0x36c3bd;_0x2e0340[_0x3a0424(0x149)](_0x3a0424(0x10a),{'eventos':_0x40e5e3,'busca':_0x42e2b9[_0x3a0424(0x136)][_0x3a0424(0x118)],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0xc9a760/qtdRegistros)+0x1});})['catch'](_0x5a9135=>{var _0x2fc912=_0x36c3bd;_0x42e2b9[_0x2fc912(0xf7)]('error_msg',_0x2fc912(0xda)),_0x2e0340[_0x2fc912(0x105)](_0x2fc912(0xfb)+_0x5a9135);});});else _0x2e0340['render']('usuarios/historico',{'eventos':null,'busca':_0x42e2b9[_0x4f0a40(0x136)][_0x4f0a40(0x118)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x2baafc(0xe4)](_0x2baafc(0xfe),(_0x5e298f,_0x1567e7)=>{var _0x4afd3c=_0x2baafc,_0x9663cb=userLogged(_0x4afd3c(0xfa)),_0x5abd4d=[];if(_0x9663cb[_0x4afd3c(0xff)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x1});if(_0x9663cb[_0x4afd3c(0x119)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x2});if(_0x9663cb[_0x4afd3c(0xd4)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x3});if(_0x9663cb[_0x4afd3c(0x14b)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x4});if(_0x9663cb[_0x4afd3c(0x125)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x5});if(_0x9663cb[_0x4afd3c(0x13c)])_0x5abd4d['push']({'gaveta':0x6});if(_0x9663cb[_0x4afd3c(0xf2)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x7});if(_0x9663cb[_0x4afd3c(0xdb)])_0x5abd4d[_0x4afd3c(0x111)]({'gaveta':0x8});var _0x545860={};if(_0x5e298f[_0x4afd3c(0x136)][_0x4afd3c(0x139)]==_0x4afd3c(0x148))reordenarUltimo==0x1?(reordenarUltimo=0x0,_0x545860={'referencia':_0x4afd3c(0xed)}):(reordenarUltimo=0x1,_0x545860={'referencia':'asc'});else{if(_0x5e298f[_0x4afd3c(0x136)]['reordenar']=='descricao')reordenarUltimo==0x2?(reordenarUltimo=0x0,_0x545860={'descricao':_0x4afd3c(0xed)}):(reordenarUltimo=0x2,_0x545860={'descricao':_0x4afd3c(0xfd)});else{if(_0x5e298f[_0x4afd3c(0x136)][_0x4afd3c(0x139)]=='gaveta')reordenarUltimo==0x3?(reordenarUltimo=0x0,_0x545860={'gaveta':'desc'}):(reordenarUltimo=0x3,_0x545860={'gaveta':_0x4afd3c(0xfd)});else{if(_0x5e298f['body'][_0x4afd3c(0x139)]=='dataRetirada')reordenarUltimo==0x4?(reordenarUltimo=0x0,_0x545860={'dataRetirada':_0x4afd3c(0xed)}):(reordenarUltimo=0x4,_0x545860={'dataRetirada':_0x4afd3c(0xfd)});else{if(_0x5e298f['body']['reordenar']==_0x4afd3c(0xe9))reordenarUltimo==0x5?(reordenarUltimo=0x0,_0x545860={'horaRetirada':'desc'}):(reordenarUltimo=0x5,_0x545860={'horaRetirada':_0x4afd3c(0xfd)});else{if(_0x5e298f['body'][_0x4afd3c(0x139)]==_0x4afd3c(0x13e))reordenarUltimo==0x6?(reordenarUltimo=0x0,_0x545860={'dataDevolucao':_0x4afd3c(0xed)}):(reordenarUltimo=0x6,_0x545860={'dataDevolucao':'asc'});else{if(_0x5e298f['body'][_0x4afd3c(0x139)]==_0x4afd3c(0x128))reordenarUltimo==0x7?(reordenarUltimo=0x0,_0x545860={'horaDevolucao':_0x4afd3c(0xed)}):(reordenarUltimo=0x7,_0x545860={'horaDevolucao':'asc'});else{if(_0x5e298f[_0x4afd3c(0x136)][_0x4afd3c(0x139)]==_0x4afd3c(0xd9))reordenarUltimo==0x8?(reordenarUltimo=0x0,_0x545860={'usuario':_0x4afd3c(0xed)}):(reordenarUltimo=0x8,_0x545860={'usuario':'asc'});else _0x5e298f[_0x4afd3c(0x136)]['reordenar']==_0x4afd3c(0x135)&&(reordenarUltimo==0x9?(reordenarUltimo=0x0,_0x545860={'setor':_0x4afd3c(0xed)}):(reordenarUltimo=0x9,_0x545860={'setor':'asc'}));}}}}}}}if(_0x5abd4d['length']>0x0)Evento[_0x4afd3c(0x12d)]({'$or':_0x5abd4d,'descricao':new RegExp(_0x5e298f[_0x4afd3c(0x136)][_0x4afd3c(0x118)],'i')})[_0x4afd3c(0xeb)]({},function(_0x37a91e,_0x4b68f0){var _0x338ba5=_0x4afd3c;Evento[_0x338ba5(0x12d)]({'$or':_0x5abd4d,'descricao':new RegExp(_0x5e298f['body'][_0x338ba5(0x118)],'i')})['lean']()[_0x338ba5(0x138)]('eventos')['sort'](_0x545860)[_0x338ba5(0x133)](qtdRegistros)[_0x338ba5(0x11e)](0x0)[_0x338ba5(0x129)](_0x4682b2=>{var _0x28f3f3=_0x338ba5;_0x1567e7[_0x28f3f3(0x149)](_0x28f3f3(0x10a),{'eventos':_0x4682b2,'busca':_0x5e298f['body']['dataSearch'],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0x4b68f0/qtdRegistros)+0x1});})[_0x338ba5(0xe5)](_0x9ee0d1=>{var _0x40cb1b=_0x338ba5;_0x5e298f['flash']('error_msg','Houve\x20um\x20erro\x20interno'),_0x1567e7[_0x40cb1b(0x105)]('/404?data='+_0x9ee0d1);});});else _0x1567e7['render'](_0x4afd3c(0x10a),{'eventos':null,'busca':_0x5e298f['body']['dataSearch'],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x2baafc(0xec)]('/tools',(_0x26d957,_0x2c08e8)=>{var _0xb0c81f=_0x2baafc,_0x295304=userLogged('showUserdata'),_0x3a9001=[];if(_0x295304[_0xb0c81f(0xff)])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x1});if(_0x295304[_0xb0c81f(0x119)])_0x3a9001['push']({'gaveta':0x2});if(_0x295304['gv3'])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x3});if(_0x295304['gv4'])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x4});if(_0x295304['gv5'])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x5});if(_0x295304[_0xb0c81f(0x13c)])_0x3a9001['push']({'gaveta':0x6});if(_0x295304[_0xb0c81f(0xf2)])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x7});if(_0x295304['gv8'])_0x3a9001[_0xb0c81f(0x111)]({'gaveta':0x8});if(_0x3a9001[_0xb0c81f(0xe0)]>0x0)Ferramenta[_0xb0c81f(0x12d)]({'$or':_0x3a9001})['lean']()[_0xb0c81f(0x138)](_0xb0c81f(0xf8))[_0xb0c81f(0xd8)]({'_id':_0xb0c81f(0xfd)})[_0xb0c81f(0x129)](_0x29ae92=>{var _0x18a7ff=_0xb0c81f;_0x2c08e8[_0x18a7ff(0x149)](_0x18a7ff(0x12e),{'ferramentas':_0x29ae92,'busca':'','usuario':_0x295304});})['catch'](_0x1c7d45=>{var _0x3a9441=_0xb0c81f;_0x26d957[_0x3a9441(0xf7)]('error_msg',_0x3a9441(0xda)),_0x2c08e8[_0x3a9441(0x105)](_0x3a9441(0xfb)+_0x1c7d45);});else _0x2c08e8['render'](_0xb0c81f(0x12e),{'ferramentas':null,'busca':''});}),router['post'](_0x2baafc(0x141),(_0x89aee3,_0x47f804)=>{var _0x13129b=_0x2baafc,_0x22f48c=userLogged(_0x13129b(0xfa)),_0x5bda8c=[];if(_0x22f48c[_0x13129b(0xff)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x1});if(_0x22f48c[_0x13129b(0x119)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x2});if(_0x22f48c[_0x13129b(0xd4)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x3});if(_0x22f48c['gv4'])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x4});if(_0x22f48c[_0x13129b(0x125)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x5});if(_0x22f48c[_0x13129b(0x13c)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x6});if(_0x22f48c['gv7'])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x7});if(_0x22f48c[_0x13129b(0xdb)])_0x5bda8c[_0x13129b(0x111)]({'gaveta':0x8});if(_0x5bda8c[_0x13129b(0xe0)]>0x0)Ferramenta[_0x13129b(0x12d)]({'$or':_0x5bda8c,'descricao':new RegExp(_0x89aee3[_0x13129b(0x136)][_0x13129b(0xe1)],'i')})['lean']()[_0x13129b(0x138)](_0x13129b(0xf8))[_0x13129b(0xd8)]({'_id':'asc'})[_0x13129b(0x129)](_0x748a80=>{var _0x4d20ff=_0x13129b;_0x47f804[_0x4d20ff(0x149)](_0x4d20ff(0x12e),{'ferramentas':_0x748a80,'busca':_0x89aee3['body'][_0x4d20ff(0xe1)],'usuario':_0x22f48c});})[_0x13129b(0xe5)](_0x4f4331=>{var _0x361c06=_0x13129b;_0x89aee3[_0x361c06(0xf7)](_0x361c06(0x145),'Houve\x20um\x20erro\x20interno'),_0x47f804[_0x361c06(0x105)](_0x361c06(0xfb)+_0x4f4331);});else _0x47f804[_0x13129b(0x149)](_0x13129b(0x12e),{'ferramentas':null,'busca':_0x89aee3[_0x13129b(0x136)][_0x13129b(0xe1)]});}),router[_0x2baafc(0xec)](_0x2baafc(0x137),(_0x132d89,_0x1a5dc4)=>{var _0x1a865e=_0x2baafc;Ferramenta['find']({'gaveta':_0x132d89[_0x1a865e(0x10b)]['id'],'desconhecido':0x1})[_0x1a865e(0xde)]()[_0x1a865e(0x138)](_0x1a865e(0xf8))[_0x1a865e(0xd8)]({'_id':_0x1a865e(0xfd)})[_0x1a865e(0x129)](_0x2d7aef=>{var _0x1837e3=_0x1a865e;if(_0x2d7aef[_0x1837e3(0xe0)]>0x0)_0x1a5dc4['render'](_0x1837e3(0x147),{'ferramentas':null,'retiradas':'?'});else Ferramenta[_0x1837e3(0x12d)]({'gaveta':_0x132d89['params']['id'],'estado':0x0,'desconhecido':0x0})['lean']()['populate'](_0x1837e3(0xf8))[_0x1837e3(0xd8)]({'_id':'asc'})[_0x1837e3(0x129)](_0xc7a7a9=>{var _0x43c418=_0x1837e3;_0x1a5dc4['render'](_0x43c418(0x147),{'ferramentas':_0xc7a7a9,'retiradas':-_0xc7a7a9['length']});})[_0x1837e3(0xe5)](_0x2b46e9=>{var _0x102369=_0x1837e3;_0x132d89[_0x102369(0xf7)](_0x102369(0x145),'Houve\x20um\x20erro\x20interno'),_0x1a5dc4[_0x102369(0x105)]('/404?data='+_0x2b46e9);});})[_0x1a865e(0xe5)](_0x3228cb=>{var _0x5bca5d=_0x1a865e;_0x132d89[_0x5bca5d(0xf7)](_0x5bca5d(0x145),'Houve\x20um\x20erro\x20interno'),_0x1a5dc4['redirect'](_0x5bca5d(0xfb)+_0x3228cb);});});const fs=require('fs');router[_0x2baafc(0xec)](_0x2baafc(0x10c),(_0xa2eacd,_0x1527f7,_0x27dae1)=>{var _0x375c39=_0x2baafc;_0x1527f7[_0x375c39(0x149)](_0x375c39(0x143));}),router['post'](_0x2baafc(0x102),(_0x138bdc,_0x5989d6,_0x10650d)=>{var _0x1e2266=_0x2baafc;_0x5989d6['render'](_0x1e2266(0x109),{'documentacao':_0x138bdc[_0x1e2266(0x136)][_0x1e2266(0xdd)]});}),router[_0x2baafc(0xec)](_0x2baafc(0x11d),logged,(_0x533dd5,_0x254cad)=>{var _0x1581d7=_0x2baafc,_0x27907b=userLogged(_0x1581d7(0xfa));_0x254cad[_0x1581d7(0x149)](_0x1581d7(0xf6),{'usuario':_0x27907b});}),router[_0x2baafc(0xec)]('/main',logged,(_0x3657f6,_0x1ffa06)=>{var _0x5c88cc=_0x2baafc;userLogged('insertUserdata',_0x3657f6[_0x5c88cc(0x11a)]);var _0x48358a=userLogged(_0x5c88cc(0xfa)),_0x5ebd1f=[];if(_0x48358a[_0x5c88cc(0xff)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x1});if(_0x48358a[_0x5c88cc(0x119)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x2});if(_0x48358a[_0x5c88cc(0xd4)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x3});if(_0x48358a[_0x5c88cc(0x14b)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x4});if(_0x48358a[_0x5c88cc(0x125)])_0x5ebd1f['push']({'gaveta':0x5});if(_0x48358a[_0x5c88cc(0x13c)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x6});if(_0x48358a[_0x5c88cc(0xf2)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x7});if(_0x48358a[_0x5c88cc(0xdb)])_0x5ebd1f[_0x5c88cc(0x111)]({'gaveta':0x8});if(_0x5ebd1f[_0x5c88cc(0xe0)]>0x0)Evento[_0x5c88cc(0x12d)]({'$or':_0x5ebd1f})['lean']()['populate'](_0x5c88cc(0xd3))[_0x5c88cc(0xd8)]({'_id':'desc'})[_0x5c88cc(0x133)](0xf)[_0x5c88cc(0x129)](_0x5e188d=>{var _0x238e03=_0x5c88cc;_0x1ffa06[_0x238e03(0x149)](_0x238e03(0x131),{'eventos':_0x5e188d,'usuario':_0x48358a});})[_0x5c88cc(0xe5)](_0x505989=>{var _0x52dd21=_0x5c88cc;_0x3657f6[_0x52dd21(0xf7)](_0x52dd21(0x145),_0x52dd21(0xda)),_0x1ffa06[_0x52dd21(0x105)](_0x52dd21(0xfb)+_0x505989);});else _0x1ffa06[_0x5c88cc(0x149)](_0x5c88cc(0x131),{'eventos':null,'usuario':_0x48358a});}),router[_0x2baafc(0xec)](_0x2baafc(0x144),logged,(_0x572507,_0x51494e)=>{var _0x20e8ce=_0x2baafc,_0x49ab9e=userLogged('showUserdata'),_0x48023b=[];if(_0x49ab9e[_0x20e8ce(0xff)])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b[_0x20e8ce(0x111)]('0');if(_0x49ab9e[_0x20e8ce(0x119)])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b['push']('0');if(_0x49ab9e[_0x20e8ce(0xd4)])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b[_0x20e8ce(0x111)]('0');if(_0x49ab9e[_0x20e8ce(0x14b)])_0x48023b['push']('1');else _0x48023b[_0x20e8ce(0x111)]('0');if(_0x49ab9e['gv5'])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b[_0x20e8ce(0x111)]('0');if(_0x49ab9e[_0x20e8ce(0x13c)])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b['push']('0');if(_0x49ab9e[_0x20e8ce(0xf2)])_0x48023b['push']('1');else _0x48023b['push']('0');if(_0x49ab9e[_0x20e8ce(0xdb)])_0x48023b[_0x20e8ce(0x111)]('1');else _0x48023b[_0x20e8ce(0x111)]('0');_0x48023b[_0x572507[_0x20e8ce(0x10b)]['gaveta']-0x1]==0x1?Ferramenta[_0x20e8ce(0x12d)]({'gaveta':_0x572507[_0x20e8ce(0x10b)][_0x20e8ce(0xd7)]})['lean']()[_0x20e8ce(0x138)](_0x20e8ce(0xf8))[_0x20e8ce(0xd8)]({'_id':_0x20e8ce(0xfd)})[_0x20e8ce(0x129)](_0x133725=>{var _0x23e336=_0x20e8ce;_0x51494e[_0x23e336(0x149)]('usuarios/gaveta',{'gaveta':_0x572507[_0x23e336(0x10b)][_0x23e336(0xd7)],'usuario':_0x49ab9e,'ferramentas':_0x133725,'pgBack':0x2});})[_0x20e8ce(0xe5)](_0x224323=>{var _0x5a695a=_0x20e8ce;_0x572507[_0x5a695a(0xf7)](_0x5a695a(0x145),_0x5a695a(0xda)),_0x51494e[_0x5a695a(0x105)](_0x5a695a(0xfb)+_0x224323);}):(_0x572507[_0x20e8ce(0xf7)](_0x20e8ce(0x145),_0x20e8ce(0x134)),_0x51494e[_0x20e8ce(0x105)]('/404?data='+err));}),router['get']('/gaveta:gaveta',logged,(_0x389960,_0x5bb0f6)=>{var _0x206211=_0x2baafc,_0x2f8bfa=userLogged(_0x206211(0xfa)),_0x3f9774=[];if(_0x2f8bfa[_0x206211(0xff)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774['push']('0');if(_0x2f8bfa[_0x206211(0x119)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774['push']('0');if(_0x2f8bfa['gv3'])_0x3f9774['push']('1');else _0x3f9774['push']('0');if(_0x2f8bfa[_0x206211(0x14b)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774[_0x206211(0x111)]('0');if(_0x2f8bfa[_0x206211(0x125)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774[_0x206211(0x111)]('0');if(_0x2f8bfa[_0x206211(0x13c)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774[_0x206211(0x111)]('0');if(_0x2f8bfa[_0x206211(0xf2)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774['push']('0');if(_0x2f8bfa[_0x206211(0xdb)])_0x3f9774[_0x206211(0x111)]('1');else _0x3f9774['push']('0');var _0x641b40=[];_0x3f9774[_0x389960[_0x206211(0x10b)]['gaveta']-0x1]==0x1?Ferramenta['find']({'gaveta':_0x389960['params'][_0x206211(0xd7)]})[_0x206211(0xde)]()[_0x206211(0x138)](_0x206211(0xf8))[_0x206211(0xd8)]({'_id':'asc'})['then'](_0x2fed1f=>{var _0x19923c=_0x206211;_0x2fed1f[_0x19923c(0x117)](function(_0x37d7d8,_0x28d7a9){var _0x4af857=_0x19923c;if(_0x37d7d8[_0x4af857(0xdf)]==0x0)try{_0x641b40['push']({'left':xyGav[_0x389960[_0x4af857(0x10b)][_0x4af857(0xd7)]][_0x28d7a9][_0x4af857(0x10d)]/1.734,'top':xyGav[_0x389960[_0x4af857(0x10b)]['gaveta']][_0x28d7a9]['top']/1.734,'width':(xyGav[_0x389960[_0x4af857(0x10b)][_0x4af857(0xd7)]][_0x28d7a9][_0x4af857(0x12a)]-xyGav[_0x389960[_0x4af857(0x10b)]['gaveta']][_0x28d7a9]['left'])/1.734,'height':(xyGav[_0x389960[_0x4af857(0x10b)][_0x4af857(0xd7)]][_0x28d7a9][_0x4af857(0x132)]-xyGav[_0x389960[_0x4af857(0x10b)]['gaveta']][_0x28d7a9][_0x4af857(0x127)])/1.734});}catch(_0x1c119c){console[_0x4af857(0x11b)](_0x1c119c);}}),_0x5bb0f6['render']('usuarios/gaveta',{'gaveta':_0x389960[_0x19923c(0x10b)][_0x19923c(0xd7)],'usuario':_0x2f8bfa,'ferramentas':_0x2fed1f,'pgBack':0x0,'arrayPosRemovidas':_0x641b40});})[_0x206211(0xe5)](_0x26778c=>{var _0xb43f70=_0x206211;_0x389960['flash'](_0xb43f70(0x145),'Houve\x20um\x20erro\x20interno'),_0x5bb0f6[_0xb43f70(0x105)](_0xb43f70(0xfb)+_0x26778c);}):(_0x389960[_0x206211(0xf7)](_0x206211(0x145),_0x206211(0x134)),_0x5bb0f6['redirect'](_0x206211(0xfb)+err));}),router[_0x2baafc(0xe4)](_0x2baafc(0xe6),logged,(_0xda50f7,_0x5d916c)=>{var _0x12c3c1=_0x2baafc,_0x5da31f=userLogged(_0x12c3c1(0xfa)),_0x359575=[];if(_0x5da31f['gv1'])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575[_0x12c3c1(0x111)]('0');if(_0x5da31f[_0x12c3c1(0x119)])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575[_0x12c3c1(0x111)]('0');if(_0x5da31f[_0x12c3c1(0xd4)])_0x359575['push']('1');else _0x359575[_0x12c3c1(0x111)]('0');if(_0x5da31f[_0x12c3c1(0x14b)])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575['push']('0');if(_0x5da31f['gv5'])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575['push']('0');if(_0x5da31f[_0x12c3c1(0x13c)])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575[_0x12c3c1(0x111)]('0');if(_0x5da31f[_0x12c3c1(0xf2)])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575['push']('0');if(_0x5da31f[_0x12c3c1(0xdb)])_0x359575[_0x12c3c1(0x111)]('1');else _0x359575[_0x12c3c1(0x111)]('0');!_0xda50f7['body'][_0x12c3c1(0x104)]?(_0xda50f7['flash'](_0x12c3c1(0x145),_0x12c3c1(0xf5)),_0x5d916c[_0x12c3c1(0x105)](_0x12c3c1(0xfc))):_0x359575[_0xda50f7[_0x12c3c1(0x136)][_0x12c3c1(0x104)]-0x1]==0x1?Ferramenta[_0x12c3c1(0x12d)]({'gaveta':_0xda50f7['body'][_0x12c3c1(0x104)]})[_0x12c3c1(0xde)]()['populate'](_0x12c3c1(0xf8))[_0x12c3c1(0xd8)]({'_id':'asc'})[_0x12c3c1(0x129)](_0x4da8a5=>{var _0x24f64e=_0x12c3c1;_0x5d916c[_0x24f64e(0x149)](_0x24f64e(0xea),{'gaveta':_0xda50f7[_0x24f64e(0x136)]['gav'],'usuario':_0x5da31f,'ferramentas':_0x4da8a5,'pgBack':0x1});})['catch'](_0x2d370e=>{var _0x1fd61d=_0x12c3c1;_0xda50f7[_0x1fd61d(0xf7)](_0x1fd61d(0x145),_0x1fd61d(0xda)),_0x5d916c[_0x1fd61d(0x105)](_0x1fd61d(0xfb)+_0x2d370e);}):(_0xda50f7[_0x12c3c1(0xf7)]('error_msg',_0x12c3c1(0x134)),_0x5d916c[_0x12c3c1(0x105)](_0x12c3c1(0xfb)+err));}),router[_0x2baafc(0xec)](_0x2baafc(0x124),(_0x5454ea,_0x5b3d20)=>{var _0x461a12=_0x2baafc;_0x5454ea[_0x461a12(0x121)](function(_0x873d1f){if(_0x873d1f)return next(_0x873d1f);}),userLogged('resetUserdata'),_0x5454ea[_0x461a12(0xf7)](_0x461a12(0x12f),_0x461a12(0xf0)),_0x5b3d20[_0x461a12(0x105)]('/');}),router[_0x2baafc(0xe4)](_0x2baafc(0xe2),(_0x426ee6,_0x458afa,_0x312224)=>{var _0x1561c5=_0x2baafc;FuncSenha(_0x1561c5(0x123))<0x4?passport[_0x1561c5(0xef)](_0x1561c5(0x108),{'successRedirect':_0x1561c5(0x113),'failureRedirect':'/usuarios/login/'+_0x426ee6[_0x1561c5(0x136)][_0x1561c5(0x112)],'failureFlash':!![]})(_0x426ee6,_0x458afa,_0x312224):(setTimeout(()=>{var _0x93f582=_0x1561c5;FuncSenha(_0x93f582(0x120));},0x1f4),passport[_0x1561c5(0xef)](_0x1561c5(0x108),{'successRedirect':_0x1561c5(0x113),'failureRedirect':_0x1561c5(0x146),'failureFlash':!![]})(_0x426ee6,_0x458afa,_0x312224));}),router[_0x2baafc(0xe4)](_0x2baafc(0x103),(_0x5c9929,_0x421b15,_0x7f6334)=>{var _0x560a9e=_0x2baafc;FuncSenha(_0x560a9e(0x120)),passport[_0x560a9e(0xef)](_0x560a9e(0x108),{'successRedirect':_0x560a9e(0x113),'failureRedirect':_0x560a9e(0x10f),'failureFlash':!![]})(_0x5c9929,_0x421b15,_0x7f6334);}),module[_0x2baafc(0xe8)]=router;