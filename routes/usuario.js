var _0x59f2f3=_0xc9ad;(function(_0x1652b4,_0xc2a97c){var _0x46f923=_0xc9ad,_0x1beda7=_0x1652b4();while(!![]){try{var _0x31c2e2=-parseInt(_0x46f923(0xc1))/0x1*(parseInt(_0x46f923(0x7e))/0x2)+-parseInt(_0x46f923(0xa2))/0x3*(parseInt(_0x46f923(0xb9))/0x4)+parseInt(_0x46f923(0xa8))/0x5*(parseInt(_0x46f923(0x89))/0x6)+parseInt(_0x46f923(0x8d))/0x7+parseInt(_0x46f923(0xbc))/0x8*(-parseInt(_0x46f923(0x76))/0x9)+parseInt(_0x46f923(0xbe))/0xa*(parseInt(_0x46f923(0x9e))/0xb)+-parseInt(_0x46f923(0x9f))/0xc;if(_0x31c2e2===_0xc2a97c)break;else _0x1beda7['push'](_0x1beda7['shift']());}catch(_0x426839){_0x1beda7['push'](_0x1beda7['shift']());}}}(_0x4b1d,0x78fae));const express=require(_0x59f2f3(0x84)),router=express[_0x59f2f3(0x7b)](),mongoose=require(_0x59f2f3(0xd2));require(_0x59f2f3(0x98));const Evento=mongoose[_0x59f2f3(0xb4)](_0x59f2f3(0x96));require(_0x59f2f3(0xa6));const Ferramenta=mongoose['model'](_0x59f2f3(0x83));var userLogged=require(_0x59f2f3(0x85));function _0xc9ad(_0x13dea1,_0x59b32e){var _0x4b1d6e=_0x4b1d();return _0xc9ad=function(_0xc9ad1e,_0x3b660b){_0xc9ad1e=_0xc9ad1e-0x6f;var _0x4c07b4=_0x4b1d6e[_0xc9ad1e];return _0x4c07b4;},_0xc9ad(_0x13dea1,_0x59b32e);}const passport=require(_0x59f2f3(0x82)),{logged}=require(_0x59f2f3(0xa1));var reordenarUltimo=0x0;router[_0x59f2f3(0xaf)](_0x59f2f3(0x72),(_0x3ee77a,_0x1272d1,_0x3ab282)=>{var _0x442e8f=_0x59f2f3;_0x1272d1[_0x442e8f(0xc9)](_0x442e8f(0x70),{'nome':_0x3ee77a['params'][_0x442e8f(0x73)]});}),router[_0x59f2f3(0xaf)]('/login',(_0x163659,_0x60af85,_0x2c45b9)=>{var _0x26cb75=_0x59f2f3;_0x60af85['render'](_0x26cb75(0x70));}),router[_0x59f2f3(0xaf)](_0x59f2f3(0x9a),(_0x5e325b,_0x173a37,_0x2d2441)=>{var _0x33aef7=_0x59f2f3;_0x173a37[_0x33aef7(0xc9)](_0x33aef7(0xc6));});var qtdRegistros=0x64;router[_0x59f2f3(0xaf)](_0x59f2f3(0x8a),(_0x390f71,_0x44ab91)=>{var _0x233cf9=_0x59f2f3,_0x5c7a7d=userLogged('showUserdata'),_0x5894a3=[];reordenarUltimo=0x0;if(_0x5c7a7d['gv1'])_0x5894a3['push']({'gaveta':0x1});if(_0x5c7a7d[_0x233cf9(0x90)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x2});if(_0x5c7a7d[_0x233cf9(0xa0)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x3});if(_0x5c7a7d[_0x233cf9(0xc7)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x4});if(_0x5c7a7d[_0x233cf9(0xae)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x5});if(_0x5c7a7d[_0x233cf9(0xb6)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x6});if(_0x5c7a7d[_0x233cf9(0xd0)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x7});if(_0x5c7a7d[_0x233cf9(0x6f)])_0x5894a3[_0x233cf9(0xa5)]({'gaveta':0x8});if(_0x5894a3['length']>0x0)Evento[_0x233cf9(0xd1)]({'$or':_0x5894a3},function(_0x586a3b,_0x2653e9){var _0x2181c7=_0x233cf9;Evento['find']({'$or':_0x5894a3})[_0x2181c7(0xcc)]()['populate'](_0x2181c7(0x96))['sort']({'_id':_0x2181c7(0x91)})[_0x2181c7(0xce)](qtdRegistros)[_0x2181c7(0xb8)](0x0)[_0x2181c7(0xb1)](_0x66f0a=>{var _0x269f53=_0x2181c7;_0x44ab91[_0x269f53(0xc9)](_0x269f53(0xb0),{'eventos':_0x66f0a,'busca':'','skip':0x0,'pgi':0x1,'pgf':parseInt(_0x2653e9/qtdRegistros)+0x1});})[_0x2181c7(0xba)](_0x3af0b8=>{var _0x22c7db=_0x2181c7;_0x390f71[_0x22c7db(0x71)]('error_msg','Houve\x20um\x20erro\x20interno'),_0x44ab91[_0x22c7db(0xbd)](_0x22c7db(0xc0)+_0x3af0b8);});});else _0x44ab91[_0x233cf9(0xc9)](_0x233cf9(0xb0),{'eventos':null,'busca':'','skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x59f2f3(0xb7)](_0x59f2f3(0x78),(_0x445855,_0x2371d3)=>{var _0x2fdc13=_0x59f2f3,_0x349102=userLogged(_0x2fdc13(0x9d)),_0x347f2d=[];if(_0x349102[_0x2fdc13(0xc3)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x1});if(_0x349102[_0x2fdc13(0x90)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x2});if(_0x349102[_0x2fdc13(0xa0)])_0x347f2d['push']({'gaveta':0x3});if(_0x349102[_0x2fdc13(0xc7)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x4});if(_0x349102[_0x2fdc13(0xae)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x5});if(_0x349102[_0x2fdc13(0xb6)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x6});if(_0x349102['gv7'])_0x347f2d['push']({'gaveta':0x7});if(_0x349102[_0x2fdc13(0x6f)])_0x347f2d[_0x2fdc13(0xa5)]({'gaveta':0x8});if(_0x347f2d[_0x2fdc13(0x86)]>0x0)Evento[_0x2fdc13(0xbf)]({'$or':_0x347f2d,'descricao':new RegExp(_0x445855[_0x2fdc13(0x92)][_0x2fdc13(0xa3)],'i')})['countDocuments']({},function(_0x3a6c4b,_0x5a9680){var _0x4be60d=_0x2fdc13,_0x37ac8a=Number(_0x445855[_0x4be60d(0x92)]['skip'])-qtdRegistros;if(_0x37ac8a<0x0)_0x37ac8a=0x0;Evento[_0x4be60d(0xbf)]({'$or':_0x347f2d,'descricao':new RegExp(_0x445855['body']['dataSearch'],'i')})[_0x4be60d(0xcc)]()[_0x4be60d(0x77)](_0x4be60d(0x96))[_0x4be60d(0x79)]({'_id':_0x4be60d(0x91)})['limit'](qtdRegistros)['skip'](_0x37ac8a)[_0x4be60d(0xb1)](_0x4345b9=>{var _0x3dde85=_0x4be60d;_0x2371d3['render'](_0x3dde85(0xb0),{'eventos':_0x4345b9,'busca':_0x445855['body'][_0x3dde85(0xa3)],'skip':_0x37ac8a,'pgi':parseInt(_0x37ac8a/qtdRegistros)+0x1,'pgf':parseInt(_0x5a9680/qtdRegistros)+0x1});})[_0x4be60d(0xba)](_0x8cac87=>{var _0x48a6ac=_0x4be60d;_0x445855[_0x48a6ac(0x71)](_0x48a6ac(0x9b),_0x48a6ac(0x7c)),_0x2371d3['redirect']('/404?data='+_0x8cac87);});});else _0x2371d3['render'](_0x2fdc13(0xb0),{'eventos':null,'busca':_0x445855[_0x2fdc13(0x92)][_0x2fdc13(0xa3)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router['post'](_0x59f2f3(0xc8),(_0x5a511d,_0x5520b9)=>{var _0x1d0558=_0x59f2f3,_0x4c032c=userLogged(_0x1d0558(0x9d)),_0x2a881c=[];if(_0x4c032c[_0x1d0558(0xc3)])_0x2a881c[_0x1d0558(0xa5)]({'gaveta':0x1});if(_0x4c032c[_0x1d0558(0x90)])_0x2a881c['push']({'gaveta':0x2});if(_0x4c032c[_0x1d0558(0xa0)])_0x2a881c[_0x1d0558(0xa5)]({'gaveta':0x3});if(_0x4c032c[_0x1d0558(0xc7)])_0x2a881c[_0x1d0558(0xa5)]({'gaveta':0x4});if(_0x4c032c['gv5'])_0x2a881c[_0x1d0558(0xa5)]({'gaveta':0x5});if(_0x4c032c['gv6'])_0x2a881c['push']({'gaveta':0x6});if(_0x4c032c[_0x1d0558(0xd0)])_0x2a881c['push']({'gaveta':0x7});if(_0x4c032c[_0x1d0558(0x6f)])_0x2a881c[_0x1d0558(0xa5)]({'gaveta':0x8});if(_0x2a881c['length']>0x0)Evento[_0x1d0558(0xbf)]({'$or':_0x2a881c,'descricao':new RegExp(_0x5a511d[_0x1d0558(0x92)][_0x1d0558(0xa3)],'i')})[_0x1d0558(0xd1)]({},function(_0x57671b,_0x20f24c){var _0x2e6050=_0x1d0558,_0x356541=Number(_0x5a511d[_0x2e6050(0x92)][_0x2e6050(0xb8)])+qtdRegistros;if(_0x356541>_0x20f24c)_0x356541=_0x356541-qtdRegistros;Evento[_0x2e6050(0xbf)]({'$or':_0x2a881c,'descricao':new RegExp(_0x5a511d[_0x2e6050(0x92)]['dataSearch'],'i')})['lean']()['populate'](_0x2e6050(0x96))[_0x2e6050(0x79)]({'_id':_0x2e6050(0x91)})[_0x2e6050(0xce)](qtdRegistros)['skip'](_0x356541)[_0x2e6050(0xb1)](_0xa3a9a7=>{var _0x130c41=_0x2e6050;_0x5520b9['render'](_0x130c41(0xb0),{'eventos':_0xa3a9a7,'busca':_0x5a511d[_0x130c41(0x92)][_0x130c41(0xa3)],'skip':_0x356541,'pgi':parseInt(_0x356541/qtdRegistros)+0x1,'pgf':parseInt(_0x20f24c/qtdRegistros)+0x1});})[_0x2e6050(0xba)](_0x34e9cc=>{var _0x13113b=_0x2e6050;_0x5a511d['flash'](_0x13113b(0x9b),_0x13113b(0x7c)),_0x5520b9[_0x13113b(0xbd)](_0x13113b(0xc0)+_0x34e9cc);});});else _0x5520b9[_0x1d0558(0xc9)](_0x1d0558(0xb0),{'eventos':null,'busca':_0x5a511d['body']['dataSearch'],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x59f2f3(0xb7)](_0x59f2f3(0xd8),(_0x4110d6,_0x16ef07)=>{var _0x50f57d=_0x59f2f3,_0xd2aeb4=userLogged(_0x50f57d(0x9d)),_0x4d77b9=[];reordenarUltimo=0x0;if(_0xd2aeb4['gv1'])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x1});if(_0xd2aeb4['gv2'])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x2});if(_0xd2aeb4[_0x50f57d(0xa0)])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x3});if(_0xd2aeb4['gv4'])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x4});if(_0xd2aeb4[_0x50f57d(0xae)])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x5});if(_0xd2aeb4['gv6'])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x6});if(_0xd2aeb4['gv7'])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x7});if(_0xd2aeb4[_0x50f57d(0x6f)])_0x4d77b9[_0x50f57d(0xa5)]({'gaveta':0x8});if(_0x4d77b9[_0x50f57d(0x86)]>0x0)Evento[_0x50f57d(0xbf)]({'$or':_0x4d77b9,'descricao':new RegExp(_0x4110d6[_0x50f57d(0x92)]['dataSearch'],'i')})[_0x50f57d(0xd1)]({},function(_0x3b9167,_0x1a5d18){var _0x55bb21=_0x50f57d;Evento[_0x55bb21(0xbf)]({'$or':_0x4d77b9,'descricao':new RegExp(_0x4110d6[_0x55bb21(0x92)]['dataSearch'],'i')})[_0x55bb21(0xcc)]()[_0x55bb21(0x77)]('eventos')[_0x55bb21(0x79)]({'_id':'desc'})[_0x55bb21(0xce)](qtdRegistros)[_0x55bb21(0xb8)](0x0)[_0x55bb21(0xb1)](_0x376fcf=>{var _0x45fa75=_0x55bb21;_0x16ef07[_0x45fa75(0xc9)](_0x45fa75(0xb0),{'eventos':_0x376fcf,'busca':_0x4110d6['body'][_0x45fa75(0xa3)],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0x1a5d18/qtdRegistros)+0x1});})[_0x55bb21(0xba)](_0x2bdc97=>{var _0x532f94=_0x55bb21;_0x4110d6[_0x532f94(0x71)](_0x532f94(0x9b),_0x532f94(0x7c)),_0x16ef07[_0x532f94(0xbd)](_0x532f94(0xc0)+_0x2bdc97);});});else _0x16ef07[_0x50f57d(0xc9)](_0x50f57d(0xb0),{'eventos':null,'busca':_0x4110d6[_0x50f57d(0x92)][_0x50f57d(0xa3)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x59f2f3(0xb7)](_0x59f2f3(0xd6),(_0x2500fd,_0x338eeb)=>{var _0x1785bf=_0x59f2f3,_0x201936=userLogged(_0x1785bf(0x9d)),_0x14391e=[];if(_0x201936[_0x1785bf(0xc3)])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x1});if(_0x201936['gv2'])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x2});if(_0x201936[_0x1785bf(0xa0)])_0x14391e['push']({'gaveta':0x3});if(_0x201936[_0x1785bf(0xc7)])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x4});if(_0x201936[_0x1785bf(0xae)])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x5});if(_0x201936[_0x1785bf(0xb6)])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x6});if(_0x201936['gv7'])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x7});if(_0x201936[_0x1785bf(0x6f)])_0x14391e[_0x1785bf(0xa5)]({'gaveta':0x8});var _0x5f0266={};if(_0x2500fd['body'][_0x1785bf(0xb2)]==_0x1785bf(0xa9))reordenarUltimo==0x1?(reordenarUltimo=0x0,_0x5f0266={'referencia':'desc'}):(reordenarUltimo=0x1,_0x5f0266={'referencia':_0x1785bf(0xac)});else{if(_0x2500fd[_0x1785bf(0x92)][_0x1785bf(0xb2)]=='descricao')reordenarUltimo==0x2?(reordenarUltimo=0x0,_0x5f0266={'descricao':_0x1785bf(0x91)}):(reordenarUltimo=0x2,_0x5f0266={'descricao':'asc'});else{if(_0x2500fd[_0x1785bf(0x92)][_0x1785bf(0xb2)]==_0x1785bf(0xca))reordenarUltimo==0x3?(reordenarUltimo=0x0,_0x5f0266={'gaveta':_0x1785bf(0x91)}):(reordenarUltimo=0x3,_0x5f0266={'gaveta':'asc'});else{if(_0x2500fd[_0x1785bf(0x92)][_0x1785bf(0xb2)]==_0x1785bf(0x95))reordenarUltimo==0x4?(reordenarUltimo=0x0,_0x5f0266={'dataRetirada':_0x1785bf(0x91)}):(reordenarUltimo=0x4,_0x5f0266={'dataRetirada':_0x1785bf(0xac)});else{if(_0x2500fd[_0x1785bf(0x92)]['reordenar']==_0x1785bf(0x8f))reordenarUltimo==0x5?(reordenarUltimo=0x0,_0x5f0266={'horaRetirada':_0x1785bf(0x91)}):(reordenarUltimo=0x5,_0x5f0266={'horaRetirada':_0x1785bf(0xac)});else{if(_0x2500fd['body'][_0x1785bf(0xb2)]=='dataDevolucao')reordenarUltimo==0x6?(reordenarUltimo=0x0,_0x5f0266={'dataDevolucao':_0x1785bf(0x91)}):(reordenarUltimo=0x6,_0x5f0266={'dataDevolucao':'asc'});else{if(_0x2500fd[_0x1785bf(0x92)]['reordenar']==_0x1785bf(0xcb))reordenarUltimo==0x7?(reordenarUltimo=0x0,_0x5f0266={'horaDevolucao':_0x1785bf(0x91)}):(reordenarUltimo=0x7,_0x5f0266={'horaDevolucao':_0x1785bf(0xac)});else{if(_0x2500fd['body'][_0x1785bf(0xb2)]==_0x1785bf(0xc4))reordenarUltimo==0x8?(reordenarUltimo=0x0,_0x5f0266={'usuario':_0x1785bf(0x91)}):(reordenarUltimo=0x8,_0x5f0266={'usuario':_0x1785bf(0xac)});else _0x2500fd[_0x1785bf(0x92)][_0x1785bf(0xb2)]==_0x1785bf(0x99)&&(reordenarUltimo==0x9?(reordenarUltimo=0x0,_0x5f0266={'setor':_0x1785bf(0x91)}):(reordenarUltimo=0x9,_0x5f0266={'setor':_0x1785bf(0xac)}));}}}}}}}if(_0x14391e['length']>0x0)Evento[_0x1785bf(0xbf)]({'$or':_0x14391e,'descricao':new RegExp(_0x2500fd[_0x1785bf(0x92)]['dataSearch'],'i')})['countDocuments']({},function(_0x3d94f2,_0x19e944){var _0x226e74=_0x1785bf;Evento[_0x226e74(0xbf)]({'$or':_0x14391e,'descricao':new RegExp(_0x2500fd[_0x226e74(0x92)][_0x226e74(0xa3)],'i')})[_0x226e74(0xcc)]()[_0x226e74(0x77)](_0x226e74(0x96))[_0x226e74(0x79)](_0x5f0266)[_0x226e74(0xce)](qtdRegistros)[_0x226e74(0xb8)](0x0)[_0x226e74(0xb1)](_0x4df928=>{var _0xa0d7f0=_0x226e74;_0x338eeb['render'](_0xa0d7f0(0xb0),{'eventos':_0x4df928,'busca':_0x2500fd[_0xa0d7f0(0x92)][_0xa0d7f0(0xa3)],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0x19e944/qtdRegistros)+0x1});})['catch'](_0x336144=>{var _0x514591=_0x226e74;_0x2500fd[_0x514591(0x71)](_0x514591(0x9b),_0x514591(0x7c)),_0x338eeb['redirect'](_0x514591(0xc0)+_0x336144);});});else _0x338eeb[_0x1785bf(0xc9)](_0x1785bf(0xb0),{'eventos':null,'busca':_0x2500fd[_0x1785bf(0x92)][_0x1785bf(0xa3)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x59f2f3(0xaf)](_0x59f2f3(0x8b),(_0x15b8e7,_0x444ce6)=>{var _0x28d47c=_0x59f2f3,_0x436df8=userLogged(_0x28d47c(0x9d)),_0x215bf0=[];if(_0x436df8[_0x28d47c(0xc3)])_0x215bf0[_0x28d47c(0xa5)]({'gaveta':0x1});if(_0x436df8[_0x28d47c(0x90)])_0x215bf0[_0x28d47c(0xa5)]({'gaveta':0x2});if(_0x436df8[_0x28d47c(0xa0)])_0x215bf0[_0x28d47c(0xa5)]({'gaveta':0x3});if(_0x436df8[_0x28d47c(0xc7)])_0x215bf0['push']({'gaveta':0x4});if(_0x436df8['gv5'])_0x215bf0['push']({'gaveta':0x5});if(_0x436df8[_0x28d47c(0xb6)])_0x215bf0[_0x28d47c(0xa5)]({'gaveta':0x6});if(_0x436df8[_0x28d47c(0xd0)])_0x215bf0['push']({'gaveta':0x7});if(_0x436df8[_0x28d47c(0x6f)])_0x215bf0[_0x28d47c(0xa5)]({'gaveta':0x8});if(_0x215bf0[_0x28d47c(0x86)]>0x0)Ferramenta[_0x28d47c(0xbf)]({'$or':_0x215bf0})[_0x28d47c(0xcc)]()[_0x28d47c(0x77)]('ferramentas')['sort']({'_id':_0x28d47c(0xac)})[_0x28d47c(0xb1)](_0x382079=>{var _0x6a06be=_0x28d47c;_0x444ce6[_0x6a06be(0xc9)](_0x6a06be(0xad),{'ferramentas':_0x382079,'busca':'','usuario':_0x436df8});})[_0x28d47c(0xba)](_0x5639a9=>{var _0x3c8374=_0x28d47c;_0x15b8e7[_0x3c8374(0x71)](_0x3c8374(0x9b),_0x3c8374(0x7c)),_0x444ce6[_0x3c8374(0xbd)](_0x3c8374(0xc0)+_0x5639a9);});else _0x444ce6[_0x28d47c(0xc9)](_0x28d47c(0xad),{'ferramentas':null,'busca':''});}),router[_0x59f2f3(0xb7)]('/tools/buscar',(_0x29c9de,_0x3ee43a)=>{var _0x275f=_0x59f2f3,_0x26f978=userLogged(_0x275f(0x9d)),_0x56ede1=[];if(_0x26f978[_0x275f(0xc3)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x1});if(_0x26f978[_0x275f(0x90)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x2});if(_0x26f978[_0x275f(0xa0)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x3});if(_0x26f978[_0x275f(0xc7)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x4});if(_0x26f978['gv5'])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x5});if(_0x26f978[_0x275f(0xb6)])_0x56ede1['push']({'gaveta':0x6});if(_0x26f978[_0x275f(0xd0)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x7});if(_0x26f978[_0x275f(0x6f)])_0x56ede1[_0x275f(0xa5)]({'gaveta':0x8});if(_0x56ede1[_0x275f(0x86)]>0x0)Ferramenta[_0x275f(0xbf)]({'$or':_0x56ede1,'descricao':new RegExp(_0x29c9de['body']['toolSearch'],'i')})[_0x275f(0xcc)]()[_0x275f(0x77)](_0x275f(0x83))[_0x275f(0x79)]({'_id':'asc'})[_0x275f(0xb1)](_0x410013=>{var _0x132c3c=_0x275f;_0x3ee43a[_0x132c3c(0xc9)](_0x132c3c(0xad),{'ferramentas':_0x410013,'busca':_0x29c9de[_0x132c3c(0x92)][_0x132c3c(0x87)],'usuario':_0x26f978});})[_0x275f(0xba)](_0x3a9a93=>{var _0x16d08c=_0x275f;_0x29c9de[_0x16d08c(0x71)](_0x16d08c(0x9b),_0x16d08c(0x7c)),_0x3ee43a[_0x16d08c(0xbd)](_0x16d08c(0xc0)+_0x3a9a93);});else _0x3ee43a[_0x275f(0xc9)]('usuarios/tools',{'ferramentas':null,'busca':_0x29c9de[_0x275f(0x92)][_0x275f(0x87)]});}),router[_0x59f2f3(0xaf)](_0x59f2f3(0xab),(_0x53aa5c,_0x3de487)=>{var _0x43cdda=_0x59f2f3;Ferramenta[_0x43cdda(0xbf)]({'gaveta':_0x53aa5c[_0x43cdda(0xd3)]['id'],'desconhecido':0x1})[_0x43cdda(0xcc)]()[_0x43cdda(0x77)](_0x43cdda(0x83))[_0x43cdda(0x79)]({'_id':_0x43cdda(0xac)})[_0x43cdda(0xb1)](_0x48cd89=>{var _0x31d2b8=_0x43cdda;if(_0x48cd89[_0x31d2b8(0x86)]>0x0)_0x3de487[_0x31d2b8(0xc9)](_0x31d2b8(0xcf),{'ferramentas':null,'retiradas':'?'});else Ferramenta[_0x31d2b8(0xbf)]({'gaveta':_0x53aa5c[_0x31d2b8(0xd3)]['id'],'estado':0x0,'desconhecido':0x0})[_0x31d2b8(0xcc)]()[_0x31d2b8(0x77)]('ferramentas')[_0x31d2b8(0x79)]({'_id':_0x31d2b8(0xac)})[_0x31d2b8(0xb1)](_0x2ea11e=>{var _0x27a5ae=_0x31d2b8;_0x3de487[_0x27a5ae(0xc9)](_0x27a5ae(0xcf),{'ferramentas':_0x2ea11e,'retiradas':-_0x2ea11e[_0x27a5ae(0x86)]});})[_0x31d2b8(0xba)](_0x50e804=>{var _0xcd52d0=_0x31d2b8;_0x53aa5c['flash'](_0xcd52d0(0x9b),_0xcd52d0(0x7c)),_0x3de487[_0xcd52d0(0xbd)](_0xcd52d0(0xc0)+_0x50e804);});})[_0x43cdda(0xba)](_0x23d74a=>{var _0x6ecf78=_0x43cdda;_0x53aa5c[_0x6ecf78(0x71)](_0x6ecf78(0x9b),'Houve\x20um\x20erro\x20interno'),_0x3de487['redirect']('/404?data='+_0x23d74a);});});function _0x4b1d(){var _0x2df82d=['Deslogado\x20com\x20sucesso!','model','exports','gv6','post','skip','4pFvYVZ','catch','usuarios/composicao','8NDsrEn','redirect','341300uCupVP','find','/404?data=','1kEaoao','/documentacao','gv1','usuario','local','usuarios/teladesligar','gv4','/historico/skipp','render','gaveta','horaDevolucao','lean','/usuarios/login/','limit','usuarios/retiradas','gv7','countDocuments','mongoose','params','/usuarios','rfid','/historico/reordenar','usuarios/main','/historico/buscar','gv8','usuarios/login','flash','/login/:nome','nome','rfid:\x20','resetUserdata','2402397eVdELH','populate','/historico/skipm','sort','insertUserdata','Router','Houve\x20um\x20erro\x20interno','/gaveta','180988gpNQpe','Nenhuma\x20ferramenta\x20selecionada','A\x20gaveta\x20não\x20pode\x20ser\x20acessada\x20pelo\x20usuário','/login','passport','ferramentas','express','../routes/userLogged','length','toolSearch','log','132RYFPxl','/historico','/tools','/gaveta:gaveta','4480259YvUUBP','authenticate','horaRetirada','gv2','desc','body','/compGaveta:gaveta','success_msg','dataRetirada','eventos','gav','../models/Evento','setor','/teladesligar','error_msg','/usuarios/tools','showUserdata','275RlGOHo','11401128oeiFbo','gv3','../helpers/logado','926682JkXYDW','dataSearch','user','push','../models/Ferramenta','/composicao','140605LtWYuB','referencia','usuarios/gaveta','/retiradas:id','asc','usuarios/tools','gv5','get','usuarios/historico','then','reordenar'];_0x4b1d=function(){return _0x2df82d;};return _0x4b1d();}const fs=require('fs');router[_0x59f2f3(0xaf)]('/usermanual',(_0x500b3a,_0x35e979,_0x41384b)=>{var _0x2ed009=_0x59f2f3;_0x35e979[_0x2ed009(0xc9)]('usuarios/usermanual');}),router['post'](_0x59f2f3(0xc2),(_0x21789c,_0x8062d1,_0x5d8289)=>{var _0x1ae4a1=_0x59f2f3;_0x8062d1['render']('usuarios/documentacao',{'documentacao':_0x21789c[_0x1ae4a1(0x92)]['documentacao']});}),router[_0x59f2f3(0xaf)](_0x59f2f3(0xa7),logged,(_0x5330ff,_0x5ce0a6)=>{var _0x2c6ec7=_0x59f2f3,_0x35aa94=userLogged(_0x2c6ec7(0x9d));_0x5ce0a6[_0x2c6ec7(0xc9)](_0x2c6ec7(0xbb),{'usuario':_0x35aa94});}),router[_0x59f2f3(0xaf)]('/main',logged,(_0x86514d,_0x348134)=>{var _0xe700a5=_0x59f2f3;userLogged(_0xe700a5(0x7a),_0x86514d[_0xe700a5(0xa4)]);var _0x3ed497=userLogged('showUserdata'),_0x1d342d=[];if(_0x3ed497[_0xe700a5(0xc3)])_0x1d342d[_0xe700a5(0xa5)]({'gaveta':0x1});if(_0x3ed497['gv2'])_0x1d342d[_0xe700a5(0xa5)]({'gaveta':0x2});if(_0x3ed497[_0xe700a5(0xa0)])_0x1d342d['push']({'gaveta':0x3});if(_0x3ed497[_0xe700a5(0xc7)])_0x1d342d['push']({'gaveta':0x4});if(_0x3ed497['gv5'])_0x1d342d['push']({'gaveta':0x5});if(_0x3ed497[_0xe700a5(0xb6)])_0x1d342d[_0xe700a5(0xa5)]({'gaveta':0x6});if(_0x3ed497[_0xe700a5(0xd0)])_0x1d342d['push']({'gaveta':0x7});if(_0x3ed497[_0xe700a5(0x6f)])_0x1d342d[_0xe700a5(0xa5)]({'gaveta':0x8});if(_0x1d342d[_0xe700a5(0x86)]>0x0)Evento[_0xe700a5(0xbf)]({'$or':_0x1d342d})[_0xe700a5(0xcc)]()['populate'](_0xe700a5(0x96))['sort']({'_id':_0xe700a5(0x91)})['limit'](0xf)[_0xe700a5(0xb1)](_0x28ef71=>{var _0x9640ac=_0xe700a5;_0x348134[_0x9640ac(0xc9)](_0x9640ac(0xd7),{'eventos':_0x28ef71,'usuario':_0x3ed497});})['catch'](_0x529309=>{var _0x45e5b1=_0xe700a5;_0x86514d[_0x45e5b1(0x71)](_0x45e5b1(0x9b),'Houve\x20um\x20erro\x20interno'),_0x348134[_0x45e5b1(0xbd)]('/404?data='+_0x529309);});else _0x348134[_0xe700a5(0xc9)](_0xe700a5(0xd7),{'eventos':null,'usuario':_0x3ed497});}),router['get'](_0x59f2f3(0x93),logged,(_0x32ba81,_0x5f5267)=>{var _0x8a7b05=_0x59f2f3,_0x197ea9=userLogged(_0x8a7b05(0x9d)),_0x17b6f7=[];if(_0x197ea9[_0x8a7b05(0xc3)])_0x17b6f7[_0x8a7b05(0xa5)]('1');else _0x17b6f7['push']('0');if(_0x197ea9['gv2'])_0x17b6f7[_0x8a7b05(0xa5)]('1');else _0x17b6f7[_0x8a7b05(0xa5)]('0');if(_0x197ea9['gv3'])_0x17b6f7['push']('1');else _0x17b6f7[_0x8a7b05(0xa5)]('0');if(_0x197ea9[_0x8a7b05(0xc7)])_0x17b6f7[_0x8a7b05(0xa5)]('1');else _0x17b6f7['push']('0');if(_0x197ea9['gv5'])_0x17b6f7[_0x8a7b05(0xa5)]('1');else _0x17b6f7['push']('0');if(_0x197ea9[_0x8a7b05(0xb6)])_0x17b6f7['push']('1');else _0x17b6f7[_0x8a7b05(0xa5)]('0');if(_0x197ea9[_0x8a7b05(0xd0)])_0x17b6f7['push']('1');else _0x17b6f7['push']('0');if(_0x197ea9[_0x8a7b05(0x6f)])_0x17b6f7[_0x8a7b05(0xa5)]('1');else _0x17b6f7[_0x8a7b05(0xa5)]('0');_0x17b6f7[_0x32ba81[_0x8a7b05(0xd3)][_0x8a7b05(0xca)]-0x1]==0x1?Ferramenta[_0x8a7b05(0xbf)]({'gaveta':_0x32ba81[_0x8a7b05(0xd3)][_0x8a7b05(0xca)]})[_0x8a7b05(0xcc)]()['populate'](_0x8a7b05(0x83))[_0x8a7b05(0x79)]({'_id':_0x8a7b05(0xac)})['then'](_0x2b4c2b=>{var _0x1165f0=_0x8a7b05;_0x5f5267[_0x1165f0(0xc9)]('usuarios/gaveta',{'gaveta':_0x32ba81[_0x1165f0(0xd3)][_0x1165f0(0xca)],'usuario':_0x197ea9,'ferramentas':_0x2b4c2b,'pgBack':0x2});})[_0x8a7b05(0xba)](_0x47b2f5=>{var _0xb4e030=_0x8a7b05;_0x32ba81[_0xb4e030(0x71)](_0xb4e030(0x9b),'Houve\x20um\x20erro\x20interno'),_0x5f5267['redirect']('/404?data='+_0x47b2f5);}):(_0x32ba81['flash'](_0x8a7b05(0x9b),_0x8a7b05(0x80)),_0x5f5267['redirect'](_0x8a7b05(0xc0)+err));}),router[_0x59f2f3(0xaf)](_0x59f2f3(0x8c),logged,(_0x4227a9,_0x5d6292)=>{var _0x56ef97=_0x59f2f3,_0x249857=userLogged(_0x56ef97(0x9d)),_0x342d5f=[];if(_0x249857[_0x56ef97(0xc3)])_0x342d5f['push']('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0x90)])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0xa0)])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0xc7)])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0xae)])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0xb6)])_0x342d5f['push']('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857[_0x56ef97(0xd0)])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f[_0x56ef97(0xa5)]('0');if(_0x249857['gv8'])_0x342d5f[_0x56ef97(0xa5)]('1');else _0x342d5f['push']('0');_0x342d5f[_0x4227a9[_0x56ef97(0xd3)][_0x56ef97(0xca)]-0x1]==0x1?Ferramenta[_0x56ef97(0xbf)]({'gaveta':_0x4227a9['params']['gaveta']})[_0x56ef97(0xcc)]()[_0x56ef97(0x77)](_0x56ef97(0x83))[_0x56ef97(0x79)]({'_id':_0x56ef97(0xac)})['then'](_0x164c0d=>{var _0x421937=_0x56ef97;_0x5d6292[_0x421937(0xc9)](_0x421937(0xaa),{'gaveta':_0x4227a9[_0x421937(0xd3)][_0x421937(0xca)],'usuario':_0x249857,'ferramentas':_0x164c0d,'pgBack':0x0});})[_0x56ef97(0xba)](_0x44f069=>{var _0x4c8f9d=_0x56ef97;_0x4227a9[_0x4c8f9d(0x71)](_0x4c8f9d(0x9b),_0x4c8f9d(0x7c)),_0x5d6292[_0x4c8f9d(0xbd)](_0x4c8f9d(0xc0)+_0x44f069);}):(_0x4227a9[_0x56ef97(0x71)]('error_msg',_0x56ef97(0x80)),_0x5d6292[_0x56ef97(0xbd)](_0x56ef97(0xc0)+err));}),router['post'](_0x59f2f3(0x7d),logged,(_0x1f4fb6,_0x4acffc)=>{var _0x34f816=_0x59f2f3,_0x51028f=userLogged(_0x34f816(0x9d)),_0x139a4e=[];if(_0x51028f['gv1'])_0x139a4e['push']('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f['gv2'])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f['gv3'])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f[_0x34f816(0xc7)])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f[_0x34f816(0xae)])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f[_0x34f816(0xb6)])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e[_0x34f816(0xa5)]('0');if(_0x51028f[_0x34f816(0xd0)])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e['push']('0');if(_0x51028f[_0x34f816(0x6f)])_0x139a4e[_0x34f816(0xa5)]('1');else _0x139a4e['push']('0');!_0x1f4fb6[_0x34f816(0x92)][_0x34f816(0x97)]?(_0x1f4fb6[_0x34f816(0x71)]('error_msg',_0x34f816(0x7f)),_0x4acffc[_0x34f816(0xbd)](_0x34f816(0x9c))):_0x139a4e[_0x1f4fb6['body'][_0x34f816(0x97)]-0x1]==0x1?Ferramenta['find']({'gaveta':_0x1f4fb6[_0x34f816(0x92)][_0x34f816(0x97)]})[_0x34f816(0xcc)]()[_0x34f816(0x77)]('ferramentas')[_0x34f816(0x79)]({'_id':_0x34f816(0xac)})[_0x34f816(0xb1)](_0xbf55ff=>{var _0xd8831d=_0x34f816;_0x4acffc[_0xd8831d(0xc9)](_0xd8831d(0xaa),{'gaveta':_0x1f4fb6['body'][_0xd8831d(0x97)],'usuario':_0x51028f,'ferramentas':_0xbf55ff,'pgBack':0x1});})['catch'](_0x546f1f=>{var _0x4a88a0=_0x34f816;_0x1f4fb6[_0x4a88a0(0x71)](_0x4a88a0(0x9b),_0x4a88a0(0x7c)),_0x4acffc[_0x4a88a0(0xbd)](_0x4a88a0(0xc0)+_0x546f1f);}):(_0x1f4fb6['flash'](_0x34f816(0x9b),'A\x20gaveta\x20não\x20pode\x20ser\x20acessada\x20pelo\x20usuário'),_0x4acffc['redirect'](_0x34f816(0xc0)+err));}),router['get']('/logout',(_0x36bee0,_0x1b6890)=>{var _0x360689=_0x59f2f3;_0x36bee0['logout'](function(_0xcac398){if(_0xcac398)return next(_0xcac398);}),userLogged(_0x360689(0x75)),_0x36bee0[_0x360689(0x71)](_0x360689(0x94),_0x360689(0xb3)),_0x1b6890['redirect']('/');}),router[_0x59f2f3(0xb7)](_0x59f2f3(0x81),(_0x54c3c2,_0x23b4e5,_0x506a5a)=>{var _0x5093f9=_0x59f2f3;console[_0x5093f9(0x88)](_0x5093f9(0x74)+_0x54c3c2[_0x5093f9(0x92)][_0x5093f9(0xd5)]),passport['authenticate'](_0x5093f9(0xc5),{'successRedirect':'/usuarios/main','failureRedirect':_0x5093f9(0xcd)+_0x54c3c2[_0x5093f9(0x92)][_0x5093f9(0x73)],'failureFlash':!![]})(_0x54c3c2,_0x23b4e5,_0x506a5a);}),router[_0x59f2f3(0xb7)]('/loginrfid',(_0x6888b5,_0xfbb88f,_0x1a9068)=>{var _0x3730df=_0x59f2f3;passport[_0x3730df(0x8e)](_0x3730df(0xc5),{'successRedirect':'/usuarios/main','failureRedirect':_0x3730df(0xd4),'failureFlash':!![]})(_0x6888b5,_0xfbb88f,_0x1a9068);}),module[_0x59f2f3(0xb5)]=router;