var _0x1eb429=_0x52c2;(function(_0x2764ea,_0x1ce2c6){var _0x43bd40=_0x52c2,_0x2ef6f0=_0x2764ea();while(!![]){try{var _0x4906e2=-parseInt(_0x43bd40(0x1f7))/0x1*(-parseInt(_0x43bd40(0x23a))/0x2)+-parseInt(_0x43bd40(0x220))/0x3*(parseInt(_0x43bd40(0x206))/0x4)+-parseInt(_0x43bd40(0x221))/0x5+-parseInt(_0x43bd40(0x23d))/0x6*(parseInt(_0x43bd40(0x225))/0x7)+-parseInt(_0x43bd40(0x22e))/0x8*(parseInt(_0x43bd40(0x237))/0x9)+parseInt(_0x43bd40(0x226))/0xa+parseInt(_0x43bd40(0x200))/0xb;if(_0x4906e2===_0x1ce2c6)break;else _0x2ef6f0['push'](_0x2ef6f0['shift']());}catch(_0x146c03){_0x2ef6f0['push'](_0x2ef6f0['shift']());}}}(_0x36cb,0x91425));const express=require('express'),router=express[_0x1eb429(0x240)](),mongoose=require(_0x1eb429(0x25b));require('../models/Evento');const Evento=mongoose[_0x1eb429(0x204)]('eventos');require('../models/Ferramenta');const Ferramenta=mongoose['model'](_0x1eb429(0x20d));var userLogged=require(_0x1eb429(0x22c)),FuncSenha=require(_0x1eb429(0x248));function _0x36cb(){var _0x4fe51e=['gv4','/login','gv5','find','dataSearch','render','get','gv2','/historico/skipp','login','success_msg','/usuarios/main','usuarios/retiradas','gv3','3thINNu','4007300lpAxeA','local','populate','A\x20gaveta\x20não\x20pode\x20ser\x20acessada\x20pelo\x20usuário','4515ZUyxLp','6789270AxRsRq','/historico/buscar','body','dataDevolucao','post','exports','../routes/userLogged','passport','1040872uMQtyO','logout','usuarios/documentacao','usuarios/composicao','usuarios/tools','/tools','/documentacao','/loginblocked','descricao','63HUhtXe','then','Deslogado\x20com\x20sucesso!','356QehVFu','/loginrfid','push','8682hozsHa','gv6','/usuarios','Router','insertUserdata','reordenar','error_msg','resetTentativas','authenticate','countDocuments','referencia','../routes/senha','/retiradas:id','asc','/usuarios/loginblocked','catch','usuario','toolSearch','/tools/buscar','user','/composicao','/compGaveta:gaveta','showUserdata','usuarios/gaveta','skip','configuracoes','usuarios/teladesligar','redirect','gv1','usuarios/historico','mongoose','documentacao','/404?data=','limit','/usermanual','000000000000000000000001','horaRetirada','/historico/reordenar','5783TUQpVg','lean','usuarios/login','gav','horaDevolucao','flash','resetUserdata','gv7','gv8','19323656cFdrrQ','Houve\x20um\x20erro\x20interno','usuarios/main','/gaveta','model','setor','897912hTyysd','gaveta','/logout','length','desc','Nenhuma\x20ferramenta\x20selecionada','eventos','ferramentas','params','/historico/skipm','findOne','sort'];_0x36cb=function(){return _0x4fe51e;};return _0x36cb();}require('../models/Configuracoes');function _0x52c2(_0x15a8a9,_0x3f1902){var _0x36cb05=_0x36cb();return _0x52c2=function(_0x52c244,_0x1aef6f){_0x52c244=_0x52c244-0x1f1;var _0x36cc85=_0x36cb05[_0x52c244];return _0x36cc85;},_0x52c2(_0x15a8a9,_0x3f1902);}const Configuracao=mongoose[_0x1eb429(0x204)](_0x1eb429(0x256)),passport=require(_0x1eb429(0x22d)),{logged}=require('../helpers/logado');var reordenarUltimo=0x0;router['get']('/login/:login',(_0x1b1fc9,_0xaed18c,_0x4b5665)=>{var _0x32a9af=_0x1eb429;_0xaed18c[_0x32a9af(0x217)](_0x32a9af(0x1f9),{'login':_0x1b1fc9[_0x32a9af(0x20e)]['login']});}),router[_0x1eb429(0x218)]('/login',(_0x37c36f,_0x5543e8,_0x51f1c1)=>{var _0x3845b4=_0x1eb429;_0x5543e8[_0x3845b4(0x217)]('usuarios/login');}),router['get'](_0x1eb429(0x235),(_0x37b970,_0x9169c8,_0x4dac5d)=>{var _0x53c595=_0x1eb429;Configuracao[_0x53c595(0x210)]({'_id':_0x53c595(0x1f4)})[_0x53c595(0x1f8)]()[_0x53c595(0x223)](_0x53c595(0x256))[_0x53c595(0x238)](_0x4c439b=>{var _0x577869=_0x53c595;_0x9169c8[_0x577869(0x217)]('usuarios/loginblocked',{'configuracoes':_0x4c439b});})[_0x53c595(0x24c)](_0x3f5276=>{var _0x42b6eb=_0x53c595;_0x37b970[_0x42b6eb(0x1fc)](_0x42b6eb(0x243),_0x42b6eb(0x201)),_0x9169c8[_0x42b6eb(0x258)](_0x42b6eb(0x1f1)+_0x3f5276);});}),router[_0x1eb429(0x218)]('/teladesligar',(_0x43e088,_0x4df3f5,_0x4d9232)=>{var _0x85fa6=_0x1eb429;_0x4df3f5[_0x85fa6(0x217)](_0x85fa6(0x257));});var qtdRegistros=0x64;router[_0x1eb429(0x218)]('/historico',(_0x12cbab,_0x5dbe50)=>{var _0x25941f=_0x1eb429,_0x30e4bd=userLogged('showUserdata'),_0x4c3bda=[];reordenarUltimo=0x0;if(_0x30e4bd[_0x25941f(0x259)])_0x4c3bda['push']({'gaveta':0x1});if(_0x30e4bd[_0x25941f(0x219)])_0x4c3bda[_0x25941f(0x23c)]({'gaveta':0x2});if(_0x30e4bd['gv3'])_0x4c3bda['push']({'gaveta':0x3});if(_0x30e4bd[_0x25941f(0x212)])_0x4c3bda[_0x25941f(0x23c)]({'gaveta':0x4});if(_0x30e4bd[_0x25941f(0x214)])_0x4c3bda['push']({'gaveta':0x5});if(_0x30e4bd[_0x25941f(0x23e)])_0x4c3bda[_0x25941f(0x23c)]({'gaveta':0x6});if(_0x30e4bd[_0x25941f(0x1fe)])_0x4c3bda['push']({'gaveta':0x7});if(_0x30e4bd[_0x25941f(0x1ff)])_0x4c3bda[_0x25941f(0x23c)]({'gaveta':0x8});if(_0x4c3bda[_0x25941f(0x209)]>0x0)Evento['countDocuments']({'$or':_0x4c3bda},function(_0x539184,_0x596c59){var _0x665690=_0x25941f;Evento[_0x665690(0x215)]({'$or':_0x4c3bda})['lean']()[_0x665690(0x223)](_0x665690(0x20c))[_0x665690(0x211)]({'_id':_0x665690(0x20a)})[_0x665690(0x1f2)](qtdRegistros)[_0x665690(0x255)](0x0)[_0x665690(0x238)](_0x1323a6=>{var _0x3687d3=_0x665690;_0x5dbe50['render'](_0x3687d3(0x25a),{'eventos':_0x1323a6,'busca':'','skip':0x0,'pgi':0x1,'pgf':parseInt(_0x596c59/qtdRegistros)+0x1});})[_0x665690(0x24c)](_0x278736=>{var _0x1582d9=_0x665690;_0x12cbab[_0x1582d9(0x1fc)](_0x1582d9(0x243),'Houve\x20um\x20erro\x20interno'),_0x5dbe50[_0x1582d9(0x258)](_0x1582d9(0x1f1)+_0x278736);});});else _0x5dbe50[_0x25941f(0x217)](_0x25941f(0x25a),{'eventos':null,'busca':'','skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x1eb429(0x22a)](_0x1eb429(0x20f),(_0x14b4f5,_0x110e87)=>{var _0x1c3ee3=_0x1eb429,_0x3a7b17=userLogged(_0x1c3ee3(0x253)),_0x523c96=[];if(_0x3a7b17[_0x1c3ee3(0x259)])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x1});if(_0x3a7b17[_0x1c3ee3(0x219)])_0x523c96['push']({'gaveta':0x2});if(_0x3a7b17[_0x1c3ee3(0x21f)])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x3});if(_0x3a7b17[_0x1c3ee3(0x212)])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x4});if(_0x3a7b17[_0x1c3ee3(0x214)])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x5});if(_0x3a7b17[_0x1c3ee3(0x23e)])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x6});if(_0x3a7b17[_0x1c3ee3(0x1fe)])_0x523c96['push']({'gaveta':0x7});if(_0x3a7b17['gv8'])_0x523c96[_0x1c3ee3(0x23c)]({'gaveta':0x8});if(_0x523c96[_0x1c3ee3(0x209)]>0x0)Evento[_0x1c3ee3(0x215)]({'$or':_0x523c96,'descricao':new RegExp(_0x14b4f5[_0x1c3ee3(0x228)]['dataSearch'],'i')})['countDocuments']({},function(_0x150078,_0x1c4a83){var _0x2192c5=_0x1c3ee3,_0x2dc9f1=Number(_0x14b4f5[_0x2192c5(0x228)]['skip'])-qtdRegistros;if(_0x2dc9f1<0x0)_0x2dc9f1=0x0;Evento[_0x2192c5(0x215)]({'$or':_0x523c96,'descricao':new RegExp(_0x14b4f5[_0x2192c5(0x228)][_0x2192c5(0x216)],'i')})['lean']()[_0x2192c5(0x223)]('eventos')[_0x2192c5(0x211)]({'_id':_0x2192c5(0x20a)})[_0x2192c5(0x1f2)](qtdRegistros)['skip'](_0x2dc9f1)[_0x2192c5(0x238)](_0x4051b3=>{var _0x3a3d2e=_0x2192c5;_0x110e87[_0x3a3d2e(0x217)](_0x3a3d2e(0x25a),{'eventos':_0x4051b3,'busca':_0x14b4f5[_0x3a3d2e(0x228)][_0x3a3d2e(0x216)],'skip':_0x2dc9f1,'pgi':parseInt(_0x2dc9f1/qtdRegistros)+0x1,'pgf':parseInt(_0x1c4a83/qtdRegistros)+0x1});})[_0x2192c5(0x24c)](_0x482d49=>{var _0x2c0083=_0x2192c5;_0x14b4f5['flash'](_0x2c0083(0x243),_0x2c0083(0x201)),_0x110e87[_0x2c0083(0x258)]('/404?data='+_0x482d49);});});else _0x110e87[_0x1c3ee3(0x217)](_0x1c3ee3(0x25a),{'eventos':null,'busca':_0x14b4f5[_0x1c3ee3(0x228)]['dataSearch'],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x1eb429(0x22a)](_0x1eb429(0x21a),(_0x5a6b0e,_0x152c15)=>{var _0x3424c9=_0x1eb429,_0x1ceada=userLogged(_0x3424c9(0x253)),_0x588ac2=[];if(_0x1ceada[_0x3424c9(0x259)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x1});if(_0x1ceada[_0x3424c9(0x219)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x2});if(_0x1ceada[_0x3424c9(0x21f)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x3});if(_0x1ceada[_0x3424c9(0x212)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x4});if(_0x1ceada[_0x3424c9(0x214)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x5});if(_0x1ceada[_0x3424c9(0x23e)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x6});if(_0x1ceada[_0x3424c9(0x1fe)])_0x588ac2[_0x3424c9(0x23c)]({'gaveta':0x7});if(_0x1ceada[_0x3424c9(0x1ff)])_0x588ac2['push']({'gaveta':0x8});if(_0x588ac2[_0x3424c9(0x209)]>0x0)Evento[_0x3424c9(0x215)]({'$or':_0x588ac2,'descricao':new RegExp(_0x5a6b0e[_0x3424c9(0x228)][_0x3424c9(0x216)],'i')})['countDocuments']({},function(_0x599631,_0x1c1080){var _0x2a223f=_0x3424c9,_0x3ac03b=Number(_0x5a6b0e[_0x2a223f(0x228)]['skip'])+qtdRegistros;if(_0x3ac03b>_0x1c1080)_0x3ac03b=_0x3ac03b-qtdRegistros;Evento[_0x2a223f(0x215)]({'$or':_0x588ac2,'descricao':new RegExp(_0x5a6b0e[_0x2a223f(0x228)][_0x2a223f(0x216)],'i')})[_0x2a223f(0x1f8)]()[_0x2a223f(0x223)](_0x2a223f(0x20c))[_0x2a223f(0x211)]({'_id':_0x2a223f(0x20a)})[_0x2a223f(0x1f2)](qtdRegistros)[_0x2a223f(0x255)](_0x3ac03b)[_0x2a223f(0x238)](_0x132f7d=>{var _0x3d72bb=_0x2a223f;_0x152c15[_0x3d72bb(0x217)](_0x3d72bb(0x25a),{'eventos':_0x132f7d,'busca':_0x5a6b0e[_0x3d72bb(0x228)][_0x3d72bb(0x216)],'skip':_0x3ac03b,'pgi':parseInt(_0x3ac03b/qtdRegistros)+0x1,'pgf':parseInt(_0x1c1080/qtdRegistros)+0x1});})[_0x2a223f(0x24c)](_0x46c252=>{var _0x361e3c=_0x2a223f;_0x5a6b0e['flash']('error_msg',_0x361e3c(0x201)),_0x152c15[_0x361e3c(0x258)]('/404?data='+_0x46c252);});});else _0x152c15[_0x3424c9(0x217)](_0x3424c9(0x25a),{'eventos':null,'busca':_0x5a6b0e[_0x3424c9(0x228)][_0x3424c9(0x216)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router['post'](_0x1eb429(0x227),(_0x7710e3,_0x5a39af)=>{var _0x2cbba9=_0x1eb429,_0x2fb884=userLogged(_0x2cbba9(0x253)),_0x5bcf18=[];reordenarUltimo=0x0;if(_0x2fb884[_0x2cbba9(0x259)])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x1});if(_0x2fb884[_0x2cbba9(0x219)])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x2});if(_0x2fb884[_0x2cbba9(0x21f)])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x3});if(_0x2fb884['gv4'])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x4});if(_0x2fb884['gv5'])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x5});if(_0x2fb884[_0x2cbba9(0x23e)])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x6});if(_0x2fb884[_0x2cbba9(0x1fe)])_0x5bcf18['push']({'gaveta':0x7});if(_0x2fb884[_0x2cbba9(0x1ff)])_0x5bcf18[_0x2cbba9(0x23c)]({'gaveta':0x8});if(_0x5bcf18['length']>0x0)Evento[_0x2cbba9(0x215)]({'$or':_0x5bcf18,'descricao':new RegExp(_0x7710e3[_0x2cbba9(0x228)][_0x2cbba9(0x216)],'i')})[_0x2cbba9(0x246)]({},function(_0x407c49,_0x2bfbbe){var _0x22e87f=_0x2cbba9;Evento[_0x22e87f(0x215)]({'$or':_0x5bcf18,'descricao':new RegExp(_0x7710e3[_0x22e87f(0x228)][_0x22e87f(0x216)],'i')})[_0x22e87f(0x1f8)]()[_0x22e87f(0x223)](_0x22e87f(0x20c))[_0x22e87f(0x211)]({'_id':_0x22e87f(0x20a)})['limit'](qtdRegistros)[_0x22e87f(0x255)](0x0)['then'](_0x281812=>{var _0x39986d=_0x22e87f;_0x5a39af[_0x39986d(0x217)]('usuarios/historico',{'eventos':_0x281812,'busca':_0x7710e3[_0x39986d(0x228)][_0x39986d(0x216)],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0x2bfbbe/qtdRegistros)+0x1});})['catch'](_0x49b324=>{var _0x223791=_0x22e87f;_0x7710e3[_0x223791(0x1fc)](_0x223791(0x243),_0x223791(0x201)),_0x5a39af['redirect']('/404?data='+_0x49b324);});});else _0x5a39af[_0x2cbba9(0x217)](_0x2cbba9(0x25a),{'eventos':null,'busca':_0x7710e3[_0x2cbba9(0x228)][_0x2cbba9(0x216)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x1eb429(0x22a)](_0x1eb429(0x1f6),(_0x1bd27d,_0x5b35a8)=>{var _0x56ed30=_0x1eb429,_0x5857c8=userLogged(_0x56ed30(0x253)),_0x43131c=[];if(_0x5857c8[_0x56ed30(0x259)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x1});if(_0x5857c8[_0x56ed30(0x219)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x2});if(_0x5857c8[_0x56ed30(0x21f)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x3});if(_0x5857c8[_0x56ed30(0x212)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x4});if(_0x5857c8[_0x56ed30(0x214)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x5});if(_0x5857c8[_0x56ed30(0x23e)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x6});if(_0x5857c8[_0x56ed30(0x1fe)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x7});if(_0x5857c8[_0x56ed30(0x1ff)])_0x43131c[_0x56ed30(0x23c)]({'gaveta':0x8});var _0x4e8b4c={};if(_0x1bd27d[_0x56ed30(0x228)]['reordenar']==_0x56ed30(0x247))reordenarUltimo==0x1?(reordenarUltimo=0x0,_0x4e8b4c={'referencia':'desc'}):(reordenarUltimo=0x1,_0x4e8b4c={'referencia':_0x56ed30(0x24a)});else{if(_0x1bd27d['body'][_0x56ed30(0x242)]==_0x56ed30(0x236))reordenarUltimo==0x2?(reordenarUltimo=0x0,_0x4e8b4c={'descricao':_0x56ed30(0x20a)}):(reordenarUltimo=0x2,_0x4e8b4c={'descricao':_0x56ed30(0x24a)});else{if(_0x1bd27d['body'][_0x56ed30(0x242)]==_0x56ed30(0x207))reordenarUltimo==0x3?(reordenarUltimo=0x0,_0x4e8b4c={'gaveta':'desc'}):(reordenarUltimo=0x3,_0x4e8b4c={'gaveta':_0x56ed30(0x24a)});else{if(_0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x242)]=='dataRetirada')reordenarUltimo==0x4?(reordenarUltimo=0x0,_0x4e8b4c={'dataRetirada':'desc'}):(reordenarUltimo=0x4,_0x4e8b4c={'dataRetirada':_0x56ed30(0x24a)});else{if(_0x1bd27d[_0x56ed30(0x228)]['reordenar']==_0x56ed30(0x1f5))reordenarUltimo==0x5?(reordenarUltimo=0x0,_0x4e8b4c={'horaRetirada':_0x56ed30(0x20a)}):(reordenarUltimo=0x5,_0x4e8b4c={'horaRetirada':'asc'});else{if(_0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x242)]==_0x56ed30(0x229))reordenarUltimo==0x6?(reordenarUltimo=0x0,_0x4e8b4c={'dataDevolucao':_0x56ed30(0x20a)}):(reordenarUltimo=0x6,_0x4e8b4c={'dataDevolucao':_0x56ed30(0x24a)});else{if(_0x1bd27d['body']['reordenar']==_0x56ed30(0x1fb))reordenarUltimo==0x7?(reordenarUltimo=0x0,_0x4e8b4c={'horaDevolucao':_0x56ed30(0x20a)}):(reordenarUltimo=0x7,_0x4e8b4c={'horaDevolucao':_0x56ed30(0x24a)});else{if(_0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x242)]==_0x56ed30(0x24d))reordenarUltimo==0x8?(reordenarUltimo=0x0,_0x4e8b4c={'usuario':_0x56ed30(0x20a)}):(reordenarUltimo=0x8,_0x4e8b4c={'usuario':'asc'});else _0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x242)]==_0x56ed30(0x205)&&(reordenarUltimo==0x9?(reordenarUltimo=0x0,_0x4e8b4c={'setor':'desc'}):(reordenarUltimo=0x9,_0x4e8b4c={'setor':_0x56ed30(0x24a)}));}}}}}}}if(_0x43131c[_0x56ed30(0x209)]>0x0)Evento[_0x56ed30(0x215)]({'$or':_0x43131c,'descricao':new RegExp(_0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x216)],'i')})['countDocuments']({},function(_0x17f3a2,_0x546df7){var _0x62b53b=_0x56ed30;Evento[_0x62b53b(0x215)]({'$or':_0x43131c,'descricao':new RegExp(_0x1bd27d[_0x62b53b(0x228)]['dataSearch'],'i')})[_0x62b53b(0x1f8)]()[_0x62b53b(0x223)](_0x62b53b(0x20c))['sort'](_0x4e8b4c)[_0x62b53b(0x1f2)](qtdRegistros)['skip'](0x0)[_0x62b53b(0x238)](_0x1f8474=>{var _0x4f5027=_0x62b53b;_0x5b35a8[_0x4f5027(0x217)]('usuarios/historico',{'eventos':_0x1f8474,'busca':_0x1bd27d[_0x4f5027(0x228)][_0x4f5027(0x216)],'skip':0x0,'pgi':0x1,'pgf':parseInt(_0x546df7/qtdRegistros)+0x1});})[_0x62b53b(0x24c)](_0x1bb8cb=>{var _0x5a68f1=_0x62b53b;_0x1bd27d[_0x5a68f1(0x1fc)](_0x5a68f1(0x243),_0x5a68f1(0x201)),_0x5b35a8[_0x5a68f1(0x258)](_0x5a68f1(0x1f1)+_0x1bb8cb);});});else _0x5b35a8[_0x56ed30(0x217)](_0x56ed30(0x25a),{'eventos':null,'busca':_0x1bd27d[_0x56ed30(0x228)][_0x56ed30(0x216)],'skip':0x0,'pgi':0x1,'pgf':0x1});}),router[_0x1eb429(0x218)](_0x1eb429(0x233),(_0x347213,_0x46d2f0)=>{var _0x241646=_0x1eb429,_0xfa6d07=userLogged(_0x241646(0x253)),_0x4bbcdf=[];if(_0xfa6d07[_0x241646(0x259)])_0x4bbcdf[_0x241646(0x23c)]({'gaveta':0x1});if(_0xfa6d07[_0x241646(0x219)])_0x4bbcdf['push']({'gaveta':0x2});if(_0xfa6d07[_0x241646(0x21f)])_0x4bbcdf['push']({'gaveta':0x3});if(_0xfa6d07['gv4'])_0x4bbcdf['push']({'gaveta':0x4});if(_0xfa6d07[_0x241646(0x214)])_0x4bbcdf['push']({'gaveta':0x5});if(_0xfa6d07[_0x241646(0x23e)])_0x4bbcdf[_0x241646(0x23c)]({'gaveta':0x6});if(_0xfa6d07['gv7'])_0x4bbcdf['push']({'gaveta':0x7});if(_0xfa6d07[_0x241646(0x1ff)])_0x4bbcdf[_0x241646(0x23c)]({'gaveta':0x8});if(_0x4bbcdf['length']>0x0)Ferramenta[_0x241646(0x215)]({'$or':_0x4bbcdf})[_0x241646(0x1f8)]()[_0x241646(0x223)](_0x241646(0x20d))[_0x241646(0x211)]({'_id':_0x241646(0x24a)})[_0x241646(0x238)](_0x408385=>{var _0x50efcf=_0x241646;_0x46d2f0[_0x50efcf(0x217)](_0x50efcf(0x232),{'ferramentas':_0x408385,'busca':'','usuario':_0xfa6d07});})[_0x241646(0x24c)](_0x3f2c10=>{var _0x44ce25=_0x241646;_0x347213[_0x44ce25(0x1fc)](_0x44ce25(0x243),_0x44ce25(0x201)),_0x46d2f0['redirect']('/404?data='+_0x3f2c10);});else _0x46d2f0[_0x241646(0x217)](_0x241646(0x232),{'ferramentas':null,'busca':''});}),router[_0x1eb429(0x22a)](_0x1eb429(0x24f),(_0x1b3db6,_0x394d45)=>{var _0xd46b2f=_0x1eb429,_0x236c4a=userLogged(_0xd46b2f(0x253)),_0x13ca48=[];if(_0x236c4a[_0xd46b2f(0x259)])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x1});if(_0x236c4a['gv2'])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x2});if(_0x236c4a[_0xd46b2f(0x21f)])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x3});if(_0x236c4a[_0xd46b2f(0x212)])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x4});if(_0x236c4a[_0xd46b2f(0x214)])_0x13ca48['push']({'gaveta':0x5});if(_0x236c4a[_0xd46b2f(0x23e)])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x6});if(_0x236c4a['gv7'])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x7});if(_0x236c4a[_0xd46b2f(0x1ff)])_0x13ca48[_0xd46b2f(0x23c)]({'gaveta':0x8});if(_0x13ca48[_0xd46b2f(0x209)]>0x0)Ferramenta[_0xd46b2f(0x215)]({'$or':_0x13ca48,'descricao':new RegExp(_0x1b3db6[_0xd46b2f(0x228)]['toolSearch'],'i')})[_0xd46b2f(0x1f8)]()['populate'](_0xd46b2f(0x20d))['sort']({'_id':_0xd46b2f(0x24a)})[_0xd46b2f(0x238)](_0x1233ff=>{var _0x5f4df1=_0xd46b2f;_0x394d45[_0x5f4df1(0x217)](_0x5f4df1(0x232),{'ferramentas':_0x1233ff,'busca':_0x1b3db6[_0x5f4df1(0x228)][_0x5f4df1(0x24e)],'usuario':_0x236c4a});})[_0xd46b2f(0x24c)](_0x5b3b15=>{var _0x1a591b=_0xd46b2f;_0x1b3db6[_0x1a591b(0x1fc)](_0x1a591b(0x243),'Houve\x20um\x20erro\x20interno'),_0x394d45[_0x1a591b(0x258)](_0x1a591b(0x1f1)+_0x5b3b15);});else _0x394d45[_0xd46b2f(0x217)](_0xd46b2f(0x232),{'ferramentas':null,'busca':_0x1b3db6[_0xd46b2f(0x228)]['toolSearch']});}),router[_0x1eb429(0x218)](_0x1eb429(0x249),(_0x2275d7,_0x478db9)=>{var _0x18e659=_0x1eb429;Ferramenta[_0x18e659(0x215)]({'gaveta':_0x2275d7[_0x18e659(0x20e)]['id'],'desconhecido':0x1})[_0x18e659(0x1f8)]()[_0x18e659(0x223)](_0x18e659(0x20d))[_0x18e659(0x211)]({'_id':_0x18e659(0x24a)})[_0x18e659(0x238)](_0x3725d7=>{var _0x26a56d=_0x18e659;if(_0x3725d7['length']>0x0)_0x478db9['render'](_0x26a56d(0x21e),{'ferramentas':null,'retiradas':'?'});else Ferramenta[_0x26a56d(0x215)]({'gaveta':_0x2275d7[_0x26a56d(0x20e)]['id'],'estado':0x0,'desconhecido':0x0})[_0x26a56d(0x1f8)]()[_0x26a56d(0x223)]('ferramentas')[_0x26a56d(0x211)]({'_id':'asc'})[_0x26a56d(0x238)](_0x5a5c81=>{var _0x490886=_0x26a56d;_0x478db9['render']('usuarios/retiradas',{'ferramentas':_0x5a5c81,'retiradas':-_0x5a5c81[_0x490886(0x209)]});})[_0x26a56d(0x24c)](_0x45fded=>{var _0x50ac28=_0x26a56d;_0x2275d7[_0x50ac28(0x1fc)](_0x50ac28(0x243),'Houve\x20um\x20erro\x20interno'),_0x478db9[_0x50ac28(0x258)](_0x50ac28(0x1f1)+_0x45fded);});})[_0x18e659(0x24c)](_0x27ec23=>{var _0x4a3b5e=_0x18e659;_0x2275d7[_0x4a3b5e(0x1fc)](_0x4a3b5e(0x243),_0x4a3b5e(0x201)),_0x478db9[_0x4a3b5e(0x258)](_0x4a3b5e(0x1f1)+_0x27ec23);});});const fs=require('fs');router[_0x1eb429(0x218)](_0x1eb429(0x1f3),(_0x3de43b,_0x857b07,_0x527660)=>{var _0xb31855=_0x1eb429;_0x857b07[_0xb31855(0x217)]('usuarios/usermanual');}),router[_0x1eb429(0x22a)](_0x1eb429(0x234),(_0x5d1aa8,_0x5c6559,_0x131d96)=>{var _0x5169f1=_0x1eb429;_0x5c6559['render'](_0x5169f1(0x230),{'documentacao':_0x5d1aa8['body'][_0x5169f1(0x25c)]});}),router[_0x1eb429(0x218)](_0x1eb429(0x251),logged,(_0x129b13,_0x5d6924)=>{var _0xcba1e9=_0x1eb429,_0x48b352=userLogged('showUserdata');_0x5d6924[_0xcba1e9(0x217)](_0xcba1e9(0x231),{'usuario':_0x48b352});}),router[_0x1eb429(0x218)]('/main',logged,(_0x26fd5d,_0x8ab02b)=>{var _0x5934eb=_0x1eb429;userLogged(_0x5934eb(0x241),_0x26fd5d[_0x5934eb(0x250)]);var _0x4e8db1=userLogged(_0x5934eb(0x253)),_0x329fec=[];if(_0x4e8db1['gv1'])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x1});if(_0x4e8db1[_0x5934eb(0x219)])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x2});if(_0x4e8db1['gv3'])_0x329fec['push']({'gaveta':0x3});if(_0x4e8db1[_0x5934eb(0x212)])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x4});if(_0x4e8db1['gv5'])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x5});if(_0x4e8db1['gv6'])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x6});if(_0x4e8db1[_0x5934eb(0x1fe)])_0x329fec[_0x5934eb(0x23c)]({'gaveta':0x7});if(_0x4e8db1['gv8'])_0x329fec['push']({'gaveta':0x8});if(_0x329fec[_0x5934eb(0x209)]>0x0)Evento[_0x5934eb(0x215)]({'$or':_0x329fec})[_0x5934eb(0x1f8)]()[_0x5934eb(0x223)](_0x5934eb(0x20c))['sort']({'_id':_0x5934eb(0x20a)})[_0x5934eb(0x1f2)](0xf)[_0x5934eb(0x238)](_0x539602=>{var _0x3dd077=_0x5934eb;_0x8ab02b[_0x3dd077(0x217)](_0x3dd077(0x202),{'eventos':_0x539602,'usuario':_0x4e8db1});})['catch'](_0x4aecdb=>{var _0x42bc4d=_0x5934eb;_0x26fd5d[_0x42bc4d(0x1fc)]('error_msg',_0x42bc4d(0x201)),_0x8ab02b[_0x42bc4d(0x258)](_0x42bc4d(0x1f1)+_0x4aecdb);});else _0x8ab02b[_0x5934eb(0x217)](_0x5934eb(0x202),{'eventos':null,'usuario':_0x4e8db1});}),router['get'](_0x1eb429(0x252),logged,(_0x132c49,_0x3ed118)=>{var _0x14218f=_0x1eb429,_0x22707c=userLogged(_0x14218f(0x253)),_0x397bd8=[];if(_0x22707c[_0x14218f(0x259)])_0x397bd8['push']('1');else _0x397bd8[_0x14218f(0x23c)]('0');if(_0x22707c[_0x14218f(0x219)])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8[_0x14218f(0x23c)]('0');if(_0x22707c[_0x14218f(0x21f)])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8[_0x14218f(0x23c)]('0');if(_0x22707c[_0x14218f(0x212)])_0x397bd8['push']('1');else _0x397bd8['push']('0');if(_0x22707c[_0x14218f(0x214)])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8[_0x14218f(0x23c)]('0');if(_0x22707c[_0x14218f(0x23e)])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8['push']('0');if(_0x22707c[_0x14218f(0x1fe)])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8[_0x14218f(0x23c)]('0');if(_0x22707c['gv8'])_0x397bd8[_0x14218f(0x23c)]('1');else _0x397bd8[_0x14218f(0x23c)]('0');_0x397bd8[_0x132c49[_0x14218f(0x20e)][_0x14218f(0x207)]-0x1]==0x1?Ferramenta[_0x14218f(0x215)]({'gaveta':_0x132c49[_0x14218f(0x20e)][_0x14218f(0x207)]})[_0x14218f(0x1f8)]()[_0x14218f(0x223)]('ferramentas')['sort']({'_id':_0x14218f(0x24a)})['then'](_0x4716a4=>{var _0x45969a=_0x14218f;_0x3ed118[_0x45969a(0x217)](_0x45969a(0x254),{'gaveta':_0x132c49['params'][_0x45969a(0x207)],'usuario':_0x22707c,'ferramentas':_0x4716a4,'pgBack':0x2});})[_0x14218f(0x24c)](_0x4b2d57=>{var _0x38ca15=_0x14218f;_0x132c49[_0x38ca15(0x1fc)]('error_msg',_0x38ca15(0x201)),_0x3ed118[_0x38ca15(0x258)](_0x38ca15(0x1f1)+_0x4b2d57);}):(_0x132c49[_0x14218f(0x1fc)](_0x14218f(0x243),_0x14218f(0x224)),_0x3ed118['redirect'](_0x14218f(0x1f1)+err));}),router['get']('/gaveta:gaveta',logged,(_0x4a0ee6,_0x779a6f)=>{var _0x45f1dd=_0x1eb429,_0x2563c3=userLogged(_0x45f1dd(0x253)),_0x330095=[];if(_0x2563c3[_0x45f1dd(0x259)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');if(_0x2563c3['gv2'])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');if(_0x2563c3[_0x45f1dd(0x21f)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');if(_0x2563c3[_0x45f1dd(0x212)])_0x330095['push']('1');else _0x330095['push']('0');if(_0x2563c3[_0x45f1dd(0x214)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');if(_0x2563c3[_0x45f1dd(0x23e)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095['push']('0');if(_0x2563c3[_0x45f1dd(0x1fe)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');if(_0x2563c3[_0x45f1dd(0x1ff)])_0x330095[_0x45f1dd(0x23c)]('1');else _0x330095[_0x45f1dd(0x23c)]('0');_0x330095[_0x4a0ee6[_0x45f1dd(0x20e)][_0x45f1dd(0x207)]-0x1]==0x1?Ferramenta[_0x45f1dd(0x215)]({'gaveta':_0x4a0ee6[_0x45f1dd(0x20e)][_0x45f1dd(0x207)]})[_0x45f1dd(0x1f8)]()[_0x45f1dd(0x223)](_0x45f1dd(0x20d))[_0x45f1dd(0x211)]({'_id':_0x45f1dd(0x24a)})[_0x45f1dd(0x238)](_0x315a10=>{var _0x2acebb=_0x45f1dd;_0x779a6f[_0x2acebb(0x217)](_0x2acebb(0x254),{'gaveta':_0x4a0ee6['params'][_0x2acebb(0x207)],'usuario':_0x2563c3,'ferramentas':_0x315a10,'pgBack':0x0});})[_0x45f1dd(0x24c)](_0x4ecf1d=>{var _0x2c62a8=_0x45f1dd;_0x4a0ee6['flash'](_0x2c62a8(0x243),'Houve\x20um\x20erro\x20interno'),_0x779a6f[_0x2c62a8(0x258)](_0x2c62a8(0x1f1)+_0x4ecf1d);}):(_0x4a0ee6[_0x45f1dd(0x1fc)]('error_msg','A\x20gaveta\x20não\x20pode\x20ser\x20acessada\x20pelo\x20usuário'),_0x779a6f[_0x45f1dd(0x258)](_0x45f1dd(0x1f1)+err));}),router[_0x1eb429(0x22a)](_0x1eb429(0x203),logged,(_0x2cc130,_0x15c6f0)=>{var _0x390fc=_0x1eb429,_0x3bffbe=userLogged('showUserdata'),_0x280252=[];if(_0x3bffbe['gv1'])_0x280252['push']('1');else _0x280252[_0x390fc(0x23c)]('0');if(_0x3bffbe[_0x390fc(0x219)])_0x280252[_0x390fc(0x23c)]('1');else _0x280252['push']('0');if(_0x3bffbe['gv3'])_0x280252[_0x390fc(0x23c)]('1');else _0x280252[_0x390fc(0x23c)]('0');if(_0x3bffbe[_0x390fc(0x212)])_0x280252[_0x390fc(0x23c)]('1');else _0x280252[_0x390fc(0x23c)]('0');if(_0x3bffbe[_0x390fc(0x214)])_0x280252['push']('1');else _0x280252['push']('0');if(_0x3bffbe[_0x390fc(0x23e)])_0x280252[_0x390fc(0x23c)]('1');else _0x280252[_0x390fc(0x23c)]('0');if(_0x3bffbe[_0x390fc(0x1fe)])_0x280252['push']('1');else _0x280252[_0x390fc(0x23c)]('0');if(_0x3bffbe[_0x390fc(0x1ff)])_0x280252[_0x390fc(0x23c)]('1');else _0x280252[_0x390fc(0x23c)]('0');!_0x2cc130[_0x390fc(0x228)][_0x390fc(0x1fa)]?(_0x2cc130[_0x390fc(0x1fc)](_0x390fc(0x243),_0x390fc(0x20b)),_0x15c6f0['redirect']('/usuarios/tools')):_0x280252[_0x2cc130['body'][_0x390fc(0x1fa)]-0x1]==0x1?Ferramenta[_0x390fc(0x215)]({'gaveta':_0x2cc130[_0x390fc(0x228)][_0x390fc(0x1fa)]})[_0x390fc(0x1f8)]()[_0x390fc(0x223)](_0x390fc(0x20d))[_0x390fc(0x211)]({'_id':_0x390fc(0x24a)})[_0x390fc(0x238)](_0x45300a=>{var _0x238606=_0x390fc;_0x15c6f0[_0x238606(0x217)]('usuarios/gaveta',{'gaveta':_0x2cc130['body'][_0x238606(0x1fa)],'usuario':_0x3bffbe,'ferramentas':_0x45300a,'pgBack':0x1});})[_0x390fc(0x24c)](_0x54ea19=>{var _0x4a41df=_0x390fc;_0x2cc130[_0x4a41df(0x1fc)](_0x4a41df(0x243),_0x4a41df(0x201)),_0x15c6f0['redirect'](_0x4a41df(0x1f1)+_0x54ea19);}):(_0x2cc130['flash'](_0x390fc(0x243),_0x390fc(0x224)),_0x15c6f0[_0x390fc(0x258)](_0x390fc(0x1f1)+err));}),router[_0x1eb429(0x218)](_0x1eb429(0x208),(_0x238ed5,_0x532764)=>{var _0x51d93f=_0x1eb429;_0x238ed5[_0x51d93f(0x22f)](function(_0x3b5b64){if(_0x3b5b64)return next(_0x3b5b64);}),userLogged(_0x51d93f(0x1fd)),_0x238ed5[_0x51d93f(0x1fc)](_0x51d93f(0x21c),_0x51d93f(0x239)),_0x532764[_0x51d93f(0x258)]('/');}),router[_0x1eb429(0x22a)](_0x1eb429(0x213),(_0x45fee3,_0x49f655,_0x434c5b)=>{var _0x596519=_0x1eb429;FuncSenha('showTentativas')<0x4?passport[_0x596519(0x245)](_0x596519(0x222),{'successRedirect':_0x596519(0x21d),'failureRedirect':'/usuarios/login/'+_0x45fee3[_0x596519(0x228)][_0x596519(0x21b)],'failureFlash':!![]})(_0x45fee3,_0x49f655,_0x434c5b):(setTimeout(()=>{FuncSenha('resetTentativas');},0x1f4),passport['authenticate'](_0x596519(0x222),{'successRedirect':_0x596519(0x21d),'failureRedirect':_0x596519(0x24b),'failureFlash':!![]})(_0x45fee3,_0x49f655,_0x434c5b));}),router['post'](_0x1eb429(0x23b),(_0x5cf856,_0x11150b,_0xb66c1a)=>{var _0x1d288e=_0x1eb429;FuncSenha(_0x1d288e(0x244)),passport[_0x1d288e(0x245)](_0x1d288e(0x222),{'successRedirect':_0x1d288e(0x21d),'failureRedirect':_0x1d288e(0x23f),'failureFlash':!![]})(_0x5cf856,_0x11150b,_0xb66c1a);}),module[_0x1eb429(0x22b)]=router;