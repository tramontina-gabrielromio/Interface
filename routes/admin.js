const _0x25f2ac=_0x4419;(function(_0x2654ad,_0x4daec0){const _0x47071e=_0x4419,_0x5d1c83=_0x2654ad();while(!![]){try{const _0xf1ce80=-parseInt(_0x47071e(0x113))/0x1+-parseInt(_0x47071e(0x169))/0x2+-parseInt(_0x47071e(0x13e))/0x3*(parseInt(_0x47071e(0x17e))/0x4)+parseInt(_0x47071e(0x17a))/0x5*(-parseInt(_0x47071e(0x141))/0x6)+-parseInt(_0x47071e(0x175))/0x7*(parseInt(_0x47071e(0x16d))/0x8)+-parseInt(_0x47071e(0x178))/0x9*(-parseInt(_0x47071e(0x138))/0xa)+parseInt(_0x47071e(0x12a))/0xb*(parseInt(_0x47071e(0x145))/0xc);if(_0xf1ce80===_0x4daec0)break;else _0x5d1c83['push'](_0x5d1c83['shift']());}catch(_0x483a43){_0x5d1c83['push'](_0x5d1c83['shift']());}}}(_0x119d,0x59fc0));const express=require('express'),router=express[_0x25f2ac(0x137)](),mongoose=require(_0x25f2ac(0x179));require(_0x25f2ac(0x180));const Usuario=mongoose[_0x25f2ac(0x154)](_0x25f2ac(0x157));require(_0x25f2ac(0x167));const Ferramenta=mongoose[_0x25f2ac(0x154)](_0x25f2ac(0x16b)),bcrypt=require(_0x25f2ac(0x149)),passport=require(_0x25f2ac(0x158)),{admin}=require(_0x25f2ac(0x133)),Schema=mongoose[_0x25f2ac(0x160)];require('../models/DadosTeste');const DadosTeste=mongoose[_0x25f2ac(0x154)]('dadosTestes');require(_0x25f2ac(0x112));const Configuracao=mongoose['model'](_0x25f2ac(0x11a)),wifi=require(_0x25f2ac(0x11f));wifi[_0x25f2ac(0x15b)]({'iface':null}),router[_0x25f2ac(0x125)](_0x25f2ac(0x165),admin,(_0x2b0ee4,_0x5d7ff3)=>{const _0x5c7497=_0x25f2ac;_0x5d7ff3[_0x5c7497(0x13d)](_0x5c7497(0x119));}),router['get']('/acessoremoto',admin,(_0x3b4ecb,_0x53a56d)=>{const _0x30ce6d=_0x25f2ac;_0x53a56d[_0x30ce6d(0x13d)](_0x30ce6d(0x136));}),router[_0x25f2ac(0x125)](_0x25f2ac(0x131),admin,(_0x2beb01,_0x1ae583)=>{const _0x26d5d9=_0x25f2ac;Configuracao[_0x26d5d9(0x115)]({'_id':_0x26d5d9(0x181)})['lean']()[_0x26d5d9(0x15c)](_0x26d5d9(0x11a))[_0x26d5d9(0x147)](_0x10ceb6=>{const _0x2afa3c=_0x26d5d9;if(_0x10ceb6)_0x1ae583[_0x2afa3c(0x13d)](_0x2afa3c(0x13b),{'configuracoes':_0x10ceb6});else{console['log']('Lista\x20de\x20configurações\x20vazia...');const _0x46f351={'fechamento':0x0,'cartao':0x0,'desligamento':0x0,'email':'-','dataRelatorio':'0'};_0x1ae583[_0x2afa3c(0x13d)]('admin/options',{'configuracoes':_0x46f351});}})[_0x26d5d9(0x168)](_0x5d107e=>{const _0x1c23fe=_0x26d5d9;_0x2beb01['flash'](_0x1c23fe(0x14f),_0x1c23fe(0x151)),_0x1ae583['redirect'](_0x1c23fe(0x174)+_0x5d107e);});}),router[_0x25f2ac(0x125)](_0x25f2ac(0x10f),admin,(_0x3615ef,_0x1b3df8)=>{const _0x293b0b=_0x25f2ac;_0x1b3df8[_0x293b0b(0x13d)]('admin/testes');}),router['get'](_0x25f2ac(0x129),admin,(_0x2a1461,_0x1f3da9)=>{const _0x2e9ea7=_0x25f2ac;_0x1f3da9[_0x2e9ea7(0x13d)]('admin/atualizacao');}),router[_0x25f2ac(0x125)](_0x25f2ac(0x12e),admin,(_0xff49a8,_0x5899a3)=>{wifi['getCurrentConnections']((_0x150025,_0x1e4ad6)=>{const _0x42e168=_0x4419;if(_0x1e4ad6[_0x42e168(0x171)]>0x0){var _0x48644c=String(_0x1e4ad6[0x0][_0x42e168(0x156)]);_0x1e4ad6[0x0]['frequency']=_0x48644c[0x0]+','+_0x48644c[0x1];if(_0x1e4ad6[0x0][_0x42e168(0x159)]>=-0x3c)_0x1e4ad6[0x0]['signal_level']=0x4;else{if(_0x1e4ad6[0x0][_0x42e168(0x159)]>=-0x46)_0x1e4ad6[0x0][_0x42e168(0x159)]=0x3;else{if(_0x1e4ad6[0x0]['signal_level']>=-0x50)_0x1e4ad6[0x0][_0x42e168(0x159)]=0x2;else _0x1e4ad6[0x0][_0x42e168(0x159)]=0x1;}}_0x5899a3[_0x42e168(0x13d)](_0x42e168(0x163),{'network':_0x1e4ad6['slice'](0x0,0x1),'conectado':0x1});}else wifi[_0x42e168(0x16c)]((_0x3ec866,_0xe7d941)=>{const _0x4374bd=_0x42e168;if(_0x3ec866)console[_0x4374bd(0x13f)](_0x3ec866);else _0x5899a3[_0x4374bd(0x13d)](_0x4374bd(0x163),{'network':agrupaWifi(_0xe7d941),'conectado':0x0});});});});function _0x119d(){const _0x97846=['652410cifeBL','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20cartão\x20RFID','Nenhum\x20usuário\x20selecionado','Nome\x20inválido','188iHBJiQ','push','../models/Usuario','000000000000000000000001','nivel:\x20','/admin/useroptions','setor','Senha\x20inválida','/testes','O\x20usuário\x20selecionado\x20não\x20pode\x20ser\x20excluido','/edituser/editar/salvar','../models/Configuracoes','422594kwWsln','/admin/adduser','findOne','ssid','Houve\x20um\x20erro\x20ao\x20editar\x20o\x20usuario','gv7','admin/useroptions','configuracoes','senha','/edituser','desc','nome','node-wifi','/todasgvhistorico','nivel','gv8','Login\x20inválido','Erro\x20ao\x20editar\x20o\x20usuario:\x20','get','admin/gavetaespecifica','gv5','gv1','/atualizacao','114730AEptMb','/admin/edituser','dadosTestes','exports','/wifi','/edituser/deletar','Setor\x20inválido','/options','_id','../helpers/administrador','/todasgavetas','Usuario\x20deletado\x20com\x20sucesso!','admin/acessoremoto','Router','10ZyJilz','asc','login','admin/options','A\x20senha\x20deve\x20conter\x204\x20caracteres','render','27597TEzoPE','log','admin/editar','18mXdsnl','success_msg','gv3','lean','2388LdzIFK','body','then','find','bcryptjs','save','admin/todasgavetas','/adduser','flash','rfid','error_msg','redirect','Houve\x20um\x20erro\x20interno','Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20login','model','admin/gvespecificahistorico','frequency','usuarios','passport','signal_level','/edituser/buscar','init','populate','admin/edituser','forEach','O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres','Schema','admin/adduser','/edituser/editar','admin/wifi','post','/useroptions','sort','../models/Ferramenta','catch','1410324vEXzWQ','Usuario\x20editado\x20com\x20sucesso!','ferramentas','scan','1374680JuGTXZ','userLogin','gv6','gv2','length','gv4','genSalt','/404?data=','14FYCgxU','admin/todasgvhistorico','hash','5294079qBNFsd','mongoose'];_0x119d=function(){return _0x97846;};return _0x119d();}function agrupaWifi(_0x51ba58){const _0x404c98=_0x25f2ac;var _0x17d2e9=new Array(),_0x2da8cb=0x0;return _0x51ba58['forEach'](function(_0x4ef375,_0x4d6153){const _0x48bd48=_0x4419;if(_0x4ef375[_0x48bd48(0x159)]>=-0x3c)_0x4ef375[_0x48bd48(0x159)]=0x4;else{if(_0x4ef375[_0x48bd48(0x159)]>=-0x46)_0x4ef375['signal_level']=0x3;else{if(_0x4ef375['signal_level']>=-0x50)_0x4ef375[_0x48bd48(0x159)]=0x2;else _0x4ef375[_0x48bd48(0x159)]=0x1;}}var _0x218173=0x0;_0x17d2e9[_0x48bd48(0x15e)](function(_0x5d1cb9,_0x14d5f6){const _0x186681=_0x48bd48;if(_0x5d1cb9[_0x186681(0x116)]==_0x4ef375[_0x186681(0x116)]){_0x218173=0x1;if(_0x4ef375[_0x186681(0x159)]>_0x5d1cb9[_0x186681(0x159)])_0x5d1cb9[_0x186681(0x159)]=_0x4ef375[_0x186681(0x159)];}}),_0x218173==0x0&&(_0x17d2e9[_0x2da8cb]={'ssid':_0x4ef375[_0x48bd48(0x116)],'security':_0x4ef375['security'],'signal_level':_0x4ef375[_0x48bd48(0x159)]},_0x2da8cb=_0x2da8cb+0x1);}),console[_0x404c98(0x13f)](_0x17d2e9),_0x17d2e9;}router['get']('/gavetaespecifica',admin,(_0x46fb1e,_0x263af0)=>{const _0x4958e3=_0x25f2ac;_0x263af0[_0x4958e3(0x13d)](_0x4958e3(0x126));}),router[_0x25f2ac(0x125)]('/gvespecificahistorico',admin,(_0x31bef1,_0x7b06c9)=>{const _0x522219=_0x25f2ac;DadosTeste['find']({'tipo':0x0})[_0x522219(0x144)]()['populate'](_0x522219(0x12c))[_0x522219(0x166)]({'_id':_0x522219(0x11d)})[_0x522219(0x147)](_0x5b3952=>{const _0x53f0f3=_0x522219;_0x7b06c9['render'](_0x53f0f3(0x155),{'eventos':_0x5b3952});})[_0x522219(0x168)](_0x259c31=>{const _0xb7c797=_0x522219;_0x31bef1['flash'](_0xb7c797(0x14f),_0xb7c797(0x151)),_0x7b06c9['redirect']('/404?data='+_0x259c31);});}),router['get'](_0x25f2ac(0x120),admin,(_0x52f1a1,_0x58c613)=>{const _0x2f4ad9=_0x25f2ac;DadosTeste[_0x2f4ad9(0x148)]({'tipo':0x1})['lean']()[_0x2f4ad9(0x15c)](_0x2f4ad9(0x12c))[_0x2f4ad9(0x166)]({'_id':_0x2f4ad9(0x11d)})[_0x2f4ad9(0x147)](_0x2a5c80=>{const _0x4028bc=_0x2f4ad9;_0x58c613[_0x4028bc(0x13d)](_0x4028bc(0x176),{'eventos':_0x2a5c80});})[_0x2f4ad9(0x168)](_0xb0609a=>{const _0x39b5ad=_0x2f4ad9;_0x52f1a1['flash'](_0x39b5ad(0x14f),_0x39b5ad(0x151)),_0x58c613[_0x39b5ad(0x150)](_0x39b5ad(0x174)+_0xb0609a);});}),router[_0x25f2ac(0x125)](_0x25f2ac(0x134),admin,(_0x1c7717,_0x4c8440)=>{const _0x3372f8=_0x25f2ac;_0x4c8440[_0x3372f8(0x13d)](_0x3372f8(0x14b));}),router[_0x25f2ac(0x125)](_0x25f2ac(0x14c),admin,(_0x1cd83e,_0xaf8bba)=>{const _0x137d10=_0x25f2ac;_0xaf8bba[_0x137d10(0x13d)]('admin/adduser');}),router[_0x25f2ac(0x125)](_0x25f2ac(0x11c),admin,(_0x25f1c5,_0x598bfb)=>{const _0x2cf433=_0x25f2ac;Usuario[_0x2cf433(0x148)]({'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]})[_0x2cf433(0x144)]()[_0x2cf433(0x15c)](_0x2cf433(0x157))['sort']({'login':_0x2cf433(0x139)})[_0x2cf433(0x147)](_0x4ae0ec=>{const _0x137152=_0x2cf433;_0x598bfb['render'](_0x137152(0x15d),{'usuarios':_0x4ae0ec,'busca':''});})['catch'](_0x2526e0=>{const _0x74a11d=_0x2cf433;_0x25f1c5[_0x74a11d(0x14d)](_0x74a11d(0x14f),_0x74a11d(0x151)),_0x598bfb[_0x74a11d(0x150)](_0x74a11d(0x174)+_0x2526e0);});}),router[_0x25f2ac(0x164)](_0x25f2ac(0x15a),admin,(_0x4c4508,_0x3da218)=>{const _0x5b7624=_0x25f2ac;Usuario['find']({'$and':[{'login':new RegExp(_0x4c4508[_0x5b7624(0x146)][_0x5b7624(0x16e)],'i')},{'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]}]})[_0x5b7624(0x144)]()[_0x5b7624(0x15c)](_0x5b7624(0x157))['sort']({'login':'asc'})[_0x5b7624(0x147)](_0x71d559=>{const _0x1cfbc7=_0x5b7624;_0x3da218[_0x1cfbc7(0x13d)](_0x1cfbc7(0x15d),{'usuarios':_0x71d559,'busca':_0x4c4508[_0x1cfbc7(0x146)][_0x1cfbc7(0x16e)]});})[_0x5b7624(0x168)](_0x1dba8f=>{const _0x50bf99=_0x5b7624;_0x4c4508[_0x50bf99(0x14d)]('error_msg',_0x50bf99(0x151)),_0x3da218[_0x50bf99(0x150)](_0x50bf99(0x174)+_0x1dba8f);});});function isNumber(_0x1acf71){return!isNaN(parseFloat(_0x1acf71))&&isFinite(_0x1acf71);}function _0x4419(_0x5b6d42,_0x55507d){const _0x119dd2=_0x119d();return _0x4419=function(_0x441927,_0x33cf42){_0x441927=_0x441927-0x10c;let _0x13e4fe=_0x119dd2[_0x441927];return _0x13e4fe;},_0x4419(_0x5b6d42,_0x55507d);}router[_0x25f2ac(0x164)](_0x25f2ac(0x14c),admin,(_0x22c255,_0x5e752a)=>{const _0x2be06a=_0x25f2ac;var _0x1a0042=[];(!_0x22c255['body'][_0x2be06a(0x11e)]||typeof _0x22c255['body'][_0x2be06a(0x11e)]==undefined||typeof _0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11e)]==null)&&_0x1a0042[_0x2be06a(0x17f)]({'texto':_0x2be06a(0x17d)});(!_0x22c255['body'][_0x2be06a(0x10d)]||typeof _0x22c255[_0x2be06a(0x146)]['setor']==undefined||typeof _0x22c255[_0x2be06a(0x146)][_0x2be06a(0x10d)]==null)&&_0x1a0042[_0x2be06a(0x17f)]({'texto':_0x2be06a(0x130)});if(_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x13a)][_0x2be06a(0x171)]>0xf)_0x1a0042[_0x2be06a(0x17f)]({'texto':'O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres'});else(!_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x13a)]||typeof _0x22c255[_0x2be06a(0x146)]['login']==undefined||typeof _0x22c255[_0x2be06a(0x146)][_0x2be06a(0x13a)]==null)&&_0x1a0042[_0x2be06a(0x17f)]({'texto':_0x2be06a(0x123)});if(_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11b)]['length']<0x4||_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11b)][_0x2be06a(0x171)]>0x4)_0x1a0042[_0x2be06a(0x17f)]({'texto':'A\x20senha\x20deve\x20conter\x204\x20caracteres'});else{if(!isNumber(_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11b)]))_0x1a0042[_0x2be06a(0x17f)]({'texto':'A\x20senha\x20deve\x20conter\x20apenas\x20números'});else(!_0x22c255['body'][_0x2be06a(0x11b)]||typeof _0x22c255['body'][_0x2be06a(0x11b)]==undefined||typeof _0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11b)]==null)&&_0x1a0042['push']({'texto':_0x2be06a(0x10e)});}if(_0x1a0042[_0x2be06a(0x171)]>0x0){var _0x1d78de=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x1d78de['nome']=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x11e)],_0x1d78de[_0x2be06a(0x10d)]=_0x22c255['body'][_0x2be06a(0x10d)],_0x1d78de[_0x2be06a(0x13a)]=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x13a)],_0x1d78de[_0x2be06a(0x14e)]=_0x22c255['body'][_0x2be06a(0x14e)],_0x1d78de[_0x2be06a(0x128)]=_0x22c255['body'][_0x2be06a(0x128)],_0x1d78de['gv2']=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x170)],_0x1d78de[_0x2be06a(0x143)]=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x143)],_0x1d78de[_0x2be06a(0x172)]=_0x22c255[_0x2be06a(0x146)]['gv4'],_0x1d78de[_0x2be06a(0x127)]=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x127)],_0x1d78de['gv6']=_0x22c255[_0x2be06a(0x146)]['gv6'],_0x1d78de['gv7']=_0x22c255[_0x2be06a(0x146)]['gv7'],_0x1d78de[_0x2be06a(0x122)]=_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x122)],_0x5e752a[_0x2be06a(0x13d)](_0x2be06a(0x161),{'error':_0x1a0042,'usuario':_0x1d78de});}else Usuario[_0x2be06a(0x115)]({'$or':[{'login':_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x13a)]},{'$and':[{'rfid':_0x22c255[_0x2be06a(0x146)][_0x2be06a(0x14e)]},{'rfid':{'$ne':''}}]}]})[_0x2be06a(0x147)](_0x4cb423=>{const _0x566436=_0x2be06a;if(_0x4cb423){if(_0x4cb423[_0x566436(0x13a)]==_0x22c255[_0x566436(0x146)][_0x566436(0x13a)]){_0x1a0042[_0x566436(0x17f)]({'texto':_0x566436(0x153)});var _0x197af3=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x197af3[_0x566436(0x11e)]=_0x22c255[_0x566436(0x146)]['nome'],_0x197af3[_0x566436(0x10d)]=_0x22c255[_0x566436(0x146)][_0x566436(0x10d)],_0x197af3['login']='',_0x197af3[_0x566436(0x14e)]=_0x22c255[_0x566436(0x146)][_0x566436(0x14e)],_0x197af3['gv1']=_0x22c255['body'][_0x566436(0x128)],_0x197af3[_0x566436(0x170)]=_0x22c255[_0x566436(0x146)]['gv2'],_0x197af3[_0x566436(0x143)]=_0x22c255[_0x566436(0x146)][_0x566436(0x143)],_0x197af3[_0x566436(0x172)]=_0x22c255[_0x566436(0x146)][_0x566436(0x172)],_0x197af3[_0x566436(0x127)]=_0x22c255[_0x566436(0x146)][_0x566436(0x127)],_0x197af3[_0x566436(0x16f)]=_0x22c255[_0x566436(0x146)][_0x566436(0x16f)],_0x197af3['gv7']=_0x22c255['body'][_0x566436(0x118)],_0x197af3[_0x566436(0x122)]=_0x22c255['body']['gv8'],_0x5e752a[_0x566436(0x13d)](_0x566436(0x161),{'error':_0x1a0042,'usuario':_0x197af3});}else{console[_0x566436(0x13f)]('adicionando\x205...'),_0x1a0042[_0x566436(0x17f)]({'texto':_0x566436(0x17b)});var _0x197af3=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x197af3['nome']=_0x22c255[_0x566436(0x146)][_0x566436(0x11e)],_0x197af3[_0x566436(0x10d)]=_0x22c255[_0x566436(0x146)][_0x566436(0x10d)],_0x197af3[_0x566436(0x13a)]=_0x22c255['body'][_0x566436(0x13a)],_0x197af3[_0x566436(0x14e)]='',_0x197af3[_0x566436(0x128)]=_0x22c255[_0x566436(0x146)][_0x566436(0x128)],_0x197af3[_0x566436(0x170)]=_0x22c255[_0x566436(0x146)][_0x566436(0x170)],_0x197af3[_0x566436(0x143)]=_0x22c255[_0x566436(0x146)][_0x566436(0x143)],_0x197af3[_0x566436(0x172)]=_0x22c255[_0x566436(0x146)][_0x566436(0x172)],_0x197af3['gv5']=_0x22c255['body'][_0x566436(0x127)],_0x197af3[_0x566436(0x16f)]=_0x22c255[_0x566436(0x146)][_0x566436(0x16f)],_0x197af3['gv7']=_0x22c255[_0x566436(0x146)][_0x566436(0x118)],_0x197af3[_0x566436(0x122)]=_0x22c255[_0x566436(0x146)][_0x566436(0x122)],_0x5e752a[_0x566436(0x13d)](_0x566436(0x161),{'error':_0x1a0042,'usuario':_0x197af3});}}else{const _0xef2f67=new Usuario({'nome':_0x22c255[_0x566436(0x146)][_0x566436(0x11e)],'setor':_0x22c255[_0x566436(0x146)][_0x566436(0x10d)],'login':_0x22c255[_0x566436(0x146)][_0x566436(0x13a)],'senha':_0x22c255[_0x566436(0x146)]['senha'],'rfid':_0x22c255[_0x566436(0x146)][_0x566436(0x14e)],'gv1':_0x22c255['body'][_0x566436(0x128)],'gv2':_0x22c255[_0x566436(0x146)][_0x566436(0x170)],'gv3':_0x22c255[_0x566436(0x146)]['gv3'],'gv4':_0x22c255['body']['gv4'],'gv5':_0x22c255[_0x566436(0x146)][_0x566436(0x127)],'gv6':_0x22c255[_0x566436(0x146)]['gv6'],'gv7':_0x22c255['body'][_0x566436(0x118)],'gv8':_0x22c255[_0x566436(0x146)][_0x566436(0x122)]});bcrypt[_0x566436(0x173)](0xa,(_0xe56f68,_0x5074b1)=>{bcrypt['hash'](_0xef2f67['senha'],_0x5074b1,(_0x49d59d,_0x5ca214)=>{const _0x1c3c14=_0x4419;_0x49d59d&&(_0x22c255[_0x1c3c14(0x14d)](_0x1c3c14(0x14f),'Houve\x20um\x20erro\x20durante\x20o\x20salvamento\x20do\x20usuário'),_0x5e752a[_0x1c3c14(0x150)]('/')),_0xef2f67[_0x1c3c14(0x11b)]=_0x5ca214,_0xef2f67[_0x1c3c14(0x14a)]()[_0x1c3c14(0x147)](()=>{const _0x80bae0=_0x1c3c14;_0x22c255[_0x80bae0(0x14d)](_0x80bae0(0x142),'Usuario\x20criado\x20com\x20sucesso!'),_0x5e752a['redirect'](_0x80bae0(0x10c));})[_0x1c3c14(0x168)](_0x1ec550=>{const _0xffdc0f=_0x1c3c14;_0x22c255[_0xffdc0f(0x14d)](_0xffdc0f(0x14f),'Houve\x20um\x20erro\x20ao\x20criar\x20o\x20usuário,\x20tente\x20novamente'),_0x5e752a[_0xffdc0f(0x150)](_0xffdc0f(0x114));});});});}})[_0x2be06a(0x168)](_0x4b87cf=>{const _0x5dff0d=_0x2be06a;_0x22c255[_0x5dff0d(0x14d)](_0x5dff0d(0x14f),_0x5dff0d(0x151)),_0x5e752a['redirect']('/');});}),router[_0x25f2ac(0x164)](_0x25f2ac(0x162),admin,(_0x43ca38,_0x219936)=>{const _0x1582a9=_0x25f2ac;!_0x43ca38['body'][_0x1582a9(0x13f)]?(_0x43ca38['flash']('error_msg',_0x1582a9(0x17c)),_0x219936[_0x1582a9(0x150)](_0x1582a9(0x12b))):Usuario[_0x1582a9(0x115)]({'login':_0x43ca38[_0x1582a9(0x146)][_0x1582a9(0x13f)]})['lean']()['then'](_0x3c0267=>{const _0xfd5aad=_0x1582a9;!_0x3c0267?_0x219936[_0xfd5aad(0x13d)]('admin/edituser/',{'error':error}):_0x219936[_0xfd5aad(0x13d)](_0xfd5aad(0x140),{'usuario':_0x3c0267});})[_0x1582a9(0x168)](_0x525ce5=>{const _0x2c67ac=_0x1582a9;_0x43ca38[_0x2c67ac(0x14d)](_0x2c67ac(0x14f),'Este\x20usuario\x20não\x20existe'),_0x219936[_0x2c67ac(0x150)]('/admin/edituser');});}),router[_0x25f2ac(0x164)](_0x25f2ac(0x12f),admin,(_0x5c7641,_0x585c12)=>{const _0x4dab01=_0x25f2ac;!_0x5c7641[_0x4dab01(0x146)][_0x4dab01(0x13f)]?(_0x5c7641['flash'](_0x4dab01(0x14f),_0x4dab01(0x17c)),_0x585c12[_0x4dab01(0x150)]('/admin/edituser')):_0x5c7641[_0x4dab01(0x146)][_0x4dab01(0x121)]!='2'?(console[_0x4dab01(0x13f)](_0x4dab01(0x182)+_0x5c7641[_0x4dab01(0x146)]['nivel']),Usuario['remove']({'login':_0x5c7641[_0x4dab01(0x146)][_0x4dab01(0x13f)]})['then'](()=>{const _0x1ddd4b=_0x4dab01;_0x5c7641['flash'](_0x1ddd4b(0x142),_0x1ddd4b(0x135)),_0x585c12[_0x1ddd4b(0x150)](_0x1ddd4b(0x12b));})[_0x4dab01(0x168)](_0x2d63cf=>{const _0x5964be=_0x4dab01;_0x5c7641[_0x5964be(0x14d)]('error_msg','Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20usuário'),_0x585c12[_0x5964be(0x150)](_0x5964be(0x12b));})):(_0x5c7641[_0x4dab01(0x14d)](_0x4dab01(0x14f),_0x4dab01(0x110)),_0x585c12[_0x4dab01(0x150)]('/admin/edituser'));}),router[_0x25f2ac(0x164)](_0x25f2ac(0x111),admin,(_0x481d36,_0x254361)=>{const _0x3f0bb=_0x25f2ac;var _0x1aadbd=[],_0x4c813c=0x0;(!_0x481d36['body']['nome']||typeof _0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11e)]==undefined||typeof _0x481d36['body']['nome']==null)&&_0x1aadbd[_0x3f0bb(0x17f)]({'texto':_0x3f0bb(0x17d)});(!_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x10d)]||typeof _0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x10d)]==undefined||typeof _0x481d36['body'][_0x3f0bb(0x10d)]==null)&&_0x1aadbd['push']({'texto':_0x3f0bb(0x130)});if(_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x13a)][_0x3f0bb(0x171)]>0xf)_0x1aadbd[_0x3f0bb(0x17f)]({'texto':_0x3f0bb(0x15f)});else(!_0x481d36['body'][_0x3f0bb(0x13a)]||typeof _0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x13a)]==undefined||typeof _0x481d36[_0x3f0bb(0x146)]['login']==null)&&_0x1aadbd[_0x3f0bb(0x17f)]({'texto':'Login\x20inválido'});if(_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)][_0x3f0bb(0x171)]==0x0)_0x4c813c=0x1;else{if(_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)][_0x3f0bb(0x171)]<0x4||_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)][_0x3f0bb(0x171)]>0x4)_0x1aadbd[_0x3f0bb(0x17f)]({'texto':_0x3f0bb(0x13c)});else{if(!isNumber(_0x481d36['body'][_0x3f0bb(0x11b)]))_0x1aadbd['push']({'texto':'A\x20senha\x20deve\x20conter\x20apenas\x20números'});else(!_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)]||typeof _0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)]==undefined||typeof _0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x11b)]==null)&&_0x1aadbd[_0x3f0bb(0x17f)]({'texto':'Senha\x20inválida'});}}if(_0x1aadbd[_0x3f0bb(0x171)]>0x0){var _0x1f61aa=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x1f61aa[_0x3f0bb(0x132)]=_0x481d36[_0x3f0bb(0x146)]['id'],_0x1f61aa[_0x3f0bb(0x11e)]=_0x481d36['body']['nome'],_0x1f61aa[_0x3f0bb(0x10d)]=_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x10d)],_0x1f61aa[_0x3f0bb(0x13a)]=_0x481d36['body']['login'],_0x1f61aa[_0x3f0bb(0x14e)]=_0x481d36[_0x3f0bb(0x146)]['rfid'],_0x1f61aa['gv1']=_0x481d36['body']['gv1'],_0x1f61aa[_0x3f0bb(0x170)]=_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x170)],_0x1f61aa[_0x3f0bb(0x143)]=_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x143)],_0x1f61aa[_0x3f0bb(0x172)]=_0x481d36[_0x3f0bb(0x146)]['gv4'],_0x1f61aa[_0x3f0bb(0x127)]=_0x481d36[_0x3f0bb(0x146)]['gv5'],_0x1f61aa[_0x3f0bb(0x16f)]=_0x481d36[_0x3f0bb(0x146)]['gv6'],_0x1f61aa[_0x3f0bb(0x118)]=_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x118)],_0x1f61aa[_0x3f0bb(0x122)]=_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x122)],_0x254361[_0x3f0bb(0x13d)](_0x3f0bb(0x140),{'error':_0x1aadbd,'usuario':_0x1f61aa});}else Usuario[_0x3f0bb(0x115)]({'$or':[{'$and':[{'_id':{'$ne':_0x481d36['body']['id']}},{'login':_0x481d36['body'][_0x3f0bb(0x13a)]}]},{'$and':[{'_id':{'$ne':_0x481d36[_0x3f0bb(0x146)]['id']}},{'rfid':_0x481d36[_0x3f0bb(0x146)][_0x3f0bb(0x14e)]},{'rfid':{'$ne':''}}]}]})[_0x3f0bb(0x147)](_0xdcfdc9=>{const _0x1f8c4f=_0x3f0bb;if(_0xdcfdc9){if(_0xdcfdc9[_0x1f8c4f(0x13a)]==_0x481d36[_0x1f8c4f(0x146)]['login']){_0x1aadbd[_0x1f8c4f(0x17f)]({'texto':_0x1f8c4f(0x153)});var _0x59b9d2=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x59b9d2[_0x1f8c4f(0x132)]=_0x481d36[_0x1f8c4f(0x146)]['id'],_0x59b9d2[_0x1f8c4f(0x11e)]=_0x481d36['body'][_0x1f8c4f(0x11e)],_0x59b9d2['setor']=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x10d)],_0x59b9d2[_0x1f8c4f(0x13a)]='',_0x59b9d2[_0x1f8c4f(0x14e)]=_0x481d36['body']['rfid'],_0x59b9d2[_0x1f8c4f(0x128)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x128)],_0x59b9d2[_0x1f8c4f(0x170)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x170)],_0x59b9d2['gv3']=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x143)],_0x59b9d2[_0x1f8c4f(0x172)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x172)],_0x59b9d2[_0x1f8c4f(0x127)]=_0x481d36['body'][_0x1f8c4f(0x127)],_0x59b9d2[_0x1f8c4f(0x16f)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x16f)],_0x59b9d2[_0x1f8c4f(0x118)]=_0x481d36['body'][_0x1f8c4f(0x118)],_0x59b9d2[_0x1f8c4f(0x122)]=_0x481d36[_0x1f8c4f(0x146)]['gv8'],_0x254361['render'](_0x1f8c4f(0x140),{'error':_0x1aadbd,'usuario':_0x59b9d2});}else{if(_0xdcfdc9[_0x1f8c4f(0x14e)]==_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x14e)]){_0x1aadbd[_0x1f8c4f(0x17f)]({'texto':_0x1f8c4f(0x17b)});var _0x59b9d2=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x59b9d2['_id']=_0x481d36[_0x1f8c4f(0x146)]['id'],_0x59b9d2[_0x1f8c4f(0x11e)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x11e)],_0x59b9d2[_0x1f8c4f(0x10d)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x10d)],_0x59b9d2[_0x1f8c4f(0x13a)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x13a)],_0x59b9d2['rfid']='',_0x59b9d2[_0x1f8c4f(0x128)]=_0x481d36[_0x1f8c4f(0x146)]['gv1'],_0x59b9d2[_0x1f8c4f(0x170)]=_0x481d36[_0x1f8c4f(0x146)]['gv2'],_0x59b9d2[_0x1f8c4f(0x143)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x143)],_0x59b9d2[_0x1f8c4f(0x172)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x172)],_0x59b9d2[_0x1f8c4f(0x127)]=_0x481d36['body'][_0x1f8c4f(0x127)],_0x59b9d2[_0x1f8c4f(0x16f)]=_0x481d36['body']['gv6'],_0x59b9d2['gv7']=_0x481d36[_0x1f8c4f(0x146)]['gv7'],_0x59b9d2[_0x1f8c4f(0x122)]=_0x481d36[_0x1f8c4f(0x146)][_0x1f8c4f(0x122)],_0x254361['render'](_0x1f8c4f(0x140),{'error':_0x1aadbd,'usuario':_0x59b9d2});}}}else Usuario[_0x1f8c4f(0x115)]({'_id':_0x481d36[_0x1f8c4f(0x146)]['id']})[_0x1f8c4f(0x147)](_0x31db73=>{const _0x280f39=_0x1f8c4f;_0x31db73['nome']=_0x481d36['body']['nome'],_0x31db73['setor']=_0x481d36['body'][_0x280f39(0x10d)],_0x31db73[_0x280f39(0x13a)]=_0x481d36['body'][_0x280f39(0x13a)],_0x31db73[_0x280f39(0x14e)]=_0x481d36[_0x280f39(0x146)][_0x280f39(0x14e)],_0x31db73['gv1']=_0x481d36[_0x280f39(0x146)][_0x280f39(0x128)],_0x31db73[_0x280f39(0x170)]=_0x481d36[_0x280f39(0x146)]['gv2'],_0x31db73[_0x280f39(0x143)]=_0x481d36[_0x280f39(0x146)][_0x280f39(0x143)],_0x31db73[_0x280f39(0x172)]=_0x481d36[_0x280f39(0x146)]['gv4'],_0x31db73[_0x280f39(0x127)]=_0x481d36['body'][_0x280f39(0x127)],_0x31db73[_0x280f39(0x16f)]=_0x481d36[_0x280f39(0x146)][_0x280f39(0x16f)],_0x31db73[_0x280f39(0x118)]=_0x481d36[_0x280f39(0x146)][_0x280f39(0x118)],_0x31db73[_0x280f39(0x122)]=_0x481d36[_0x280f39(0x146)][_0x280f39(0x122)],_0x4c813c==0x1?(_0x31db73[_0x280f39(0x11b)]=_0x31db73['senha'],_0x31db73[_0x280f39(0x14a)]()[_0x280f39(0x147)](()=>{const _0x351401=_0x280f39;_0x481d36[_0x351401(0x14d)](_0x351401(0x142),_0x351401(0x16a)),_0x254361[_0x351401(0x150)](_0x351401(0x12b));})[_0x280f39(0x168)](_0x176b4e=>{const _0x241349=_0x280f39;_0x481d36[_0x241349(0x14d)](_0x241349(0x14f),'Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente'),_0x254361['redirect'](_0x241349(0x12b));})):(_0x31db73[_0x280f39(0x11b)]=_0x481d36['body'][_0x280f39(0x11b)],bcrypt[_0x280f39(0x173)](0xa,(_0x480d8e,_0x25580a)=>{const _0x5bcd63=_0x280f39;bcrypt[_0x5bcd63(0x177)](_0x31db73[_0x5bcd63(0x11b)],_0x25580a,(_0x204367,_0x3f904b)=>{const _0x41f4ca=_0x5bcd63;_0x204367&&(_0x481d36['flash'](_0x41f4ca(0x14f),'Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente'),_0x254361[_0x41f4ca(0x150)]('/')),_0x31db73[_0x41f4ca(0x11b)]=_0x3f904b,_0x31db73[_0x41f4ca(0x14a)]()[_0x41f4ca(0x147)](()=>{const _0x1807a9=_0x41f4ca;_0x481d36[_0x1807a9(0x14d)](_0x1807a9(0x142),_0x1807a9(0x16a)),_0x254361[_0x1807a9(0x150)](_0x1807a9(0x12b));})['catch'](_0x84f42b=>{const _0x438ca2=_0x41f4ca;_0x481d36['flash'](_0x438ca2(0x14f),_0x438ca2(0x152)),_0x254361['redirect'](_0x438ca2(0x12b));});});}));})[_0x1f8c4f(0x168)](_0x293169=>{const _0x4a5943=_0x1f8c4f;_0x481d36[_0x4a5943(0x14d)](_0x4a5943(0x14f),_0x4a5943(0x117)),console['log'](_0x4a5943(0x124)+_0x293169),_0x254361['redirect']('/admin/edituser');});});}),module[_0x25f2ac(0x12d)]=router;