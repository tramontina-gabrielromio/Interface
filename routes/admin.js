const _0x7480d7=_0x78b8;(function(_0x95a336,_0x2b9728){const _0x45a8a2=_0x78b8,_0x48da5c=_0x95a336();while(!![]){try{const _0x6475de=parseInt(_0x45a8a2(0x20d))/0x1+parseInt(_0x45a8a2(0x1aa))/0x2*(parseInt(_0x45a8a2(0x1cc))/0x3)+parseInt(_0x45a8a2(0x1c8))/0x4*(parseInt(_0x45a8a2(0x1dc))/0x5)+parseInt(_0x45a8a2(0x1fc))/0x6+-parseInt(_0x45a8a2(0x1e1))/0x7*(-parseInt(_0x45a8a2(0x1f0))/0x8)+parseInt(_0x45a8a2(0x1b0))/0x9+parseInt(_0x45a8a2(0x1ed))/0xa*(-parseInt(_0x45a8a2(0x20a))/0xb);if(_0x6475de===_0x2b9728)break;else _0x48da5c['push'](_0x48da5c['shift']());}catch(_0x54feeb){_0x48da5c['push'](_0x48da5c['shift']());}}}(_0x2fc0,0x840b9));const express=require(_0x7480d7(0x1c4)),router=express[_0x7480d7(0x1bf)](),mongoose=require(_0x7480d7(0x1ae));require(_0x7480d7(0x204));const Usuario=mongoose[_0x7480d7(0x1ec)](_0x7480d7(0x208));require('../models/Ferramenta');const Ferramenta=mongoose['model']('ferramentas'),bcrypt=require(_0x7480d7(0x1a3)),passport=require(_0x7480d7(0x1ba)),{admin}=require(_0x7480d7(0x1d5)),Schema=mongoose[_0x7480d7(0x1c2)];require(_0x7480d7(0x1c9));const DadosTeste=mongoose[_0x7480d7(0x1ec)](_0x7480d7(0x20e));require('../models/Configuracoes');const Configuracao=mongoose[_0x7480d7(0x1ec)](_0x7480d7(0x206)),wifi=require(_0x7480d7(0x1a9));wifi[_0x7480d7(0x1d7)]({'iface':null}),router[_0x7480d7(0x1d1)]('/useroptions',admin,(_0x1a923e,_0x230902)=>{const _0x4f35f9=_0x7480d7;_0x230902[_0x4f35f9(0x1af)](_0x4f35f9(0x1b5));}),router[_0x7480d7(0x1d1)](_0x7480d7(0x1c5),admin,(_0x5b6310,_0x4c40c6)=>{const _0x3b8407=_0x7480d7;_0x4c40c6[_0x3b8407(0x1af)](_0x3b8407(0x1ac));}),router[_0x7480d7(0x1d1)](_0x7480d7(0x1ab),admin,(_0x4dd160,_0xd91330)=>{const _0x5b9049=_0x7480d7;Configuracao[_0x5b9049(0x1a4)]({'_id':_0x5b9049(0x1ef)})[_0x5b9049(0x215)]()[_0x5b9049(0x1c1)](_0x5b9049(0x206))[_0x5b9049(0x19e)](_0x1091ce=>{const _0x19cba5=_0x5b9049;if(_0x1091ce)_0xd91330[_0x19cba5(0x1af)](_0x19cba5(0x1a7),{'configuracoes':_0x1091ce});else{console[_0x19cba5(0x213)](_0x19cba5(0x1df));const _0x18a22b={'fechamento':0x0,'cartao':0x0,'desligamento':0x0,'email':'-','dataRelatorio':'0'};_0xd91330[_0x19cba5(0x1af)](_0x19cba5(0x1a7),{'configuracoes':_0x18a22b});}})['catch'](_0x598ccb=>{const _0x188d5b=_0x5b9049;_0x4dd160[_0x188d5b(0x1bd)](_0x188d5b(0x1e3),'Houve\x20um\x20erro\x20interno'),_0xd91330[_0x188d5b(0x19d)](_0x188d5b(0x1e5)+_0x598ccb);});}),router[_0x7480d7(0x1d1)]('/testes',admin,(_0x1372ea,_0x4134c7)=>{const _0x48808f=_0x7480d7;_0x4134c7[_0x48808f(0x1af)]('admin/testes');}),router[_0x7480d7(0x1d1)]('/atualizacao',admin,(_0x19bea5,_0x2853d9)=>{const _0x41a779=_0x7480d7;_0x2853d9[_0x41a779(0x1af)](_0x41a779(0x1ee));});const {exec}=require(_0x7480d7(0x1f1));var enderecoMac;returnMAC();function returnMAC(){const _0x1781a8=_0x7480d7;exec(_0x1781a8(0x1f8),(_0x541f3a,_0x57be4f,_0x462d72)=>{const _0x3438d5=_0x1781a8;_0x57be4f&&(enderecoMac=_0x57be4f[_0x3438d5(0x1ca)]()[_0x3438d5(0x1cb)](/:/g,'-'));});}function _0x2fc0(){const _0x5d07b4=['slice','_id','passport','body','gv6','flash','nome','Router','security','populate','Schema','ssid','express','/acessoremoto','/edituser','senha','1589092FznPvK','../models/DadosTeste','toUpperCase','replace','3lVZOYb','Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20usuário','success_msg','remove','desc','get','/edituser/buscar','/todasgvhistorico','admin/editar','../helpers/administrador','/admin/edituser','init','Usuario\x20editado\x20com\x20sucesso!','admin/todasgavetas','push','A\x20senha\x20deve\x20conter\x20apenas\x20números','5ETfvUD','adicionando\x205...','/admin/useroptions','Lista\x20de\x20configurações\x20vazia...','/edituser/editar/salvar','8561ZdtKQd','admin/gavetaespecifica','error_msg','gv8','/404?data=','O\x20usuário\x20selecionado\x20não\x20pode\x20ser\x20excluido','sort','Houve\x20um\x20erro\x20interno','find','gv3','length','model','81830EIhSpo','admin/atualizacao','000000000000000000000001','4024JGCPaV','child_process','gv5','genSalt','admin/edituser','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20cartão\x20RFID','userLogin','Usuario\x20criado\x20com\x20sucesso!','cat\x20/sys/class/net/wlan0/address','gv1','Erro\x20ao\x20editar\x20o\x20usuario:\x20','gv7','1071852DaNrZV','/admin/adduser','Usuario\x20deletado\x20com\x20sucesso!','Houve\x20um\x20erro\x20ao\x20criar\x20o\x20usuário,\x20tente\x20novamente','setor','/edituser/deletar','save','Login\x20inválido','../models/Usuario','post','configuracoes','Nenhum\x20usuário\x20selecionado','usuarios','gv4','3322zzzZLl','/gavetaespecifica','scan','252842jkJnoT','dadosTestes','O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres','frequency','getCurrentConnections','Este\x20usuario\x20não\x20existe','log','Nome\x20inválido','lean','Senha\x20inválida','admin/edituser/','rfid','catch','redirect','then','admin/adduser','asc','/adduser','gv2','bcryptjs','findOne','Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente','admin/wifi','admin/options','login','node-wifi','1690204cnKxyX','/options','admin/acessoremoto','A\x20senha\x20deve\x20conter\x204\x20caracteres','mongoose','render','6507855PiiqlG','nivel','Setor\x20inválido','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20login','Houve\x20um\x20erro\x20durante\x20o\x20salvamento\x20do\x20usuário','admin/useroptions','Houve\x20um\x20erro\x20ao\x20editar\x20o\x20usuario','signal_level'];_0x2fc0=function(){return _0x5d07b4;};return _0x2fc0();}router['get']('/wifi',admin,(_0x153ee2,_0x4414b1)=>{const _0x301b07=_0x7480d7;wifi[_0x301b07(0x211)]((_0x249542,_0x4b0deb)=>{const _0x2d090e=_0x301b07;if(_0x4b0deb['length']>0x0){var _0x1aa5f9=String(_0x4b0deb[0x0][_0x2d090e(0x210)]);_0x4b0deb[0x0][_0x2d090e(0x210)]=_0x1aa5f9[0x0]+','+_0x1aa5f9[0x1];if(_0x4b0deb[0x0][_0x2d090e(0x1b7)]>=-0x3c)_0x4b0deb[0x0][_0x2d090e(0x1b7)]=0x4;else{if(_0x4b0deb[0x0][_0x2d090e(0x1b7)]>=-0x46)_0x4b0deb[0x0][_0x2d090e(0x1b7)]=0x3;else{if(_0x4b0deb[0x0][_0x2d090e(0x1b7)]>=-0x50)_0x4b0deb[0x0][_0x2d090e(0x1b7)]=0x2;else _0x4b0deb[0x0]['signal_level']=0x1;}}_0x4414b1[_0x2d090e(0x1af)]('admin/wifi',{'network':_0x4b0deb[_0x2d090e(0x1b8)](0x0,0x1),'conectado':0x1,'mac':enderecoMac});}else wifi[_0x2d090e(0x20c)]((_0x5a8378,_0x17d0c0)=>{const _0x446f54=_0x2d090e;if(_0x5a8378)console[_0x446f54(0x213)](_0x5a8378);else _0x4414b1[_0x446f54(0x1af)](_0x446f54(0x1a6),{'network':agrupaWifi(_0x17d0c0),'conectado':0x0,'mac':enderecoMac});});});});function agrupaWifi(_0xba9107){const _0x292e6d=_0x7480d7;var _0x4daeb7=new Array(),_0x4d9cb0=0x0;return _0xba9107['forEach'](function(_0x59e9de,_0x581c5f){const _0x8fd3b2=_0x78b8;if(_0x59e9de['signal_level']>=-0x3c)_0x59e9de['signal_level']=0x4;else{if(_0x59e9de[_0x8fd3b2(0x1b7)]>=-0x46)_0x59e9de[_0x8fd3b2(0x1b7)]=0x3;else{if(_0x59e9de[_0x8fd3b2(0x1b7)]>=-0x50)_0x59e9de[_0x8fd3b2(0x1b7)]=0x2;else _0x59e9de[_0x8fd3b2(0x1b7)]=0x1;}}var _0x5ebb61=0x0;_0x4daeb7['forEach'](function(_0x55149f,_0x3fd7b7){const _0x21eff0=_0x8fd3b2;if(_0x55149f[_0x21eff0(0x1c3)]==_0x59e9de['ssid']){_0x5ebb61=0x1;if(_0x59e9de['signal_level']>_0x55149f[_0x21eff0(0x1b7)])_0x55149f[_0x21eff0(0x1b7)]=_0x59e9de[_0x21eff0(0x1b7)];}}),_0x5ebb61==0x0&&_0x59e9de[_0x8fd3b2(0x1c3)]!=''&&(_0x4daeb7[_0x4d9cb0]={'ssid':_0x59e9de['ssid'],'security':_0x59e9de[_0x8fd3b2(0x1c0)],'signal_level':_0x59e9de[_0x8fd3b2(0x1b7)]},_0x4d9cb0=_0x4d9cb0+0x1);}),console[_0x292e6d(0x213)](_0x4daeb7),_0x4daeb7;}router[_0x7480d7(0x1d1)](_0x7480d7(0x20b),admin,(_0x2fde59,_0x2f0c6d)=>{const _0xb63ded=_0x7480d7;_0x2f0c6d[_0xb63ded(0x1af)](_0xb63ded(0x1e2));}),router[_0x7480d7(0x1d1)]('/gvespecificahistorico',admin,(_0x195435,_0x2438cb)=>{const _0x3a9fcd=_0x7480d7;DadosTeste[_0x3a9fcd(0x1e9)]({'tipo':0x0})[_0x3a9fcd(0x215)]()['populate']('dadosTestes')[_0x3a9fcd(0x1e7)]({'_id':_0x3a9fcd(0x1d0)})[_0x3a9fcd(0x19e)](_0x4d5bce=>{const _0x26d493=_0x3a9fcd;_0x2438cb[_0x26d493(0x1af)]('admin/gvespecificahistorico',{'eventos':_0x4d5bce});})[_0x3a9fcd(0x19c)](_0x2e2751=>{const _0x4d54d4=_0x3a9fcd;_0x195435[_0x4d54d4(0x1bd)](_0x4d54d4(0x1e3),_0x4d54d4(0x1e8)),_0x2438cb[_0x4d54d4(0x19d)](_0x4d54d4(0x1e5)+_0x2e2751);});}),router[_0x7480d7(0x1d1)](_0x7480d7(0x1d3),admin,(_0x4d0235,_0x425e3a)=>{const _0xa99fa2=_0x7480d7;DadosTeste[_0xa99fa2(0x1e9)]({'tipo':0x1})[_0xa99fa2(0x215)]()[_0xa99fa2(0x1c1)](_0xa99fa2(0x20e))[_0xa99fa2(0x1e7)]({'_id':_0xa99fa2(0x1d0)})[_0xa99fa2(0x19e)](_0x570850=>{const _0x45eccd=_0xa99fa2;_0x425e3a[_0x45eccd(0x1af)]('admin/todasgvhistorico',{'eventos':_0x570850});})[_0xa99fa2(0x19c)](_0x354bd7=>{const _0x18b817=_0xa99fa2;_0x4d0235['flash'](_0x18b817(0x1e3),_0x18b817(0x1e8)),_0x425e3a[_0x18b817(0x19d)](_0x18b817(0x1e5)+_0x354bd7);});}),router[_0x7480d7(0x1d1)]('/todasgavetas',admin,(_0x48538b,_0x47dd50)=>{const _0x1a0ff9=_0x7480d7;_0x47dd50[_0x1a0ff9(0x1af)](_0x1a0ff9(0x1d9));}),router['get'](_0x7480d7(0x1a1),admin,(_0x3e4c69,_0x5d381a)=>{const _0x109087=_0x7480d7;_0x5d381a[_0x109087(0x1af)]('admin/adduser');}),router[_0x7480d7(0x1d1)](_0x7480d7(0x1c6),admin,(_0xa2afea,_0x16c70a)=>{const _0x20eb5d=_0x7480d7;Usuario[_0x20eb5d(0x1e9)]({'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]})[_0x20eb5d(0x215)]()['populate'](_0x20eb5d(0x208))['sort']({'login':_0x20eb5d(0x1a0)})['then'](_0x4eb833=>{const _0x3ebb8f=_0x20eb5d;_0x16c70a[_0x3ebb8f(0x1af)](_0x3ebb8f(0x1f4),{'usuarios':_0x4eb833,'busca':''});})[_0x20eb5d(0x19c)](_0x2b9495=>{const _0x34f936=_0x20eb5d;_0xa2afea[_0x34f936(0x1bd)](_0x34f936(0x1e3),_0x34f936(0x1e8)),_0x16c70a[_0x34f936(0x19d)](_0x34f936(0x1e5)+_0x2b9495);});}),router[_0x7480d7(0x205)](_0x7480d7(0x1d2),admin,(_0x3ce882,_0x122499)=>{const _0x176737=_0x7480d7;Usuario[_0x176737(0x1e9)]({'$and':[{'login':new RegExp(_0x3ce882[_0x176737(0x1bb)]['userLogin'],'i')},{'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]}]})['lean']()[_0x176737(0x1c1)](_0x176737(0x208))[_0x176737(0x1e7)]({'login':_0x176737(0x1a0)})[_0x176737(0x19e)](_0x1be592=>{const _0x4be0be=_0x176737;_0x122499[_0x4be0be(0x1af)]('admin/edituser',{'usuarios':_0x1be592,'busca':_0x3ce882[_0x4be0be(0x1bb)][_0x4be0be(0x1f6)]});})[_0x176737(0x19c)](_0xac7f3d=>{const _0x59cddf=_0x176737;_0x3ce882[_0x59cddf(0x1bd)](_0x59cddf(0x1e3),_0x59cddf(0x1e8)),_0x122499[_0x59cddf(0x19d)](_0x59cddf(0x1e5)+_0xac7f3d);});});function isNumber(_0x5af0be){return!isNaN(parseFloat(_0x5af0be))&&isFinite(_0x5af0be);}function _0x78b8(_0x21c549,_0x93ea81){const _0x2fc0f4=_0x2fc0();return _0x78b8=function(_0x78b8f0,_0x8667a6){_0x78b8f0=_0x78b8f0-0x19a;let _0x1b454e=_0x2fc0f4[_0x78b8f0];return _0x1b454e;},_0x78b8(_0x21c549,_0x93ea81);}router[_0x7480d7(0x205)](_0x7480d7(0x1a1),admin,(_0x4b397a,_0x593518)=>{const _0x597b35=_0x7480d7;var _0x55195e=[];(!_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1be)]||typeof _0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1be)]==undefined||typeof _0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1be)]==null)&&_0x55195e[_0x597b35(0x1da)]({'texto':'Nome\x20inválido'});(!_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x200)]||typeof _0x4b397a[_0x597b35(0x1bb)]['setor']==undefined||typeof _0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x200)]==null)&&_0x55195e['push']({'texto':_0x597b35(0x1b2)});if(_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1a8)][_0x597b35(0x1eb)]>0xf)_0x55195e[_0x597b35(0x1da)]({'texto':'O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres'});else(!_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1a8)]||typeof _0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1a8)]==undefined||typeof _0x4b397a['body'][_0x597b35(0x1a8)]==null)&&_0x55195e[_0x597b35(0x1da)]({'texto':_0x597b35(0x203)});if(_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1c7)][_0x597b35(0x1eb)]<0x4||_0x4b397a[_0x597b35(0x1bb)]['senha'][_0x597b35(0x1eb)]>0x4)_0x55195e[_0x597b35(0x1da)]({'texto':'A\x20senha\x20deve\x20conter\x204\x20caracteres'});else{if(!isNumber(_0x4b397a[_0x597b35(0x1bb)]['senha']))_0x55195e[_0x597b35(0x1da)]({'texto':_0x597b35(0x1db)});else(!_0x4b397a[_0x597b35(0x1bb)]['senha']||typeof _0x4b397a['body']['senha']==undefined||typeof _0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1c7)]==null)&&_0x55195e[_0x597b35(0x1da)]({'texto':_0x597b35(0x216)});}if(_0x55195e[_0x597b35(0x1eb)]>0x0){var _0x502217=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x502217[_0x597b35(0x1be)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1be)],_0x502217[_0x597b35(0x200)]=_0x4b397a[_0x597b35(0x1bb)]['setor'],_0x502217[_0x597b35(0x1a8)]=_0x4b397a[_0x597b35(0x1bb)]['login'],_0x502217[_0x597b35(0x19b)]=_0x4b397a[_0x597b35(0x1bb)]['rfid'],_0x502217[_0x597b35(0x1f9)]=_0x4b397a['body'][_0x597b35(0x1f9)],_0x502217[_0x597b35(0x1a2)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1a2)],_0x502217[_0x597b35(0x1ea)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1ea)],_0x502217[_0x597b35(0x209)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x209)],_0x502217[_0x597b35(0x1f2)]=_0x4b397a[_0x597b35(0x1bb)]['gv5'],_0x502217[_0x597b35(0x1bc)]=_0x4b397a['body']['gv6'],_0x502217[_0x597b35(0x1fb)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1fb)],_0x502217[_0x597b35(0x1e4)]=_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1e4)],_0x593518[_0x597b35(0x1af)](_0x597b35(0x19f),{'error':_0x55195e,'usuario':_0x502217});}else Usuario[_0x597b35(0x1a4)]({'$or':[{'login':_0x4b397a[_0x597b35(0x1bb)][_0x597b35(0x1a8)]},{'$and':[{'rfid':_0x4b397a['body']['rfid']},{'rfid':{'$ne':''}}]}]})[_0x597b35(0x19e)](_0x5798dc=>{const _0x29071c=_0x597b35;if(_0x5798dc){if(_0x5798dc['login']==_0x4b397a['body'][_0x29071c(0x1a8)]){_0x55195e['push']({'texto':_0x29071c(0x1b3)});var _0x5d869b=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x5d869b[_0x29071c(0x1be)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1be)],_0x5d869b[_0x29071c(0x200)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x200)],_0x5d869b['login']='',_0x5d869b[_0x29071c(0x19b)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x19b)],_0x5d869b[_0x29071c(0x1f9)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1f9)],_0x5d869b[_0x29071c(0x1a2)]=_0x4b397a['body']['gv2'],_0x5d869b[_0x29071c(0x1ea)]=_0x4b397a['body'][_0x29071c(0x1ea)],_0x5d869b['gv4']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x209)],_0x5d869b[_0x29071c(0x1f2)]=_0x4b397a[_0x29071c(0x1bb)]['gv5'],_0x5d869b['gv6']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1bc)],_0x5d869b['gv7']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1fb)],_0x5d869b[_0x29071c(0x1e4)]=_0x4b397a[_0x29071c(0x1bb)]['gv8'],_0x593518[_0x29071c(0x1af)]('admin/adduser',{'error':_0x55195e,'usuario':_0x5d869b});}else{console[_0x29071c(0x213)](_0x29071c(0x1dd)),_0x55195e[_0x29071c(0x1da)]({'texto':_0x29071c(0x1f5)});var _0x5d869b=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x5d869b[_0x29071c(0x1be)]=_0x4b397a['body'][_0x29071c(0x1be)],_0x5d869b['setor']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x200)],_0x5d869b[_0x29071c(0x1a8)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1a8)],_0x5d869b[_0x29071c(0x19b)]='',_0x5d869b[_0x29071c(0x1f9)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1f9)],_0x5d869b[_0x29071c(0x1a2)]=_0x4b397a[_0x29071c(0x1bb)]['gv2'],_0x5d869b[_0x29071c(0x1ea)]=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1ea)],_0x5d869b[_0x29071c(0x209)]=_0x4b397a['body'][_0x29071c(0x209)],_0x5d869b[_0x29071c(0x1f2)]=_0x4b397a['body']['gv5'],_0x5d869b['gv6']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1bc)],_0x5d869b['gv7']=_0x4b397a['body'][_0x29071c(0x1fb)],_0x5d869b['gv8']=_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1e4)],_0x593518[_0x29071c(0x1af)](_0x29071c(0x19f),{'error':_0x55195e,'usuario':_0x5d869b});}}else{const _0x18a3aa=new Usuario({'nome':_0x4b397a['body'][_0x29071c(0x1be)],'setor':_0x4b397a['body'][_0x29071c(0x200)],'login':_0x4b397a[_0x29071c(0x1bb)]['login'],'senha':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1c7)],'rfid':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x19b)],'gv1':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1f9)],'gv2':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1a2)],'gv3':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1ea)],'gv4':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x209)],'gv5':_0x4b397a[_0x29071c(0x1bb)]['gv5'],'gv6':_0x4b397a[_0x29071c(0x1bb)]['gv6'],'gv7':_0x4b397a['body'][_0x29071c(0x1fb)],'gv8':_0x4b397a[_0x29071c(0x1bb)][_0x29071c(0x1e4)]});bcrypt['genSalt'](0xa,(_0x4ef01f,_0x25ed8a)=>{const _0x1ad806=_0x29071c;bcrypt['hash'](_0x18a3aa[_0x1ad806(0x1c7)],_0x25ed8a,(_0x524c78,_0x209219)=>{const _0xbe8f17=_0x1ad806;_0x524c78&&(_0x4b397a[_0xbe8f17(0x1bd)](_0xbe8f17(0x1e3),_0xbe8f17(0x1b4)),_0x593518['redirect']('/')),_0x18a3aa[_0xbe8f17(0x1c7)]=_0x209219,_0x18a3aa[_0xbe8f17(0x202)]()[_0xbe8f17(0x19e)](()=>{const _0xf98f26=_0xbe8f17;_0x4b397a[_0xf98f26(0x1bd)]('success_msg',_0xf98f26(0x1f7)),_0x593518['redirect'](_0xf98f26(0x1de));})['catch'](_0x3aee91=>{const _0x3faf1a=_0xbe8f17;_0x4b397a[_0x3faf1a(0x1bd)]('error_msg',_0x3faf1a(0x1ff)),_0x593518[_0x3faf1a(0x19d)](_0x3faf1a(0x1fd));});});});}})[_0x597b35(0x19c)](_0x282d10=>{const _0x2ff59d=_0x597b35;_0x4b397a[_0x2ff59d(0x1bd)](_0x2ff59d(0x1e3),_0x2ff59d(0x1e8)),_0x593518[_0x2ff59d(0x19d)]('/');});}),router[_0x7480d7(0x205)]('/edituser/editar',admin,(_0xfbeae3,_0x59942b)=>{const _0x1b8cf9=_0x7480d7;!_0xfbeae3[_0x1b8cf9(0x1bb)][_0x1b8cf9(0x213)]?(_0xfbeae3[_0x1b8cf9(0x1bd)](_0x1b8cf9(0x1e3),_0x1b8cf9(0x207)),_0x59942b[_0x1b8cf9(0x19d)]('/admin/edituser')):Usuario[_0x1b8cf9(0x1a4)]({'login':_0xfbeae3[_0x1b8cf9(0x1bb)][_0x1b8cf9(0x213)]})[_0x1b8cf9(0x215)]()[_0x1b8cf9(0x19e)](_0x119460=>{const _0x3b9eb0=_0x1b8cf9;!_0x119460?_0x59942b[_0x3b9eb0(0x1af)](_0x3b9eb0(0x19a),{'error':error}):_0x59942b[_0x3b9eb0(0x1af)](_0x3b9eb0(0x1d4),{'usuario':_0x119460});})['catch'](_0x443150=>{const _0x4e2c75=_0x1b8cf9;_0xfbeae3[_0x4e2c75(0x1bd)](_0x4e2c75(0x1e3),_0x4e2c75(0x212)),_0x59942b[_0x4e2c75(0x19d)](_0x4e2c75(0x1d6));});}),router[_0x7480d7(0x205)](_0x7480d7(0x201),admin,(_0x537980,_0x389da9)=>{const _0x253c56=_0x7480d7;!_0x537980['body'][_0x253c56(0x213)]?(_0x537980[_0x253c56(0x1bd)](_0x253c56(0x1e3),_0x253c56(0x207)),_0x389da9[_0x253c56(0x19d)](_0x253c56(0x1d6))):_0x537980[_0x253c56(0x1bb)][_0x253c56(0x1b1)]!='2'?(console[_0x253c56(0x213)]('nivel:\x20'+_0x537980['body'][_0x253c56(0x1b1)]),Usuario[_0x253c56(0x1cf)]({'login':_0x537980[_0x253c56(0x1bb)]['log']})[_0x253c56(0x19e)](()=>{const _0x4d487b=_0x253c56;_0x537980[_0x4d487b(0x1bd)](_0x4d487b(0x1ce),_0x4d487b(0x1fe)),_0x389da9[_0x4d487b(0x19d)](_0x4d487b(0x1d6));})['catch'](_0x2ffd45=>{const _0x3a8593=_0x253c56;_0x537980[_0x3a8593(0x1bd)](_0x3a8593(0x1e3),_0x3a8593(0x1cd)),_0x389da9[_0x3a8593(0x19d)](_0x3a8593(0x1d6));})):(_0x537980[_0x253c56(0x1bd)]('error_msg',_0x253c56(0x1e6)),_0x389da9['redirect']('/admin/edituser'));}),router[_0x7480d7(0x205)](_0x7480d7(0x1e0),admin,(_0x5002c0,_0x28d828)=>{const _0x4ef0fe=_0x7480d7;var _0x51edbf=[],_0xa69de6=0x0;(!_0x5002c0['body'][_0x4ef0fe(0x1be)]||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1be)]==undefined||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1be)]==null)&&_0x51edbf[_0x4ef0fe(0x1da)]({'texto':_0x4ef0fe(0x214)});(!_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x200)]||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x200)]==undefined||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x200)]==null)&&_0x51edbf[_0x4ef0fe(0x1da)]({'texto':'Setor\x20inválido'});if(_0x5002c0[_0x4ef0fe(0x1bb)]['login'][_0x4ef0fe(0x1eb)]>0xf)_0x51edbf[_0x4ef0fe(0x1da)]({'texto':_0x4ef0fe(0x20f)});else(!_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1a8)]||typeof _0x5002c0['body']['login']==undefined||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1a8)]==null)&&_0x51edbf['push']({'texto':_0x4ef0fe(0x203)});if(_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1c7)][_0x4ef0fe(0x1eb)]==0x0)_0xa69de6=0x1;else{if(_0x5002c0[_0x4ef0fe(0x1bb)]['senha'][_0x4ef0fe(0x1eb)]<0x4||_0x5002c0[_0x4ef0fe(0x1bb)]['senha'][_0x4ef0fe(0x1eb)]>0x4)_0x51edbf['push']({'texto':_0x4ef0fe(0x1ad)});else{if(!isNumber(_0x5002c0[_0x4ef0fe(0x1bb)]['senha']))_0x51edbf['push']({'texto':'A\x20senha\x20deve\x20conter\x20apenas\x20números'});else(!_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1c7)]||typeof _0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1c7)]==undefined||typeof _0x5002c0['body'][_0x4ef0fe(0x1c7)]==null)&&_0x51edbf[_0x4ef0fe(0x1da)]({'texto':_0x4ef0fe(0x216)});}}if(_0x51edbf[_0x4ef0fe(0x1eb)]>0x0){var _0x3514cd=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x3514cd[_0x4ef0fe(0x1b9)]=_0x5002c0[_0x4ef0fe(0x1bb)]['id'],_0x3514cd[_0x4ef0fe(0x1be)]=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1be)],_0x3514cd[_0x4ef0fe(0x200)]=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x200)],_0x3514cd[_0x4ef0fe(0x1a8)]=_0x5002c0['body'][_0x4ef0fe(0x1a8)],_0x3514cd['rfid']=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x19b)],_0x3514cd['gv1']=_0x5002c0['body']['gv1'],_0x3514cd['gv2']=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1a2)],_0x3514cd[_0x4ef0fe(0x1ea)]=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1ea)],_0x3514cd['gv4']=_0x5002c0[_0x4ef0fe(0x1bb)]['gv4'],_0x3514cd['gv5']=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1f2)],_0x3514cd['gv6']=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1bc)],_0x3514cd[_0x4ef0fe(0x1fb)]=_0x5002c0[_0x4ef0fe(0x1bb)]['gv7'],_0x3514cd[_0x4ef0fe(0x1e4)]=_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1e4)],_0x28d828['render'](_0x4ef0fe(0x1d4),{'error':_0x51edbf,'usuario':_0x3514cd});}else Usuario[_0x4ef0fe(0x1a4)]({'$or':[{'$and':[{'_id':{'$ne':_0x5002c0[_0x4ef0fe(0x1bb)]['id']}},{'login':_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x1a8)]}]},{'$and':[{'_id':{'$ne':_0x5002c0[_0x4ef0fe(0x1bb)]['id']}},{'rfid':_0x5002c0[_0x4ef0fe(0x1bb)][_0x4ef0fe(0x19b)]},{'rfid':{'$ne':''}}]}]})['then'](_0x5aff19=>{const _0x2f8c8a=_0x4ef0fe;if(_0x5aff19){if(_0x5aff19[_0x2f8c8a(0x1a8)]==_0x5002c0[_0x2f8c8a(0x1bb)]['login']){_0x51edbf['push']({'texto':_0x2f8c8a(0x1b3)});var _0x57fac3=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x57fac3[_0x2f8c8a(0x1b9)]=_0x5002c0[_0x2f8c8a(0x1bb)]['id'],_0x57fac3[_0x2f8c8a(0x1be)]=_0x5002c0[_0x2f8c8a(0x1bb)]['nome'],_0x57fac3[_0x2f8c8a(0x200)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x200)],_0x57fac3['login']='',_0x57fac3['rfid']=_0x5002c0[_0x2f8c8a(0x1bb)]['rfid'],_0x57fac3[_0x2f8c8a(0x1f9)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1f9)],_0x57fac3[_0x2f8c8a(0x1a2)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1a2)],_0x57fac3['gv3']=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1ea)],_0x57fac3[_0x2f8c8a(0x209)]=_0x5002c0[_0x2f8c8a(0x1bb)]['gv4'],_0x57fac3[_0x2f8c8a(0x1f2)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1f2)],_0x57fac3[_0x2f8c8a(0x1bc)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1bc)],_0x57fac3[_0x2f8c8a(0x1fb)]=_0x5002c0['body'][_0x2f8c8a(0x1fb)],_0x57fac3['gv8']=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1e4)],_0x28d828[_0x2f8c8a(0x1af)](_0x2f8c8a(0x1d4),{'error':_0x51edbf,'usuario':_0x57fac3});}else{if(_0x5aff19['rfid']==_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x19b)]){_0x51edbf[_0x2f8c8a(0x1da)]({'texto':_0x2f8c8a(0x1f5)});var _0x57fac3=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x57fac3[_0x2f8c8a(0x1b9)]=_0x5002c0['body']['id'],_0x57fac3[_0x2f8c8a(0x1be)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1be)],_0x57fac3[_0x2f8c8a(0x200)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x200)],_0x57fac3[_0x2f8c8a(0x1a8)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1a8)],_0x57fac3['rfid']='',_0x57fac3[_0x2f8c8a(0x1f9)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1f9)],_0x57fac3[_0x2f8c8a(0x1a2)]=_0x5002c0['body'][_0x2f8c8a(0x1a2)],_0x57fac3[_0x2f8c8a(0x1ea)]=_0x5002c0['body'][_0x2f8c8a(0x1ea)],_0x57fac3['gv4']=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x209)],_0x57fac3[_0x2f8c8a(0x1f2)]=_0x5002c0['body']['gv5'],_0x57fac3['gv6']=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1bc)],_0x57fac3[_0x2f8c8a(0x1fb)]=_0x5002c0[_0x2f8c8a(0x1bb)]['gv7'],_0x57fac3[_0x2f8c8a(0x1e4)]=_0x5002c0[_0x2f8c8a(0x1bb)][_0x2f8c8a(0x1e4)],_0x28d828[_0x2f8c8a(0x1af)](_0x2f8c8a(0x1d4),{'error':_0x51edbf,'usuario':_0x57fac3});}}}else Usuario[_0x2f8c8a(0x1a4)]({'_id':_0x5002c0[_0x2f8c8a(0x1bb)]['id']})[_0x2f8c8a(0x19e)](_0x42e27a=>{const _0x3da39b=_0x2f8c8a;_0x42e27a['nome']=_0x5002c0[_0x3da39b(0x1bb)]['nome'],_0x42e27a['setor']=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x200)],_0x42e27a[_0x3da39b(0x1a8)]=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x1a8)],_0x42e27a['rfid']=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x19b)],_0x42e27a[_0x3da39b(0x1f9)]=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x1f9)],_0x42e27a[_0x3da39b(0x1a2)]=_0x5002c0['body'][_0x3da39b(0x1a2)],_0x42e27a[_0x3da39b(0x1ea)]=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x1ea)],_0x42e27a['gv4']=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x209)],_0x42e27a[_0x3da39b(0x1f2)]=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x1f2)],_0x42e27a[_0x3da39b(0x1bc)]=_0x5002c0[_0x3da39b(0x1bb)]['gv6'],_0x42e27a[_0x3da39b(0x1fb)]=_0x5002c0[_0x3da39b(0x1bb)][_0x3da39b(0x1fb)],_0x42e27a[_0x3da39b(0x1e4)]=_0x5002c0[_0x3da39b(0x1bb)]['gv8'],_0xa69de6==0x1?(_0x42e27a[_0x3da39b(0x1c7)]=_0x42e27a[_0x3da39b(0x1c7)],_0x42e27a[_0x3da39b(0x202)]()['then'](()=>{const _0x35c788=_0x3da39b;_0x5002c0['flash'](_0x35c788(0x1ce),'Usuario\x20editado\x20com\x20sucesso!'),_0x28d828[_0x35c788(0x19d)](_0x35c788(0x1d6));})[_0x3da39b(0x19c)](_0x413402=>{const _0x298c7b=_0x3da39b;_0x5002c0[_0x298c7b(0x1bd)](_0x298c7b(0x1e3),_0x298c7b(0x1a5)),_0x28d828[_0x298c7b(0x19d)]('/admin/edituser');})):(_0x42e27a['senha']=_0x5002c0[_0x3da39b(0x1bb)]['senha'],bcrypt[_0x3da39b(0x1f3)](0xa,(_0x1b95b6,_0x3f13d5)=>{const _0x566bb2=_0x3da39b;bcrypt['hash'](_0x42e27a[_0x566bb2(0x1c7)],_0x3f13d5,(_0x476461,_0x19f8bd)=>{const _0x46065e=_0x566bb2;_0x476461&&(_0x5002c0[_0x46065e(0x1bd)]('error_msg',_0x46065e(0x1a5)),_0x28d828['redirect']('/')),_0x42e27a[_0x46065e(0x1c7)]=_0x19f8bd,_0x42e27a[_0x46065e(0x202)]()[_0x46065e(0x19e)](()=>{const _0x5e3a69=_0x46065e;_0x5002c0[_0x5e3a69(0x1bd)](_0x5e3a69(0x1ce),_0x5e3a69(0x1d8)),_0x28d828['redirect'](_0x5e3a69(0x1d6));})['catch'](_0x7a68f0=>{const _0x441bb7=_0x46065e;_0x5002c0[_0x441bb7(0x1bd)](_0x441bb7(0x1e3),_0x441bb7(0x1a5)),_0x28d828[_0x441bb7(0x19d)]('/admin/edituser');});});}));})[_0x2f8c8a(0x19c)](_0x3cdfc7=>{const _0x4f684e=_0x2f8c8a;_0x5002c0['flash']('error_msg',_0x4f684e(0x1b6)),console['log'](_0x4f684e(0x1fa)+_0x3cdfc7),_0x28d828[_0x4f684e(0x19d)]('/admin/edituser');});});}),module['exports']=router;