const _0x30a4ba=_0x490e;(function(_0x522e62,_0x27b7ee){const _0x1970f9=_0x490e,_0x387a1d=_0x522e62();while(!![]){try{const _0x408955=-parseInt(_0x1970f9(0x22d))/0x1+-parseInt(_0x1970f9(0x20c))/0x2*(parseInt(_0x1970f9(0x23d))/0x3)+parseInt(_0x1970f9(0x203))/0x4*(-parseInt(_0x1970f9(0x1e8))/0x5)+parseInt(_0x1970f9(0x23c))/0x6*(-parseInt(_0x1970f9(0x208))/0x7)+-parseInt(_0x1970f9(0x1f1))/0x8*(-parseInt(_0x1970f9(0x1de))/0x9)+-parseInt(_0x1970f9(0x1e0))/0xa+parseInt(_0x1970f9(0x1f3))/0xb;if(_0x408955===_0x27b7ee)break;else _0x387a1d['push'](_0x387a1d['shift']());}catch(_0x27ed48){_0x387a1d['push'](_0x387a1d['shift']());}}}(_0x3801,0x95855));const express=require(_0x30a4ba(0x242)),router=express[_0x30a4ba(0x220)](),mongoose=require(_0x30a4ba(0x1eb));require(_0x30a4ba(0x23f));const Usuario=mongoose[_0x30a4ba(0x22b)](_0x30a4ba(0x245));require(_0x30a4ba(0x209));const Ferramenta=mongoose['model'](_0x30a4ba(0x22e)),bcrypt=require(_0x30a4ba(0x246)),passport=require(_0x30a4ba(0x202)),{admin}=require(_0x30a4ba(0x21f)),Schema=mongoose['Schema'];function _0x3801(){const _0x4a5d1f=['admin/edituser/','Usuario\x20editado\x20com\x20sucesso!','find','/testes','rfid','admin/testes','asc','18gcLErT','Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente','7905790XCUicN','nome','/edituser/buscar','signal_level','Houve\x20um\x20erro\x20interno','/edituser','/adduser','admin/todasgavetas','2095XklQrp','userLogin','_id','mongoose','/404?data=','/admin/edituser','success_msg','gv8','Lista\x20de\x20configurações\x20vazia...','1565232DSkPJt','catch','57292774eCmWNH','Setor\x20inválido','desc','Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20usuário','redirect','genSalt','gv4','nivel','admin/todasgvhistorico','hash','then','/todasgavetas','push','nivel:\x20','admin/editar','passport','10300HdGlEL','/useroptions','admin/atualizacao','admin/useroptions','Nome\x20inválido','14OINkJy','../models/Ferramenta','A\x20senha\x20deve\x20conter\x204\x20caracteres','configuracoes','58NMJfhk','/gavetaespecifica','exports','ssid','node-wifi','populate','/todasgvhistorico','gv5','senha','body','Login\x20inválido','gv6','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20login','Erro\x20ao\x20editar\x20o\x20usuario:\x20','admin/gavetaespecifica','render','gv3','remove','/wifi','../helpers/administrador','Router','flash','Nenhum\x20usuário\x20selecionado','admin/acessoremoto','forEach','sort','/admin/adduser','Este\x20usuario\x20não\x20existe','dadosTestes','lean','log','model','login','1188771YZfUKO','ferramentas','get','gv2','O\x20usuário\x20selecionado\x20não\x20pode\x20ser\x20excluido','gv1','frequency','Houve\x20um\x20erro\x20durante\x20o\x20salvamento\x20do\x20usuário','admin/adduser','Senha\x20inválida','findOne','admin/edituser','getCurrentConnections','setor','../models/Configuracoes','2464734nQASxp','114564tHApuh','A\x20senha\x20deve\x20conter\x20apenas\x20números','../models/Usuario','admin/gvespecificahistorico','init','express','/edituser/editar/salvar','error_msg','usuarios','bcryptjs','Usuario\x20deletado\x20com\x20sucesso!','O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres','save','admin/options','gv7','post','slice','length'];_0x3801=function(){return _0x4a5d1f;};return _0x3801();}require('../models/DadosTeste');const DadosTeste=mongoose['model'](_0x30a4ba(0x228));function _0x490e(_0x4f55cb,_0xb8404c){const _0x380145=_0x3801();return _0x490e=function(_0x490e83,_0x4471b2){_0x490e83=_0x490e83-0x1d9;let _0x42ec40=_0x380145[_0x490e83];return _0x42ec40;},_0x490e(_0x4f55cb,_0xb8404c);}require(_0x30a4ba(0x23b));const Configuracao=mongoose[_0x30a4ba(0x22b)](_0x30a4ba(0x20b)),wifi=require(_0x30a4ba(0x210));wifi[_0x30a4ba(0x241)]({'iface':null}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x204),admin,(_0x1bf11d,_0x13ac2e)=>{const _0x4106f7=_0x30a4ba;_0x13ac2e[_0x4106f7(0x21b)](_0x4106f7(0x206));}),router[_0x30a4ba(0x22f)]('/acessoremoto',admin,(_0x1b89f2,_0x2fbc7a)=>{const _0xd9ea=_0x30a4ba;_0x2fbc7a[_0xd9ea(0x21b)](_0xd9ea(0x223));}),router['get']('/options',admin,(_0x3e3e2d,_0x1a88a1)=>{const _0x10e6a0=_0x30a4ba;Configuracao[_0x10e6a0(0x237)]({'_id':'000000000000000000000001'})['lean']()['populate'](_0x10e6a0(0x20b))['then'](_0x4bcd04=>{const _0x15ddcb=_0x10e6a0;if(_0x4bcd04)_0x1a88a1[_0x15ddcb(0x21b)](_0x15ddcb(0x24a),{'configuracoes':_0x4bcd04});else{console[_0x15ddcb(0x22a)](_0x15ddcb(0x1f0));const _0x573d92={'fechamento':0x0,'cartao':0x0,'desligamento':0x0,'email':'-','dataRelatorio':'0'};_0x1a88a1['render'](_0x15ddcb(0x24a),{'configuracoes':_0x573d92});}})[_0x10e6a0(0x1f2)](_0x623283=>{const _0x468a1b=_0x10e6a0;_0x3e3e2d['flash'](_0x468a1b(0x244),_0x468a1b(0x1e4)),_0x1a88a1[_0x468a1b(0x1f7)](_0x468a1b(0x1ec)+_0x623283);});}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x1da),admin,(_0x45b30a,_0x4862b8)=>{const _0x134bd8=_0x30a4ba;_0x4862b8['render'](_0x134bd8(0x1dc));}),router[_0x30a4ba(0x22f)]('/atualizacao',admin,(_0x1dc63a,_0x5201dc)=>{const _0x595220=_0x30a4ba;_0x5201dc['render'](_0x595220(0x205));}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x21e),admin,(_0x3535ba,_0x4c13ae)=>{const _0x23fba1=_0x30a4ba;wifi[_0x23fba1(0x239)]((_0x49720b,_0x33e689)=>{const _0x2fa7aa=_0x23fba1;if(_0x33e689[_0x2fa7aa(0x24e)]>0x0){var _0x46d7d3=String(_0x33e689[0x0]['frequency']);_0x33e689[0x0][_0x2fa7aa(0x233)]=_0x46d7d3[0x0]+','+_0x46d7d3[0x1];if(_0x33e689[0x0][_0x2fa7aa(0x1e3)]>=-0x3c)_0x33e689[0x0][_0x2fa7aa(0x1e3)]=0x4;else{if(_0x33e689[0x0][_0x2fa7aa(0x1e3)]>=-0x46)_0x33e689[0x0][_0x2fa7aa(0x1e3)]=0x3;else{if(_0x33e689[0x0][_0x2fa7aa(0x1e3)]>=-0x50)_0x33e689[0x0][_0x2fa7aa(0x1e3)]=0x2;else _0x33e689[0x0][_0x2fa7aa(0x1e3)]=0x1;}}_0x4c13ae[_0x2fa7aa(0x21b)]('admin/wifi',{'network':_0x33e689[_0x2fa7aa(0x24d)](0x0,0x1),'conectado':0x1});}else wifi['scan']((_0x3147e5,_0x33644d)=>{if(_0x3147e5)console['log'](_0x3147e5);else _0x4c13ae['render']('admin/wifi',{'network':agrupaWifi(_0x33644d),'conectado':0x0});});});});function agrupaWifi(_0x445c3d){var _0x199ff7=new Array(),_0x2c2b79=0x0;return _0x445c3d['forEach'](function(_0x1a9814,_0x3bf403){const _0x934623=_0x490e;if(_0x1a9814[_0x934623(0x1e3)]>=-0x3c)_0x1a9814['signal_level']=0x4;else{if(_0x1a9814[_0x934623(0x1e3)]>=-0x46)_0x1a9814['signal_level']=0x3;else{if(_0x1a9814['signal_level']>=-0x50)_0x1a9814[_0x934623(0x1e3)]=0x2;else _0x1a9814[_0x934623(0x1e3)]=0x1;}}var _0x47df91=0x0;_0x199ff7[_0x934623(0x224)](function(_0x58a406,_0x2de270){const _0x458750=_0x934623;if(_0x58a406['ssid']==_0x1a9814[_0x458750(0x20f)]){_0x47df91=0x1;if(_0x1a9814[_0x458750(0x1e3)]>_0x58a406[_0x458750(0x1e3)])_0x58a406['signal_level']=_0x1a9814[_0x458750(0x1e3)];}}),_0x47df91==0x0&&(_0x199ff7[_0x2c2b79]={'ssid':_0x1a9814[_0x934623(0x20f)],'security':_0x1a9814['security'],'signal_level':_0x1a9814[_0x934623(0x1e3)]},_0x2c2b79=_0x2c2b79+0x1);}),console['log'](_0x199ff7),_0x199ff7;}router[_0x30a4ba(0x22f)](_0x30a4ba(0x20d),admin,(_0x2a0d91,_0x3a8d7e)=>{const _0x2b21d2=_0x30a4ba;_0x3a8d7e[_0x2b21d2(0x21b)](_0x2b21d2(0x21a));}),router[_0x30a4ba(0x22f)]('/gvespecificahistorico',admin,(_0x4714ab,_0x2dc0ad)=>{const _0x39d5ed=_0x30a4ba;DadosTeste[_0x39d5ed(0x1d9)]({'tipo':0x0})[_0x39d5ed(0x229)]()[_0x39d5ed(0x211)](_0x39d5ed(0x228))[_0x39d5ed(0x225)]({'_id':_0x39d5ed(0x1f5)})['then'](_0x323163=>{const _0x2c1086=_0x39d5ed;_0x2dc0ad[_0x2c1086(0x21b)](_0x2c1086(0x240),{'eventos':_0x323163});})[_0x39d5ed(0x1f2)](_0x43a58a=>{const _0x296f6c=_0x39d5ed;_0x4714ab[_0x296f6c(0x221)](_0x296f6c(0x244),'Houve\x20um\x20erro\x20interno'),_0x2dc0ad[_0x296f6c(0x1f7)]('/404?data='+_0x43a58a);});}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x212),admin,(_0x1ef99e,_0x5e0ef6)=>{const _0x502e16=_0x30a4ba;DadosTeste[_0x502e16(0x1d9)]({'tipo':0x1})[_0x502e16(0x229)]()[_0x502e16(0x211)](_0x502e16(0x228))['sort']({'_id':_0x502e16(0x1f5)})[_0x502e16(0x1fd)](_0x254263=>{const _0x3b69bf=_0x502e16;_0x5e0ef6[_0x3b69bf(0x21b)](_0x3b69bf(0x1fb),{'eventos':_0x254263});})[_0x502e16(0x1f2)](_0x10d9e1=>{const _0x174d21=_0x502e16;_0x1ef99e[_0x174d21(0x221)](_0x174d21(0x244),_0x174d21(0x1e4)),_0x5e0ef6[_0x174d21(0x1f7)](_0x174d21(0x1ec)+_0x10d9e1);});}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x1fe),admin,(_0x5859f8,_0x3b42fd)=>{const _0x3f4da5=_0x30a4ba;_0x3b42fd[_0x3f4da5(0x21b)](_0x3f4da5(0x1e7));}),router['get']('/adduser',admin,(_0x3f19dd,_0x291dce)=>{const _0x5c8f0c=_0x30a4ba;_0x291dce[_0x5c8f0c(0x21b)](_0x5c8f0c(0x235));}),router[_0x30a4ba(0x22f)](_0x30a4ba(0x1e5),admin,(_0x1f9658,_0x59b0af)=>{const _0x538cf7=_0x30a4ba;Usuario['find']()[_0x538cf7(0x229)]()['populate'](_0x538cf7(0x245))[_0x538cf7(0x225)]({'login':'asc'})[_0x538cf7(0x1fd)](_0x92e1c3=>{const _0x22cf2=_0x538cf7;_0x59b0af[_0x22cf2(0x21b)](_0x22cf2(0x238),{'usuarios':_0x92e1c3,'busca':''});})[_0x538cf7(0x1f2)](_0x544bdb=>{const _0x4b14a2=_0x538cf7;_0x1f9658[_0x4b14a2(0x221)]('error_msg',_0x4b14a2(0x1e4)),_0x59b0af[_0x4b14a2(0x1f7)](_0x4b14a2(0x1ec)+_0x544bdb);});}),router[_0x30a4ba(0x24c)](_0x30a4ba(0x1e2),admin,(_0x508712,_0x44c6f2)=>{const _0x5a4463=_0x30a4ba;Usuario[_0x5a4463(0x1d9)]({'login':new RegExp(_0x508712[_0x5a4463(0x215)][_0x5a4463(0x1e9)],'i')})[_0x5a4463(0x229)]()['populate'](_0x5a4463(0x245))[_0x5a4463(0x225)]({'login':_0x5a4463(0x1dd)})[_0x5a4463(0x1fd)](_0x51e723=>{const _0x776d83=_0x5a4463;_0x44c6f2[_0x776d83(0x21b)](_0x776d83(0x238),{'usuarios':_0x51e723,'busca':_0x508712[_0x776d83(0x215)][_0x776d83(0x1e9)]});})['catch'](_0x23846b=>{const _0x4fde44=_0x5a4463;_0x508712[_0x4fde44(0x221)](_0x4fde44(0x244),_0x4fde44(0x1e4)),_0x44c6f2['redirect'](_0x4fde44(0x1ec)+_0x23846b);});});function isNumber(_0x2ee3bd){return!isNaN(parseFloat(_0x2ee3bd))&&isFinite(_0x2ee3bd);}router[_0x30a4ba(0x24c)](_0x30a4ba(0x1e6),admin,(_0x3770b7,_0x4622c4)=>{const _0x455aaa=_0x30a4ba;var _0x5ceefe=[];(!_0x3770b7['body'][_0x455aaa(0x1e1)]||typeof _0x3770b7['body'][_0x455aaa(0x1e1)]==undefined||typeof _0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x1e1)]==null)&&_0x5ceefe[_0x455aaa(0x1ff)]({'texto':'Nome\x20inválido'});(!_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x23a)]||typeof _0x3770b7['body']['setor']==undefined||typeof _0x3770b7[_0x455aaa(0x215)]['setor']==null)&&_0x5ceefe[_0x455aaa(0x1ff)]({'texto':'Setor\x20inválido'});if(_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x22c)][_0x455aaa(0x24e)]>0xf)_0x5ceefe[_0x455aaa(0x1ff)]({'texto':_0x455aaa(0x248)});else(!_0x3770b7['body'][_0x455aaa(0x22c)]||typeof _0x3770b7['body'][_0x455aaa(0x22c)]==undefined||typeof _0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x22c)]==null)&&_0x5ceefe['push']({'texto':'Login\x20inválido'});if(_0x3770b7[_0x455aaa(0x215)]['senha'][_0x455aaa(0x24e)]<0x4||_0x3770b7['body'][_0x455aaa(0x214)][_0x455aaa(0x24e)]>0x4)_0x5ceefe[_0x455aaa(0x1ff)]({'texto':_0x455aaa(0x20a)});else{if(!isNumber(_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x214)]))_0x5ceefe[_0x455aaa(0x1ff)]({'texto':_0x455aaa(0x23e)});else(!_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x214)]||typeof _0x3770b7[_0x455aaa(0x215)]['senha']==undefined||typeof _0x3770b7[_0x455aaa(0x215)]['senha']==null)&&_0x5ceefe[_0x455aaa(0x1ff)]({'texto':'Senha\x20inválida'});}if(_0x5ceefe['length']>0x0){var _0x54c9d9=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x54c9d9[_0x455aaa(0x1e1)]=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x1e1)],_0x54c9d9[_0x455aaa(0x23a)]=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x23a)],_0x54c9d9['login']=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x22c)],_0x54c9d9['rfid']=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x1db)],_0x54c9d9[_0x455aaa(0x232)]=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x232)],_0x54c9d9[_0x455aaa(0x230)]=_0x3770b7['body'][_0x455aaa(0x230)],_0x54c9d9[_0x455aaa(0x21c)]=_0x3770b7[_0x455aaa(0x215)][_0x455aaa(0x21c)],_0x54c9d9[_0x455aaa(0x1f9)]=_0x3770b7[_0x455aaa(0x215)]['gv4'],_0x54c9d9['gv5']=_0x3770b7[_0x455aaa(0x215)]['gv5'],_0x54c9d9[_0x455aaa(0x217)]=_0x3770b7[_0x455aaa(0x215)]['gv6'],_0x54c9d9[_0x455aaa(0x24b)]=_0x3770b7['body']['gv7'],_0x54c9d9[_0x455aaa(0x1ef)]=_0x3770b7['body'][_0x455aaa(0x1ef)],_0x4622c4[_0x455aaa(0x21b)](_0x455aaa(0x235),{'error':_0x5ceefe,'usuario':_0x54c9d9});}else Usuario['findOne']({'login':_0x3770b7[_0x455aaa(0x215)]['login']})[_0x455aaa(0x1fd)](_0x4644d9=>{const _0x26152c=_0x455aaa;if(_0x4644d9)_0x3770b7[_0x26152c(0x221)](_0x26152c(0x244),_0x26152c(0x218)),_0x4622c4[_0x26152c(0x1f7)](_0x26152c(0x226));else{const _0x426c78=new Usuario({'nome':_0x3770b7['body'][_0x26152c(0x1e1)],'setor':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x23a)],'login':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x22c)],'senha':_0x3770b7['body'][_0x26152c(0x214)],'rfid':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x1db)],'gv1':_0x3770b7['body'][_0x26152c(0x232)],'gv2':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x230)],'gv3':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x21c)],'gv4':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x1f9)],'gv5':_0x3770b7['body'][_0x26152c(0x213)],'gv6':_0x3770b7['body']['gv6'],'gv7':_0x3770b7[_0x26152c(0x215)][_0x26152c(0x24b)],'gv8':_0x3770b7['body'][_0x26152c(0x1ef)]});bcrypt[_0x26152c(0x1f8)](0xa,(_0x16be3e,_0x59dec6)=>{const _0x2adaed=_0x26152c;bcrypt['hash'](_0x426c78[_0x2adaed(0x214)],_0x59dec6,(_0x5e18cc,_0x15e9a4)=>{const _0x4e0b90=_0x2adaed;_0x5e18cc&&(_0x3770b7['flash']('error_msg',_0x4e0b90(0x234)),_0x4622c4[_0x4e0b90(0x1f7)]('/')),_0x426c78[_0x4e0b90(0x214)]=_0x15e9a4,_0x426c78[_0x4e0b90(0x249)]()[_0x4e0b90(0x1fd)](()=>{const _0xaf815b=_0x4e0b90;_0x3770b7[_0xaf815b(0x221)](_0xaf815b(0x1ee),'Usuario\x20criado\x20com\x20sucesso!'),_0x4622c4['redirect']('/admin/useroptions');})[_0x4e0b90(0x1f2)](_0x266ef9=>{const _0x210eeb=_0x4e0b90;_0x3770b7['flash'](_0x210eeb(0x244),'Houve\x20um\x20erro\x20ao\x20criar\x20o\x20usuário,\x20tente\x20novamente'),_0x4622c4[_0x210eeb(0x1f7)](_0x210eeb(0x226));});});});}})[_0x455aaa(0x1f2)](_0x34a395=>{const _0x3ba12c=_0x455aaa;_0x3770b7[_0x3ba12c(0x221)]('error_msg','Houve\x20um\x20erro\x20interno'),_0x4622c4[_0x3ba12c(0x1f7)]('/');});}),router[_0x30a4ba(0x24c)]('/edituser/editar',admin,(_0x3a69b7,_0x39f2b0)=>{const _0xcc147=_0x30a4ba;!_0x3a69b7[_0xcc147(0x215)]['log']?(_0x3a69b7['flash'](_0xcc147(0x244),_0xcc147(0x222)),_0x39f2b0[_0xcc147(0x1f7)](_0xcc147(0x1ed))):Usuario[_0xcc147(0x237)]({'login':_0x3a69b7[_0xcc147(0x215)]['log']})[_0xcc147(0x229)]()['then'](_0x3c2a5b=>{const _0x21ca84=_0xcc147;!_0x3c2a5b?_0x39f2b0[_0x21ca84(0x21b)](_0x21ca84(0x24f),{'error':error}):_0x39f2b0[_0x21ca84(0x21b)](_0x21ca84(0x201),{'usuario':_0x3c2a5b});})[_0xcc147(0x1f2)](_0x5c4a5c=>{const _0x358246=_0xcc147;_0x3a69b7[_0x358246(0x221)](_0x358246(0x244),_0x358246(0x227)),_0x39f2b0[_0x358246(0x1f7)]('/admin/edituser');});}),router['post']('/edituser/deletar',admin,(_0x4a916d,_0x4b611a)=>{const _0x4da085=_0x30a4ba;!_0x4a916d[_0x4da085(0x215)][_0x4da085(0x22a)]?(_0x4a916d[_0x4da085(0x221)](_0x4da085(0x244),_0x4da085(0x222)),_0x4b611a['redirect'](_0x4da085(0x1ed))):_0x4a916d['body'][_0x4da085(0x1fa)]!='2'?(console[_0x4da085(0x22a)](_0x4da085(0x200)+_0x4a916d[_0x4da085(0x215)][_0x4da085(0x1fa)]),Usuario[_0x4da085(0x21d)]({'login':_0x4a916d['body'][_0x4da085(0x22a)]})[_0x4da085(0x1fd)](()=>{const _0x1c63ed=_0x4da085;_0x4a916d['flash'](_0x1c63ed(0x1ee),_0x1c63ed(0x247)),_0x4b611a['redirect'](_0x1c63ed(0x1ed));})[_0x4da085(0x1f2)](_0x308e7e=>{const _0x426c49=_0x4da085;_0x4a916d[_0x426c49(0x221)](_0x426c49(0x244),_0x426c49(0x1f6)),_0x4b611a['redirect']('/admin/edituser');})):(_0x4a916d['flash'](_0x4da085(0x244),_0x4da085(0x231)),_0x4b611a['redirect'](_0x4da085(0x1ed)));}),router[_0x30a4ba(0x24c)](_0x30a4ba(0x243),admin,(_0x2c4ac7,_0x32ceb9)=>{const _0x463b8c=_0x30a4ba;var _0x242b6a=[],_0x6a7868=0x0;(!_0x2c4ac7[_0x463b8c(0x215)]['nome']||typeof _0x2c4ac7[_0x463b8c(0x215)]['nome']==undefined||typeof _0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x1e1)]==null)&&_0x242b6a[_0x463b8c(0x1ff)]({'texto':_0x463b8c(0x207)});(!_0x2c4ac7['body'][_0x463b8c(0x23a)]||typeof _0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x23a)]==undefined||typeof _0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x23a)]==null)&&_0x242b6a[_0x463b8c(0x1ff)]({'texto':_0x463b8c(0x1f4)});if(_0x2c4ac7[_0x463b8c(0x215)]['login'][_0x463b8c(0x24e)]>0xf)_0x242b6a[_0x463b8c(0x1ff)]({'texto':_0x463b8c(0x248)});else(!_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x22c)]||typeof _0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x22c)]==undefined||typeof _0x2c4ac7['body'][_0x463b8c(0x22c)]==null)&&_0x242b6a[_0x463b8c(0x1ff)]({'texto':_0x463b8c(0x216)});if(_0x2c4ac7[_0x463b8c(0x215)]['senha'][_0x463b8c(0x24e)]==0x0)_0x6a7868=0x1;else{if(_0x2c4ac7['body']['senha'][_0x463b8c(0x24e)]<0x4||_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x214)][_0x463b8c(0x24e)]>0x4)_0x242b6a[_0x463b8c(0x1ff)]({'texto':'A\x20senha\x20deve\x20conter\x204\x20caracteres'});else{if(!isNumber(_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x214)]))_0x242b6a[_0x463b8c(0x1ff)]({'texto':_0x463b8c(0x23e)});else(!_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x214)]||typeof _0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x214)]==undefined||typeof _0x2c4ac7[_0x463b8c(0x215)]['senha']==null)&&_0x242b6a['push']({'texto':_0x463b8c(0x236)});}}if(_0x242b6a[_0x463b8c(0x24e)]>0x0){var _0x30caa3=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x30caa3[_0x463b8c(0x1ea)]=_0x2c4ac7['body']['id'],_0x30caa3[_0x463b8c(0x1e1)]=_0x2c4ac7[_0x463b8c(0x215)]['nome'],_0x30caa3[_0x463b8c(0x23a)]=_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x23a)],_0x30caa3[_0x463b8c(0x22c)]=_0x2c4ac7[_0x463b8c(0x215)]['login'],_0x30caa3[_0x463b8c(0x1db)]=_0x2c4ac7['body']['rfid'],_0x30caa3[_0x463b8c(0x232)]=_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x232)],_0x30caa3['gv2']=_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x230)],_0x30caa3[_0x463b8c(0x21c)]=_0x2c4ac7['body']['gv3'],_0x30caa3[_0x463b8c(0x1f9)]=_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x1f9)],_0x30caa3[_0x463b8c(0x213)]=_0x2c4ac7['body']['gv5'],_0x30caa3[_0x463b8c(0x217)]=_0x2c4ac7[_0x463b8c(0x215)]['gv6'],_0x30caa3['gv7']=_0x2c4ac7[_0x463b8c(0x215)][_0x463b8c(0x24b)],_0x30caa3['gv8']=_0x2c4ac7[_0x463b8c(0x215)]['gv8'],_0x32ceb9[_0x463b8c(0x21b)]('admin/editar',{'error':_0x242b6a,'usuario':_0x30caa3});}else Usuario[_0x463b8c(0x237)]({'_id':_0x2c4ac7[_0x463b8c(0x215)]['id']})[_0x463b8c(0x1fd)](_0x510ba6=>{const _0x492d8f=_0x463b8c;_0x510ba6['nome']=_0x2c4ac7['body'][_0x492d8f(0x1e1)],_0x510ba6[_0x492d8f(0x23a)]=_0x2c4ac7['body'][_0x492d8f(0x23a)],_0x510ba6[_0x492d8f(0x22c)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x22c)],_0x510ba6[_0x492d8f(0x1db)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x1db)],_0x510ba6[_0x492d8f(0x232)]=_0x2c4ac7[_0x492d8f(0x215)]['gv1'],_0x510ba6[_0x492d8f(0x230)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x230)],_0x510ba6[_0x492d8f(0x21c)]=_0x2c4ac7['body'][_0x492d8f(0x21c)],_0x510ba6[_0x492d8f(0x1f9)]=_0x2c4ac7['body'][_0x492d8f(0x1f9)],_0x510ba6[_0x492d8f(0x213)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x213)],_0x510ba6[_0x492d8f(0x217)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x217)],_0x510ba6[_0x492d8f(0x24b)]=_0x2c4ac7[_0x492d8f(0x215)][_0x492d8f(0x24b)],_0x510ba6[_0x492d8f(0x1ef)]=_0x2c4ac7[_0x492d8f(0x215)]['gv8'],_0x6a7868==0x1?(_0x510ba6['senha']=_0x510ba6[_0x492d8f(0x214)],_0x510ba6['save']()[_0x492d8f(0x1fd)](()=>{const _0x266cae=_0x492d8f;_0x2c4ac7[_0x266cae(0x221)](_0x266cae(0x1ee),'Usuario\x20editado\x20com\x20sucesso!'),_0x32ceb9[_0x266cae(0x1f7)](_0x266cae(0x1ed));})['catch'](_0x5aeb9d=>{const _0x11d83e=_0x492d8f;_0x2c4ac7[_0x11d83e(0x221)](_0x11d83e(0x244),_0x11d83e(0x1df)),_0x32ceb9[_0x11d83e(0x1f7)]('/admin/edituser');})):(_0x510ba6[_0x492d8f(0x214)]=_0x2c4ac7['body'][_0x492d8f(0x214)],bcrypt[_0x492d8f(0x1f8)](0xa,(_0x28d31c,_0x27d368)=>{const _0x355738=_0x492d8f;bcrypt[_0x355738(0x1fc)](_0x510ba6['senha'],_0x27d368,(_0x491620,_0x1ace4d)=>{const _0x21f4ca=_0x355738;_0x491620&&(_0x2c4ac7[_0x21f4ca(0x221)](_0x21f4ca(0x244),_0x21f4ca(0x1df)),_0x32ceb9[_0x21f4ca(0x1f7)]('/')),_0x510ba6[_0x21f4ca(0x214)]=_0x1ace4d,_0x510ba6[_0x21f4ca(0x249)]()[_0x21f4ca(0x1fd)](()=>{const _0x5d0108=_0x21f4ca;_0x2c4ac7['flash'](_0x5d0108(0x1ee),_0x5d0108(0x250)),_0x32ceb9['redirect'](_0x5d0108(0x1ed));})[_0x21f4ca(0x1f2)](_0x6ecf5c=>{const _0xc42ce6=_0x21f4ca;_0x2c4ac7[_0xc42ce6(0x221)](_0xc42ce6(0x244),_0xc42ce6(0x1df)),_0x32ceb9[_0xc42ce6(0x1f7)](_0xc42ce6(0x1ed));});});}));})[_0x463b8c(0x1f2)](_0x4e8a9b=>{const _0x49c015=_0x463b8c;_0x2c4ac7[_0x49c015(0x221)]('error_msg','Houve\x20um\x20erro\x20ao\x20editar\x20o\x20usuario'),console[_0x49c015(0x22a)](_0x49c015(0x219)+_0x4e8a9b),_0x32ceb9[_0x49c015(0x1f7)](_0x49c015(0x1ed));});}),module[_0x30a4ba(0x20e)]=router;