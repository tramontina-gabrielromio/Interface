function _0x5a84(){const _0xca9004=['/404?data=','/adduser','../models/Ferramenta','forEach','usuarios','replace','admin/edituser/','/acessoremoto','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20login','passport','nome','4TPVjgZ','stdout','gv4','login','redirect','success_msg','Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20cartão\x20RFID','get','../models/Usuario','Router','init','admin/gvespecificahistorico','dadosTestes','nivel','admin/todasgvhistorico','_id','Senha\x20inválida','Houve\x20um\x20erro\x20durante\x20o\x20salvamento\x20do\x20usuário','asc','render','/useroptions','Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20usuário','1437489QhQWJW','frequency','findOne','adicionando\x205...','O\x20login\x20deve\x20conter\x20no\x20máximo\x2015\x20caracteres','error_msg','Setor\x20inválido','catch','slice','Erro\x20ao\x20editar\x20o\x20usuario:\x20','/edituser/buscar','Endereço\x20MAC:\x20','sort','17198WnPVLt','Login\x20inválido','5pxDQYT','find','cat','setor','/gvespecificahistorico','/admin/edituser','model','admin/gavetaespecifica','admin/edituser','1717375qgYSgB','toUpperCase','A\x20senha\x20deve\x20conter\x204\x20caracteres','gv3','Houve\x20um\x20erro\x20interno','/edituser/deletar','remove','admin/acessoremoto','Usuario\x20deletado\x20com\x20sucesso!','admin/atualizacao','gv7','9jpXLiW','push','mongoose','admin/todasgavetas','10DBycpV','gv5','nivel:\x20','lean','../models/DadosTeste','/edituser/editar','/gavetaespecifica','senha','/admin/useroptions','getCurrentConnections','/todasgvhistorico','post','populate','admin/testes','gv2','Usuario\x20editado\x20com\x20sucesso!','rfid','node-wifi','/todasgavetas','log','Lista\x20de\x20configurações\x20vazia...','hash','signal_level','Houve\x20um\x20erro\x20ao\x20criar\x20o\x20usuário,\x20tente\x20novamente','/admin/adduser','configuracoes','genSalt','3770410spNGSc','/sys/class/net/wlan0/address','13424rMGQDJ','gv1','ssid','userLogin','length','Nenhum\x20usuário\x20selecionado','bcryptjs','Este\x20usuario\x20não\x20existe','flash','1493808TSENNP','1897ntelbY','data','Houve\x20um\x20erro\x20ao\x20salvar\x20o\x20usuário,\x20tente\x20novamente','000000000000000000000001','15253920phJszW','ferramentas','gv8','admin/adduser','body','Nome\x20inválido','then','Usuario\x20criado\x20com\x20sucesso!','gv6','save'];_0x5a84=function(){return _0xca9004;};return _0x5a84();}const _0x1b773b=_0xb9a7;(function(_0x37bcac,_0x53adf4){const _0x1d84f0=_0xb9a7,_0x14e371=_0x37bcac();while(!![]){try{const _0xac674c=parseInt(_0x1d84f0(0x15a))/0x1*(-parseInt(_0x1d84f0(0x140))/0x2)+parseInt(_0x1d84f0(0x133))/0x3*(-parseInt(_0x1d84f0(0x19a))/0x4)+parseInt(_0x1d84f0(0x142))/0x5*(parseInt(_0x1d84f0(0x180))/0x6)+parseInt(_0x1d84f0(0x181))/0x7*(-parseInt(_0x1d84f0(0x177))/0x8)+-parseInt(_0x1d84f0(0x156))/0x9*(parseInt(_0x1d84f0(0x175))/0xa)+parseInt(_0x1d84f0(0x14b))/0xb+parseInt(_0x1d84f0(0x185))/0xc;if(_0xac674c===_0x53adf4)break;else _0x14e371['push'](_0x14e371['shift']());}catch(_0x12463b){_0x14e371['push'](_0x14e371['shift']());}}}(_0x5a84,0x44319));const express=require('express'),router=express[_0x1b773b(0x126)](),mongoose=require(_0x1b773b(0x158));require(_0x1b773b(0x125));const Usuario=mongoose[_0x1b773b(0x148)](_0x1b773b(0x193));require(_0x1b773b(0x191));const Ferramenta=mongoose[_0x1b773b(0x148)](_0x1b773b(0x186)),bcrypt=require(_0x1b773b(0x17d)),passport=require(_0x1b773b(0x198)),{admin}=require('../helpers/administrador'),Schema=mongoose['Schema'];require(_0x1b773b(0x15e));const DadosTeste=mongoose[_0x1b773b(0x148)]('dadosTestes');require('../models/Configuracoes');const Configuracao=mongoose[_0x1b773b(0x148)](_0x1b773b(0x173)),wifi=require(_0x1b773b(0x16b));wifi[_0x1b773b(0x127)]({'iface':null}),router['get'](_0x1b773b(0x131),admin,(_0x4a114d,_0xc4ae4d)=>{_0xc4ae4d['render']('admin/useroptions');}),router[_0x1b773b(0x124)](_0x1b773b(0x196),admin,(_0x5dd867,_0x3f10de)=>{const _0x4fd547=_0x1b773b;_0x3f10de[_0x4fd547(0x130)](_0x4fd547(0x152));}),router['get']('/options',admin,(_0xcdf0d8,_0x3ba6ad)=>{const _0x216165=_0x1b773b;Configuracao[_0x216165(0x135)]({'_id':_0x216165(0x184)})[_0x216165(0x15d)]()[_0x216165(0x166)](_0x216165(0x173))[_0x216165(0x18b)](_0x54c4f6=>{const _0x204b51=_0x216165;if(_0x54c4f6)_0x3ba6ad[_0x204b51(0x130)]('admin/options',{'configuracoes':_0x54c4f6});else{console[_0x204b51(0x16d)](_0x204b51(0x16e));const _0x501dcd={'fechamento':0x0,'cartao':0x0,'desligamento':0x0,'email':'-','dataRelatorio':'0'};_0x3ba6ad[_0x204b51(0x130)]('admin/options',{'configuracoes':_0x501dcd});}})[_0x216165(0x13a)](_0x12500a=>{const _0x5925a5=_0x216165;_0xcdf0d8[_0x5925a5(0x17f)]('error_msg','Houve\x20um\x20erro\x20interno'),_0x3ba6ad[_0x5925a5(0x121)](_0x5925a5(0x18f)+_0x12500a);});}),router['get']('/testes',admin,(_0x291715,_0x39c2da)=>{const _0xe59f7d=_0x1b773b;_0x39c2da['render'](_0xe59f7d(0x167));}),router[_0x1b773b(0x124)]('/atualizacao',admin,(_0x47e8b6,_0x2610b5)=>{const _0x478a06=_0x1b773b;_0x2610b5[_0x478a06(0x130)](_0x478a06(0x154));});const {spawn}=require('child_process');var enderecoMac;returnMAC();function returnMAC(){const _0x3a63fa=_0x1b773b,_0x45e1e7=spawn(_0x3a63fa(0x144),[_0x3a63fa(0x176)]);_0x45e1e7[_0x3a63fa(0x19b)]['on'](_0x3a63fa(0x182),_0x3fd4cc=>{const _0x527f5a=_0x3a63fa;enderecoMac=String(_0x3fd4cc)[_0x527f5a(0x14c)]()[_0x527f5a(0x194)](/:/g,'-');});}router[_0x1b773b(0x124)]('/wifi',admin,(_0x22370a,_0x163be3)=>{const _0x40dd44=_0x1b773b;console[_0x40dd44(0x16d)](_0x40dd44(0x13e)+enderecoMac),wifi[_0x40dd44(0x163)]((_0x4d5fb5,_0x37ae20)=>{const _0x52a696=_0x40dd44;if(_0x37ae20[_0x52a696(0x17b)]>0x0){var _0x22ff5c=String(_0x37ae20[0x0][_0x52a696(0x134)]);_0x37ae20[0x0][_0x52a696(0x134)]=_0x22ff5c[0x0]+','+_0x22ff5c[0x1];if(_0x37ae20[0x0][_0x52a696(0x170)]>=-0x3c)_0x37ae20[0x0]['signal_level']=0x4;else{if(_0x37ae20[0x0]['signal_level']>=-0x46)_0x37ae20[0x0][_0x52a696(0x170)]=0x3;else{if(_0x37ae20[0x0][_0x52a696(0x170)]>=-0x50)_0x37ae20[0x0][_0x52a696(0x170)]=0x2;else _0x37ae20[0x0][_0x52a696(0x170)]=0x1;}}_0x163be3[_0x52a696(0x130)]('admin/wifi',{'network':_0x37ae20[_0x52a696(0x13b)](0x0,0x1),'conectado':0x1,'mac':enderecoMac});}else wifi['scan']((_0x4330c8,_0x3c140b)=>{const _0x785bf5=_0x52a696;if(_0x4330c8)console['log'](_0x4330c8);else _0x163be3[_0x785bf5(0x130)]('admin/wifi',{'network':agrupaWifi(_0x3c140b),'conectado':0x0,'mac':enderecoMac});});});});function _0xb9a7(_0x217125,_0x3acfcd){const _0x5a846d=_0x5a84();return _0xb9a7=function(_0xb9a7bc,_0xddd8ae){_0xb9a7bc=_0xb9a7bc-0x11f;let _0x41b46d=_0x5a846d[_0xb9a7bc];return _0x41b46d;},_0xb9a7(_0x217125,_0x3acfcd);}function agrupaWifi(_0xdc50a2){const _0x2ee00c=_0x1b773b;var _0x266ecb=new Array(),_0x2e670d=0x0;return _0xdc50a2[_0x2ee00c(0x192)](function(_0x1d4ba3,_0x16335b){const _0x297105=_0x2ee00c;if(_0x1d4ba3[_0x297105(0x170)]>=-0x3c)_0x1d4ba3['signal_level']=0x4;else{if(_0x1d4ba3['signal_level']>=-0x46)_0x1d4ba3[_0x297105(0x170)]=0x3;else{if(_0x1d4ba3[_0x297105(0x170)]>=-0x50)_0x1d4ba3['signal_level']=0x2;else _0x1d4ba3[_0x297105(0x170)]=0x1;}}var _0x496b60=0x0;_0x266ecb[_0x297105(0x192)](function(_0xe4938b,_0x130c89){const _0x50ca8e=_0x297105;if(_0xe4938b['ssid']==_0x1d4ba3[_0x50ca8e(0x179)]){_0x496b60=0x1;if(_0x1d4ba3[_0x50ca8e(0x170)]>_0xe4938b[_0x50ca8e(0x170)])_0xe4938b[_0x50ca8e(0x170)]=_0x1d4ba3[_0x50ca8e(0x170)];}}),_0x496b60==0x0&&_0x1d4ba3[_0x297105(0x179)]!=''&&(_0x266ecb[_0x2e670d]={'ssid':_0x1d4ba3[_0x297105(0x179)],'security':_0x1d4ba3['security'],'signal_level':_0x1d4ba3[_0x297105(0x170)]},_0x2e670d=_0x2e670d+0x1);}),console['log'](_0x266ecb),_0x266ecb;}router[_0x1b773b(0x124)](_0x1b773b(0x160),admin,(_0x37d13a,_0x416021)=>{const _0x4a74ce=_0x1b773b;_0x416021['render'](_0x4a74ce(0x149));}),router[_0x1b773b(0x124)](_0x1b773b(0x146),admin,(_0x914bdd,_0x3998dc)=>{const _0x9ce4ec=_0x1b773b;DadosTeste[_0x9ce4ec(0x143)]({'tipo':0x0})[_0x9ce4ec(0x15d)]()[_0x9ce4ec(0x166)](_0x9ce4ec(0x129))['sort']({'_id':'desc'})['then'](_0x5300fa=>{const _0x2732bf=_0x9ce4ec;_0x3998dc['render'](_0x2732bf(0x128),{'eventos':_0x5300fa});})['catch'](_0x37034b=>{const _0x127a86=_0x9ce4ec;_0x914bdd['flash'](_0x127a86(0x138),_0x127a86(0x14f)),_0x3998dc[_0x127a86(0x121)](_0x127a86(0x18f)+_0x37034b);});}),router[_0x1b773b(0x124)](_0x1b773b(0x164),admin,(_0x2fc8f6,_0x4435f3)=>{const _0x5040d5=_0x1b773b;DadosTeste[_0x5040d5(0x143)]({'tipo':0x1})[_0x5040d5(0x15d)]()['populate']('dadosTestes')['sort']({'_id':'desc'})['then'](_0x49bd7a=>{const _0x51e0ee=_0x5040d5;_0x4435f3[_0x51e0ee(0x130)](_0x51e0ee(0x12b),{'eventos':_0x49bd7a});})[_0x5040d5(0x13a)](_0x4e19be=>{const _0x4ce4d0=_0x5040d5;_0x2fc8f6['flash'](_0x4ce4d0(0x138),'Houve\x20um\x20erro\x20interno'),_0x4435f3[_0x4ce4d0(0x121)](_0x4ce4d0(0x18f)+_0x4e19be);});}),router['get'](_0x1b773b(0x16c),admin,(_0x599e0e,_0x5d43f5)=>{const _0x1b9ee8=_0x1b773b;_0x5d43f5[_0x1b9ee8(0x130)](_0x1b9ee8(0x159));}),router[_0x1b773b(0x124)]('/adduser',admin,(_0x1ba1dc,_0x5b4cf4)=>{const _0x592096=_0x1b773b;_0x5b4cf4[_0x592096(0x130)](_0x592096(0x188));}),router[_0x1b773b(0x124)]('/edituser',admin,(_0x40af68,_0x2e87df)=>{const _0x359c3d=_0x1b773b;Usuario[_0x359c3d(0x143)]({'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]})[_0x359c3d(0x15d)]()[_0x359c3d(0x166)]('usuarios')[_0x359c3d(0x13f)]({'login':_0x359c3d(0x12f)})[_0x359c3d(0x18b)](_0x44e15b=>{const _0x4eb51f=_0x359c3d;_0x2e87df[_0x4eb51f(0x130)](_0x4eb51f(0x14a),{'usuarios':_0x44e15b,'busca':''});})[_0x359c3d(0x13a)](_0x510e2a=>{const _0x3101c4=_0x359c3d;_0x40af68[_0x3101c4(0x17f)](_0x3101c4(0x138),_0x3101c4(0x14f)),_0x2e87df[_0x3101c4(0x121)]('/404?data='+_0x510e2a);});}),router[_0x1b773b(0x165)](_0x1b773b(0x13d),admin,(_0x519ed9,_0x364b21)=>{const _0x57e0bb=_0x1b773b;Usuario['find']({'$and':[{'login':new RegExp(_0x519ed9[_0x57e0bb(0x189)][_0x57e0bb(0x17a)],'i')},{'$or':[{'nivel':0x0},{'nivel':0x1},{'nivel':0x2}]}]})[_0x57e0bb(0x15d)]()['populate'](_0x57e0bb(0x193))[_0x57e0bb(0x13f)]({'login':'asc'})[_0x57e0bb(0x18b)](_0x595acd=>{const _0x333a4e=_0x57e0bb;_0x364b21['render'](_0x333a4e(0x14a),{'usuarios':_0x595acd,'busca':_0x519ed9[_0x333a4e(0x189)][_0x333a4e(0x17a)]});})[_0x57e0bb(0x13a)](_0x45192a=>{const _0x2abeb4=_0x57e0bb;_0x519ed9['flash'](_0x2abeb4(0x138),_0x2abeb4(0x14f)),_0x364b21[_0x2abeb4(0x121)](_0x2abeb4(0x18f)+_0x45192a);});});function isNumber(_0x6ff05){return!isNaN(parseFloat(_0x6ff05))&&isFinite(_0x6ff05);}router[_0x1b773b(0x165)](_0x1b773b(0x190),admin,(_0x18a884,_0x56911b)=>{const _0x4c6c26=_0x1b773b;var _0x31c1d9=[];(!_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x199)]||typeof _0x18a884[_0x4c6c26(0x189)]['nome']==undefined||typeof _0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x199)]==null)&&_0x31c1d9[_0x4c6c26(0x157)]({'texto':_0x4c6c26(0x18a)});(!_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x145)]||typeof _0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x145)]==undefined||typeof _0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x145)]==null)&&_0x31c1d9[_0x4c6c26(0x157)]({'texto':_0x4c6c26(0x139)});if(_0x18a884[_0x4c6c26(0x189)]['login'][_0x4c6c26(0x17b)]>0xf)_0x31c1d9[_0x4c6c26(0x157)]({'texto':_0x4c6c26(0x137)});else(!_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x120)]||typeof _0x18a884['body'][_0x4c6c26(0x120)]==undefined||typeof _0x18a884['body'][_0x4c6c26(0x120)]==null)&&_0x31c1d9[_0x4c6c26(0x157)]({'texto':_0x4c6c26(0x141)});if(_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x161)][_0x4c6c26(0x17b)]<0x4||_0x18a884['body'][_0x4c6c26(0x161)][_0x4c6c26(0x17b)]>0x4)_0x31c1d9[_0x4c6c26(0x157)]({'texto':'A\x20senha\x20deve\x20conter\x204\x20caracteres'});else{if(!isNumber(_0x18a884[_0x4c6c26(0x189)]['senha']))_0x31c1d9[_0x4c6c26(0x157)]({'texto':'A\x20senha\x20deve\x20conter\x20apenas\x20números'});else(!_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x161)]||typeof _0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x161)]==undefined||typeof _0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x161)]==null)&&_0x31c1d9[_0x4c6c26(0x157)]({'texto':_0x4c6c26(0x12d)});}if(_0x31c1d9[_0x4c6c26(0x17b)]>0x0){var _0x3fc0ed=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x3fc0ed['nome']=_0x18a884['body']['nome'],_0x3fc0ed['setor']=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x145)],_0x3fc0ed[_0x4c6c26(0x120)]=_0x18a884[_0x4c6c26(0x189)]['login'],_0x3fc0ed['rfid']=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x16a)],_0x3fc0ed[_0x4c6c26(0x178)]=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x178)],_0x3fc0ed[_0x4c6c26(0x168)]=_0x18a884['body'][_0x4c6c26(0x168)],_0x3fc0ed[_0x4c6c26(0x14e)]=_0x18a884[_0x4c6c26(0x189)]['gv3'],_0x3fc0ed['gv4']=_0x18a884['body'][_0x4c6c26(0x11f)],_0x3fc0ed[_0x4c6c26(0x15b)]=_0x18a884['body'][_0x4c6c26(0x15b)],_0x3fc0ed[_0x4c6c26(0x18d)]=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x18d)],_0x3fc0ed['gv7']=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x155)],_0x3fc0ed[_0x4c6c26(0x187)]=_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x187)],_0x56911b['render']('admin/adduser',{'error':_0x31c1d9,'usuario':_0x3fc0ed});}else Usuario[_0x4c6c26(0x135)]({'$or':[{'login':_0x18a884[_0x4c6c26(0x189)]['login']},{'$and':[{'rfid':_0x18a884[_0x4c6c26(0x189)][_0x4c6c26(0x16a)]},{'rfid':{'$ne':''}}]}]})['then'](_0x30d8d5=>{const _0x53aa5a=_0x4c6c26;if(_0x30d8d5){if(_0x30d8d5[_0x53aa5a(0x120)]==_0x18a884[_0x53aa5a(0x189)]['login']){_0x31c1d9[_0x53aa5a(0x157)]({'texto':'Já\x20existe\x20uma\x20conta\x20registrada\x20com\x20esse\x20login'});var _0x4c46bd=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x4c46bd['nome']=_0x18a884[_0x53aa5a(0x189)]['nome'],_0x4c46bd[_0x53aa5a(0x145)]=_0x18a884['body'][_0x53aa5a(0x145)],_0x4c46bd[_0x53aa5a(0x120)]='',_0x4c46bd['rfid']=_0x18a884['body'][_0x53aa5a(0x16a)],_0x4c46bd['gv1']=_0x18a884['body']['gv1'],_0x4c46bd[_0x53aa5a(0x168)]=_0x18a884['body'][_0x53aa5a(0x168)],_0x4c46bd[_0x53aa5a(0x14e)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x14e)],_0x4c46bd[_0x53aa5a(0x11f)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x11f)],_0x4c46bd[_0x53aa5a(0x15b)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x15b)],_0x4c46bd[_0x53aa5a(0x18d)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x18d)],_0x4c46bd['gv7']=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x155)],_0x4c46bd[_0x53aa5a(0x187)]=_0x18a884[_0x53aa5a(0x189)]['gv8'],_0x56911b[_0x53aa5a(0x130)](_0x53aa5a(0x188),{'error':_0x31c1d9,'usuario':_0x4c46bd});}else{console[_0x53aa5a(0x16d)](_0x53aa5a(0x136)),_0x31c1d9[_0x53aa5a(0x157)]({'texto':_0x53aa5a(0x123)});var _0x4c46bd=new Schema({'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String},'gv1':{'type':Boolean},'gv2':{'type':Boolean},'gv3':{'type':Boolean},'gv4':{'type':Boolean},'gv5':{'type':Boolean},'gv6':{'type':Boolean},'gv7':{'type':Boolean},'gv8':{'type':Boolean}});_0x4c46bd[_0x53aa5a(0x199)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x199)],_0x4c46bd[_0x53aa5a(0x145)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x145)],_0x4c46bd[_0x53aa5a(0x120)]=_0x18a884['body'][_0x53aa5a(0x120)],_0x4c46bd[_0x53aa5a(0x16a)]='',_0x4c46bd['gv1']=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x178)],_0x4c46bd['gv2']=_0x18a884[_0x53aa5a(0x189)]['gv2'],_0x4c46bd[_0x53aa5a(0x14e)]=_0x18a884['body'][_0x53aa5a(0x14e)],_0x4c46bd[_0x53aa5a(0x11f)]=_0x18a884['body'][_0x53aa5a(0x11f)],_0x4c46bd['gv5']=_0x18a884[_0x53aa5a(0x189)]['gv5'],_0x4c46bd[_0x53aa5a(0x18d)]=_0x18a884[_0x53aa5a(0x189)]['gv6'],_0x4c46bd[_0x53aa5a(0x155)]=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x155)],_0x4c46bd['gv8']=_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x187)],_0x56911b[_0x53aa5a(0x130)](_0x53aa5a(0x188),{'error':_0x31c1d9,'usuario':_0x4c46bd});}}else{const _0x24a175=new Usuario({'nome':_0x18a884[_0x53aa5a(0x189)]['nome'],'setor':_0x18a884['body'][_0x53aa5a(0x145)],'login':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x120)],'senha':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x161)],'rfid':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x16a)],'gv1':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x178)],'gv2':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x168)],'gv3':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x14e)],'gv4':_0x18a884['body'][_0x53aa5a(0x11f)],'gv5':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x15b)],'gv6':_0x18a884[_0x53aa5a(0x189)][_0x53aa5a(0x18d)],'gv7':_0x18a884[_0x53aa5a(0x189)]['gv7'],'gv8':_0x18a884[_0x53aa5a(0x189)]['gv8']});bcrypt[_0x53aa5a(0x174)](0xa,(_0x3a2f03,_0x2aea61)=>{const _0x3da10b=_0x53aa5a;bcrypt[_0x3da10b(0x16f)](_0x24a175[_0x3da10b(0x161)],_0x2aea61,(_0x23aa5e,_0x50af38)=>{const _0xb48820=_0x3da10b;_0x23aa5e&&(_0x18a884[_0xb48820(0x17f)](_0xb48820(0x138),_0xb48820(0x12e)),_0x56911b[_0xb48820(0x121)]('/')),_0x24a175[_0xb48820(0x161)]=_0x50af38,_0x24a175[_0xb48820(0x18e)]()[_0xb48820(0x18b)](()=>{const _0x421d0f=_0xb48820;_0x18a884[_0x421d0f(0x17f)]('success_msg',_0x421d0f(0x18c)),_0x56911b[_0x421d0f(0x121)](_0x421d0f(0x162));})[_0xb48820(0x13a)](_0x3fbd76=>{const _0x2be5fa=_0xb48820;_0x18a884[_0x2be5fa(0x17f)](_0x2be5fa(0x138),_0x2be5fa(0x171)),_0x56911b[_0x2be5fa(0x121)](_0x2be5fa(0x172));});});});}})[_0x4c6c26(0x13a)](_0x36f657=>{const _0x23980f=_0x4c6c26;_0x18a884[_0x23980f(0x17f)]('error_msg',_0x23980f(0x14f)),_0x56911b['redirect']('/');});}),router['post'](_0x1b773b(0x15f),admin,(_0x4d5738,_0x40461f)=>{const _0x1c3d56=_0x1b773b;!_0x4d5738['body'][_0x1c3d56(0x16d)]?(_0x4d5738['flash']('error_msg','Nenhum\x20usuário\x20selecionado'),_0x40461f['redirect'](_0x1c3d56(0x147))):Usuario[_0x1c3d56(0x135)]({'login':_0x4d5738[_0x1c3d56(0x189)][_0x1c3d56(0x16d)]})[_0x1c3d56(0x15d)]()[_0x1c3d56(0x18b)](_0x446dfe=>{const _0x3ce0a5=_0x1c3d56;!_0x446dfe?_0x40461f[_0x3ce0a5(0x130)](_0x3ce0a5(0x195),{'error':error}):_0x40461f[_0x3ce0a5(0x130)]('admin/editar',{'usuario':_0x446dfe});})[_0x1c3d56(0x13a)](_0x2148b3=>{const _0x3754d8=_0x1c3d56;_0x4d5738['flash'](_0x3754d8(0x138),_0x3754d8(0x17e)),_0x40461f['redirect']('/admin/edituser');});}),router[_0x1b773b(0x165)](_0x1b773b(0x150),admin,(_0x4b885b,_0x5df48b)=>{const _0x52bb70=_0x1b773b;!_0x4b885b[_0x52bb70(0x189)][_0x52bb70(0x16d)]?(_0x4b885b[_0x52bb70(0x17f)](_0x52bb70(0x138),_0x52bb70(0x17c)),_0x5df48b[_0x52bb70(0x121)](_0x52bb70(0x147))):_0x4b885b['body'][_0x52bb70(0x12a)]!='2'?(console[_0x52bb70(0x16d)](_0x52bb70(0x15c)+_0x4b885b[_0x52bb70(0x189)]['nivel']),Usuario[_0x52bb70(0x151)]({'login':_0x4b885b[_0x52bb70(0x189)][_0x52bb70(0x16d)]})[_0x52bb70(0x18b)](()=>{const _0x57c12f=_0x52bb70;_0x4b885b[_0x57c12f(0x17f)](_0x57c12f(0x122),_0x57c12f(0x153)),_0x5df48b['redirect'](_0x57c12f(0x147));})[_0x52bb70(0x13a)](_0x1f6795=>{const _0x269135=_0x52bb70;_0x4b885b['flash'](_0x269135(0x138),_0x269135(0x132)),_0x5df48b['redirect']('/admin/edituser');})):(_0x4b885b[_0x52bb70(0x17f)](_0x52bb70(0x138),'O\x20usuário\x20selecionado\x20não\x20pode\x20ser\x20excluido'),_0x5df48b[_0x52bb70(0x121)](_0x52bb70(0x147)));}),router[_0x1b773b(0x165)]('/edituser/editar/salvar',admin,(_0x1e337a,_0x4fb642)=>{const _0x41f99b=_0x1b773b;var _0x1f4cb8=[],_0x46c58e=0x0;(!_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x199)]||typeof _0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x199)]==undefined||typeof _0x1e337a['body'][_0x41f99b(0x199)]==null)&&_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x18a)});(!_0x1e337a['body']['setor']||typeof _0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x145)]==undefined||typeof _0x1e337a['body']['setor']==null)&&_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x139)});if(_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x120)]['length']>0xf)_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x137)});else(!_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x120)]||typeof _0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x120)]==undefined||typeof _0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x120)]==null)&&_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x141)});if(_0x1e337a[_0x41f99b(0x189)]['senha'][_0x41f99b(0x17b)]==0x0)_0x46c58e=0x1;else{if(_0x1e337a[_0x41f99b(0x189)]['senha'][_0x41f99b(0x17b)]<0x4||_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x161)]['length']>0x4)_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x14d)});else{if(!isNumber(_0x1e337a['body'][_0x41f99b(0x161)]))_0x1f4cb8['push']({'texto':'A\x20senha\x20deve\x20conter\x20apenas\x20números'});else(!_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x161)]||typeof _0x1e337a['body'][_0x41f99b(0x161)]==undefined||typeof _0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x161)]==null)&&_0x1f4cb8[_0x41f99b(0x157)]({'texto':_0x41f99b(0x12d)});}}if(_0x1f4cb8['length']>0x0){var _0x230c7e=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x230c7e[_0x41f99b(0x12c)]=_0x1e337a[_0x41f99b(0x189)]['id'],_0x230c7e[_0x41f99b(0x199)]=_0x1e337a[_0x41f99b(0x189)]['nome'],_0x230c7e[_0x41f99b(0x145)]=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x145)],_0x230c7e['login']=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x120)],_0x230c7e[_0x41f99b(0x16a)]=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x16a)],_0x230c7e[_0x41f99b(0x178)]=_0x1e337a[_0x41f99b(0x189)]['gv1'],_0x230c7e['gv2']=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x168)],_0x230c7e['gv3']=_0x1e337a['body'][_0x41f99b(0x14e)],_0x230c7e[_0x41f99b(0x11f)]=_0x1e337a['body'][_0x41f99b(0x11f)],_0x230c7e[_0x41f99b(0x15b)]=_0x1e337a[_0x41f99b(0x189)]['gv5'],_0x230c7e[_0x41f99b(0x18d)]=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x18d)],_0x230c7e[_0x41f99b(0x155)]=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x155)],_0x230c7e['gv8']=_0x1e337a[_0x41f99b(0x189)][_0x41f99b(0x187)],_0x4fb642[_0x41f99b(0x130)]('admin/editar',{'error':_0x1f4cb8,'usuario':_0x230c7e});}else Usuario[_0x41f99b(0x135)]({'$or':[{'$and':[{'_id':{'$ne':_0x1e337a[_0x41f99b(0x189)]['id']}},{'login':_0x1e337a['body'][_0x41f99b(0x120)]}]},{'$and':[{'_id':{'$ne':_0x1e337a['body']['id']}},{'rfid':_0x1e337a['body']['rfid']},{'rfid':{'$ne':''}}]}]})[_0x41f99b(0x18b)](_0x130f07=>{const _0x1b2855=_0x41f99b;if(_0x130f07){if(_0x130f07['login']==_0x1e337a['body'][_0x1b2855(0x120)]){_0x1f4cb8[_0x1b2855(0x157)]({'texto':_0x1b2855(0x197)});var _0x3c31c9=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x3c31c9[_0x1b2855(0x12c)]=_0x1e337a[_0x1b2855(0x189)]['id'],_0x3c31c9['nome']=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x199)],_0x3c31c9[_0x1b2855(0x145)]=_0x1e337a[_0x1b2855(0x189)]['setor'],_0x3c31c9[_0x1b2855(0x120)]='',_0x3c31c9['rfid']=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x16a)],_0x3c31c9[_0x1b2855(0x178)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x178)],_0x3c31c9['gv2']=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x168)],_0x3c31c9[_0x1b2855(0x14e)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x14e)],_0x3c31c9[_0x1b2855(0x11f)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x11f)],_0x3c31c9[_0x1b2855(0x15b)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x15b)],_0x3c31c9[_0x1b2855(0x18d)]=_0x1e337a[_0x1b2855(0x189)]['gv6'],_0x3c31c9['gv7']=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x155)],_0x3c31c9['gv8']=_0x1e337a['body'][_0x1b2855(0x187)],_0x4fb642[_0x1b2855(0x130)]('admin/editar',{'error':_0x1f4cb8,'usuario':_0x3c31c9});}else{if(_0x130f07[_0x1b2855(0x16a)]==_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x16a)]){_0x1f4cb8[_0x1b2855(0x157)]({'texto':_0x1b2855(0x123)});var _0x3c31c9=new Schema({'_id':{'type':String},'nome':{'type':String},'setor':{'type':String},'login':{'type':String},'rfid':{'type':String}});_0x3c31c9[_0x1b2855(0x12c)]=_0x1e337a[_0x1b2855(0x189)]['id'],_0x3c31c9[_0x1b2855(0x199)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x199)],_0x3c31c9[_0x1b2855(0x145)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x145)],_0x3c31c9[_0x1b2855(0x120)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x120)],_0x3c31c9['rfid']='',_0x3c31c9[_0x1b2855(0x178)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x178)],_0x3c31c9[_0x1b2855(0x168)]=_0x1e337a[_0x1b2855(0x189)]['gv2'],_0x3c31c9[_0x1b2855(0x14e)]=_0x1e337a[_0x1b2855(0x189)]['gv3'],_0x3c31c9[_0x1b2855(0x11f)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x11f)],_0x3c31c9[_0x1b2855(0x15b)]=_0x1e337a[_0x1b2855(0x189)][_0x1b2855(0x15b)],_0x3c31c9[_0x1b2855(0x18d)]=_0x1e337a[_0x1b2855(0x189)]['gv6'],_0x3c31c9[_0x1b2855(0x155)]=_0x1e337a[_0x1b2855(0x189)]['gv7'],_0x3c31c9['gv8']=_0x1e337a[_0x1b2855(0x189)]['gv8'],_0x4fb642[_0x1b2855(0x130)]('admin/editar',{'error':_0x1f4cb8,'usuario':_0x3c31c9});}}}else Usuario['findOne']({'_id':_0x1e337a[_0x1b2855(0x189)]['id']})['then'](_0xc0e03a=>{const _0x23ccc3=_0x1b2855;_0xc0e03a[_0x23ccc3(0x199)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x199)],_0xc0e03a[_0x23ccc3(0x145)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x145)],_0xc0e03a['login']=_0x1e337a['body']['login'],_0xc0e03a[_0x23ccc3(0x16a)]=_0x1e337a[_0x23ccc3(0x189)]['rfid'],_0xc0e03a[_0x23ccc3(0x178)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x178)],_0xc0e03a[_0x23ccc3(0x168)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x168)],_0xc0e03a['gv3']=_0x1e337a['body'][_0x23ccc3(0x14e)],_0xc0e03a[_0x23ccc3(0x11f)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x11f)],_0xc0e03a[_0x23ccc3(0x15b)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x15b)],_0xc0e03a['gv6']=_0x1e337a[_0x23ccc3(0x189)]['gv6'],_0xc0e03a[_0x23ccc3(0x155)]=_0x1e337a[_0x23ccc3(0x189)][_0x23ccc3(0x155)],_0xc0e03a[_0x23ccc3(0x187)]=_0x1e337a[_0x23ccc3(0x189)]['gv8'],_0x46c58e==0x1?(_0xc0e03a['senha']=_0xc0e03a[_0x23ccc3(0x161)],_0xc0e03a['save']()['then'](()=>{const _0x38e0bd=_0x23ccc3;_0x1e337a[_0x38e0bd(0x17f)](_0x38e0bd(0x122),_0x38e0bd(0x169)),_0x4fb642[_0x38e0bd(0x121)](_0x38e0bd(0x147));})[_0x23ccc3(0x13a)](_0x3542bb=>{const _0x58225f=_0x23ccc3;_0x1e337a[_0x58225f(0x17f)](_0x58225f(0x138),_0x58225f(0x183)),_0x4fb642['redirect'](_0x58225f(0x147));})):(_0xc0e03a[_0x23ccc3(0x161)]=_0x1e337a['body']['senha'],bcrypt[_0x23ccc3(0x174)](0xa,(_0xa6e018,_0x482629)=>{const _0x117ab1=_0x23ccc3;bcrypt[_0x117ab1(0x16f)](_0xc0e03a[_0x117ab1(0x161)],_0x482629,(_0x654b54,_0x2d8204)=>{const _0x45d83f=_0x117ab1;_0x654b54&&(_0x1e337a['flash']('error_msg',_0x45d83f(0x183)),_0x4fb642[_0x45d83f(0x121)]('/')),_0xc0e03a['senha']=_0x2d8204,_0xc0e03a[_0x45d83f(0x18e)]()[_0x45d83f(0x18b)](()=>{const _0x411311=_0x45d83f;_0x1e337a['flash'](_0x411311(0x122),_0x411311(0x169)),_0x4fb642['redirect'](_0x411311(0x147));})['catch'](_0xfa9530=>{const _0x5c0970=_0x45d83f;_0x1e337a[_0x5c0970(0x17f)](_0x5c0970(0x138),_0x5c0970(0x183)),_0x4fb642[_0x5c0970(0x121)](_0x5c0970(0x147));});});}));})['catch'](_0x5161e9=>{const _0x5b0eac=_0x1b2855;_0x1e337a[_0x5b0eac(0x17f)]('error_msg','Houve\x20um\x20erro\x20ao\x20editar\x20o\x20usuario'),console[_0x5b0eac(0x16d)](_0x5b0eac(0x13c)+_0x5161e9),_0x4fb642[_0x5b0eac(0x121)]('/admin/edituser');});});}),module['exports']=router;