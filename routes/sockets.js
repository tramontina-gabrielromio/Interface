var _0x2c27dd=_0x4ae0;(function(_0x1d34b5,_0x1ac3af){var _0x82b02e=_0x4ae0,_0x3242e4=_0x1d34b5();while(!![]){try{var _0x120cfd=-parseInt(_0x82b02e(0x20a))/0x1+-parseInt(_0x82b02e(0x15f))/0x2+parseInt(_0x82b02e(0x239))/0x3+-parseInt(_0x82b02e(0x135))/0x4+-parseInt(_0x82b02e(0x1ab))/0x5*(-parseInt(_0x82b02e(0x1d8))/0x6)+parseInt(_0x82b02e(0x1f6))/0x7*(-parseInt(_0x82b02e(0x19e))/0x8)+parseInt(_0x82b02e(0x22b))/0x9*(parseInt(_0x82b02e(0x17e))/0xa);if(_0x120cfd===_0x1ac3af)break;else _0x3242e4['push'](_0x3242e4['shift']());}catch(_0x19e736){_0x3242e4['push'](_0x3242e4['shift']());}}}(_0x1b45,0x61dc8));const express=require('express'),router=express['Router'](),mongoose=require(_0x2c27dd(0x1f0)),passport=require(_0x2c27dd(0x170)),{logged}=require(_0x2c27dd(0x14a)),localStrategy=require(_0x2c27dd(0x200))['Strategy'],bcrypt=require(_0x2c27dd(0x15b)),session=require(_0x2c27dd(0x147)),path=require(_0x2c27dd(0x197)),{execFile}=require(_0x2c27dd(0x12a)),{spawn}=require('child_process');require('../models/Ferramenta');const Ferramenta=mongoose[_0x2c27dd(0x247)](_0x2c27dd(0x13b));require(_0x2c27dd(0x12c));const Evento=mongoose['model'](_0x2c27dd(0x1a9));var userLogged=require(_0x2c27dd(0x1ff));require(_0x2c27dd(0x1c3));const Usuario=mongoose[_0x2c27dd(0x247)]('usuarios');require(_0x2c27dd(0x22c));const DadosTeste=mongoose[_0x2c27dd(0x247)](_0x2c27dd(0x212));require(_0x2c27dd(0x19c));const Configuracao=mongoose[_0x2c27dd(0x247)]('configuracoes'),wifi=require(_0x2c27dd(0x234));var nodemailer=require('nodemailer');const ObjectsToCsv=require(_0x2c27dd(0x22f)),schedule=require(_0x2c27dd(0x207)),usb=require('usb'),ngrok=require(_0x2c27dd(0x1ea)),child_process_dateTime=require('child_process'),child_restoreSystem=require(_0x2c27dd(0x12a)),dateFormat=require(_0x2c27dd(0x227)),sgMail=require('@sendgrid/mail'),fs=require('fs');function _0x1b45(){var _0x12df46=['registros','testeFinalizadoGVEspecifica','data','gaveta','../latestVersion.js','pausaTesteTodasGVs','alteraDataHora','excluiRegistros','express-session','falhaComunicacaoCamera','Cam1\x20finalizada...','../helpers/logado','indexOf','referencia\x20descricao\x20gaveta\x20dataRetirada\x20horaRetirada\x20usuario\x20setor\x20-_id','Redes\x20neurais\x20carregadas\x20com\x20sucesso!','dataRetirada','mongodb','Gerando\x20relatorio...','resultadoConexao','Histórico\x20deletado\x20com\x20sucesso!','auxAtualizaDispositivo','fechaGaveta','GAVETAS','Versao\x20mais\x20recente:\x20','Email\x20enviado\x20com\x20sucesso','Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20histórico:\x20','getCurrentConnections','GVT','bcryptjs','Erro\x20evento\x20não\x20encontrado','removeKey','Encerrando\x20ngrok...','621170XhjsKf','identificacao','then','testegavetaespecifica','resultadoRelatorioCheckout','kill','pid','Kill\x20rede\x20neural\x20-\x20Erro\x20encontrado:\x20','Usuário:\x20','Resultado\x20da\x20rede:\x20','yes\x20|\x20cp\x20-rf\x20interfaceoriginal/*\x20.','error','setDate','result_GV','emiteRelatorioCheckout','connectWifi','yyyy-mm-dd\x20HH:MM:ss','passport','Wifi\x20não\x20conectado...\x20adiando\x20envio\x20de\x20e-mail','/home/tramontina/Downloads/Interface/Verificacao','verificaVersaoSoftware','findOne','Usuario\x20conectado','falhaConexao','passLength','iniciaNgrokHTTP','configuracoes','Erro\x20ao\x20conectar\x20ao\x20ngrok:\x20',':\x20Estado\x20das\x20ferramentas\x20desconhecido','connect','Iniciando\x20teste\x20de\x20todas\x20as\x20gavetas...','10reFVRb','desligamento','Error:\x20Connection\x20activation\x20failed','SSHConectado','Erro\x20ao\x20acessar\x20banco\x20de\x20dados\x20ferramenta:\x20','error:\x20','Iniciando\x20atualização\x20de\x20software...','/home/tramontina/Downloads/Interface/searchVersion.sh','bloqueiaInteracaoUsuario','email2','find','carregando','.csv','Cam2\x20finalizada...','FGV','reboot','Erro\x20ao\x20enviar\x20email:\x20','Não\x20há\x20nenhum\x20e-mail\x20cadastrado','estadoTestesGVEspecifica','encerraNgrok','\x0aHorário:\x20','stderr','atualizaContadorTestesGVEspecifica','restauraSistema','encerrarSessao','path','./relatorio.csv','\x20*\x20*\x20*','getMinutes','referencia\x20descricao\x20gaveta\x20dataRetirada\x20horaRetirada\x20dataDevolucao\x20horaDevolucao\x20-_id','../models/Configuracoes','FCAM2','32XUbtuN','\x0aGaveta\x20','Eventos\x20atualizados','testeFalhouTodasGVs','\x0aRepeticoes:\x20','config','_c2','desconhecido','send','toString','relatorio.csv','eventos','getMonth','1512385WIOAYL','getSerialNumber','Url\x20da\x20conexao:\x20','pausaTesteGVEspecifica','lean','Erro\x20ao\x20acessar\x20as\x20configurações:\x20','Conectado','tcp','sistemainteligente.pro@tramontina.com','save','catch','login','base64','select','FCAM12','\x0aSetor:\x20','resultadoAtualizacao','scheduleJob','AGV','application/csv','log','Falha\x20na\x20camera\x202...','\x20devolvida','Ferramentas\x20Ausentes.csv','../models/Usuario','000000000000000000000001','testePausadoTodasGVs','Pausando\x20teste\x20','insertKey','testeFalhouGVEspecifica','toLocaleDateString','getDate','init','Parando\x20teste\x20','Nova\x20tentativa\x20de\x20envio\x20de\x20relatorio:\x20','emit','Stdout:\x20','env','Desligando\x20o\x20sistema\x20por\x20bateria\x20baixa','Desconectando...','Desconectado','\x20retirada','/home/tramontina/Downloads/Interface/GetImages_GV','testeParadoGVEspecifica','Uma\x20das\x20redes\x20neurais\x20parou\x20de\x20responder...','6eiAnDF','iniciaNgrokSSH','SenhaAtual','referencia','gnome-calculator','Iniciando\x20teste','email','disconnect','Relatório\x20diário\x20SmartManager4.0','shutdown','./ferramentasAusentes.csv','Conectando\x20ao\x20ngrok\x20HTTP...','cartao','atualizaWifi','statusWifi','deleteMany','/home/tramontina/Downloads/Interface/Gavetas','abreCalculadora','ngrok','Conectando\x20à\x20rede...','posicao','Definindo\x20envio\x20de\x20e-mail\x20para\x20as\x200h00','Error:\x20','Erro\x20ferramentas\x20não\x20encontradas','mongoose','floor','updateOne','./relatorioTramontina.csv','atualizaTempTestesTodasGVs','Falha\x20na\x20camera\x201...','1181187qdmxdb','toDisk','Erro\x20ao\x20acessar\x20banco\x20de\x20dados:\x20','fechamento','dataRelatorio','close','test','Gaveta\x20fechada','cache','../routes/userLogged','passport-local','timedatectl\x20set-time\x20\x22','FCAM1','Iniciando\x20envio\x20de\x20e-mail...','Exclui\x20todos\x20os\x20resgistros','setor','deleteOne','node-schedule','attachment','length','285706BEDtlH','setApiKey','populate','readFileSync','/home/tramontina/Downloads/Interface/RedesNeurais','atualizaTempTestesGVEspecifica','estadoGavetas','atualizaContadorTestesTodasGVs','dadosTestes','Kill\x20cam2\x20-\x20Erro\x20encontrado:\x20','gavetaTrancada','777','stdout:\x20','getHours','/home/tramontina/Downloads/Interface/Bateria','Verificando\x20versão\x20mais\x20recente...','asc','getFullYear','nivelBateria','cancel','Interface\x20restaurada\x20com\x20sucesso:\x20','screenMousedown','Relatório\x20instantâneo\x20SmartManager4.0','Wifi\x20não\x20conectado...','0\x200\x20*\x20*\x20*','Kill\x20cam1\x20-\x20Erro\x20encontrado:\x20','Nenhuma\x20ferramenta\x20ausente','HTTPConectado','mongorestore\x20--username\x20\x22administrador\x22\x20--password\x20\x22EapIk9oc\x22\x20--authenticationDatabase\x20admin\x20--db\x20organizadorinteligente\x20--drop\x20dboriginal/organizadorinteligente','dateformat','chmodSync','Gaveta:\x20','testeFinalizadoTodasGVs','17550558tFYbBT','../models/DadosTeste','descricao','Relatório\x20','objects-to-csv','Há\x20gaveta\x20aberta','Falha\x20nas\x20cameras\x201\x20e\x202...','email3','Conectando\x20ao\x20ngrok\x20SSH...','node-wifi','\x0aNenhum\x20registro\x20novo.','20BAgjvFYCzY3LJwy9VMch2YkrT_7PqDGu6Cgikww4TZudh2u','auxBuscarAtualizacoes','Erro\x20ao\x20conectar:\x20','131748PThlTS','Gaveta\x20aberta','signal_level','exec','Erro\x20ao\x20deletar\x20evento:\x20','exit','Relatório\x20SmartManager4.0\x0aNúmero\x20de\x20série:\x20',':\x20Todas\x20as\x20ferramentas\x20presentes','Cont.\x20repeticoes:\x20','showGvTrancadaFechando','testeParadoTodasGVs','Software\x20atualizado','http','estadoTestesTodasGVs','model','Stderr:\x20','_c1','disconnectWifi','child_process','salvaConfiguracoes','../models/Evento','SENDGRID_API_KEY','estado','_id','resultadoBuscaAtualizacao','ObjectID','stderr:\x20','Gaveta\x20trancada','timedatectl\x20set-ntp\x20false','2497440lFsEKT','Todas\x20as\x20gavetas\x20fechadas','auxGavetaAberta:\x20','Email\x20Tramontina\x20enviado\x20com\x20sucesso','atualizaBateria','sort','ferramentas','stdout','connection','Erro\x20ferramenta\x20não\x20encontrada'];_0x1b45=function(){return _0x12df46;};return _0x1b45();}require('dotenv')[_0x2c27dd(0x1a3)]({'path':'./sendgrid.env'});var redesNeuraisCarregadas=0x0,FuncSenha=require('./senha'),senha='',abrindoGV=0x0,fechandoGV=0x0,bloqueiaAbertura=0x0,ItensErrados=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],auxFGVSemRedeNeural=0x1,redeWifiOk=0x0,wifiLevel=0x0,emailTramontina=_0x2c27dd(0x1b3),cargaBateria=0x0,BateriaCarregando=0x0,BateriaCarregada=0x0,arrayBateria=[],auxGavetaAberta=0x0,timerRelatorioDiario,timerAdiaEmail;try{var serialOrganizador=require('./serial');}catch(_0x4fd923){console[_0x2c27dd(0x1bf)](_0x2c27dd(0x1ee)+_0x4fd923),serialOrganizador='';}try{var versaoSoftware=require('./versao');}catch(_0x4f87fa){console['log'](_0x2c27dd(0x1ee)+_0x4f87fa),versaoSoftware='';}function _0x4ae0(_0x174f3f,_0x983dc0){var _0x1b452c=_0x1b45();return _0x4ae0=function(_0x4ae0c4,_0xc3ec05){_0x4ae0c4=_0x4ae0c4-0x128;var _0x2409d9=_0x1b452c[_0x4ae0c4];return _0x2409d9;},_0x4ae0(_0x174f3f,_0x983dc0);}var childCam1,childCam2,childRedeNeural,childVerificacao,contRepeticoesGVEspecifica=0x0,contRepeticoesTodasGVs=0x0,numRepeticoesGVEspecifica=0x0,numRepeticoesTodasGVs=0x0,pausaTestesGavetas=0x0,paraTestesGavetas=0x0,testesGavetasAndamento=0x0,gavetaEmTeste=0x1,gavetaEmMovimento='',segDecorridoGVEspecifica='',segDecorridoTodasGVs='',ObjectId=require(_0x2c27dd(0x14f))[_0x2c27dd(0x131)],childRedeNeural;inicializaRedesNeurais();function inicializaRedesNeurais(){var _0x33ec98=_0x2c27dd;console['log']('Carregando\x20redes\x20neurais...'),childRedeNeural=spawn(_0x33ec98(0x20e),[],{'detached':![]}),childRedeNeural['on']('exit',_0x574d0c=>{var _0x22abd7=_0x33ec98;console[_0x22abd7(0x1bf)](_0x22abd7(0x1d7));}),childRedeNeural['stdout']['on'](_0x33ec98(0x141),_0x564f3e=>{var _0x526202=_0x33ec98;_0x564f3e[0x0]==0x31&&(redesNeuraisCarregadas=0x1,console[_0x526202(0x1bf)](_0x526202(0x14d)));}),childRedeNeural[_0x33ec98(0x193)]['on']('data',_0x19370a=>{});}verificaGavetasInicial();function verificaGavetasInicial(){var _0x34c77d=_0x2c27dd;execFile(_0x34c77d(0x1e8),[_0x34c77d(0x155)],(_0x7c0735,_0x336650,_0x5d1a52)=>{var _0x360b95=_0x34c77d;if(_0x7c0735){console[_0x360b95(0x16a)](_0x360b95(0x183)+_0x7c0735);return;}if(_0x5d1a52){console[_0x360b95(0x16a)](_0x360b95(0x132)+_0x5d1a52);return;}console[_0x360b95(0x1bf)]('stdout:\x20'+_0x336650);});}function setDateTime(_0x25008f){var _0x3e1797=_0x2c27dd;child_process_dateTime[_0x3e1797(0x23c)](_0x3e1797(0x134));try{child_process_dateTime[_0x3e1797(0x23c)](_0x3e1797(0x201)+dateFormat(_0x25008f,_0x3e1797(0x16f))+'\x22');}catch(_0x24761e){console[_0x3e1797(0x1bf)](_0x3e1797(0x1ee)+_0x24761e);}child_process_dateTime[_0x3e1797(0x23c)]('hwclock\x20-w\x20--utc');}ngrok[_0x2c27dd(0x1df)](),ngrok[_0x2c27dd(0x164)]();var configuracaoAtual=new Array();Configuracao[_0x2c27dd(0x174)]({'_id':_0x2c27dd(0x1c4)})[_0x2c27dd(0x1af)]()[_0x2c27dd(0x20c)](_0x2c27dd(0x179))[_0x2c27dd(0x161)](_0x35149e=>{var _0x53a1b2=_0x2c27dd;configuracaoAtual={'fechamento':_0x35149e[_0x53a1b2(0x1f9)],'cartao':_0x35149e[_0x53a1b2(0x1e4)],'desligamento':_0x35149e[_0x53a1b2(0x17f)],'encerrarSessao':_0x35149e[_0x53a1b2(0x196)],'email':_0x35149e[_0x53a1b2(0x1de)],'email2':_0x35149e[_0x53a1b2(0x187)],'email3':_0x35149e['email3'],'identificacao':_0x35149e[_0x53a1b2(0x160)],'dataRelatorio':_0x35149e[_0x53a1b2(0x1fa)]};if(dataAtual!=_0x35149e[_0x53a1b2(0x1fa)])geraRelatorio('registros');else{console[_0x53a1b2(0x1bf)](_0x53a1b2(0x1ed));try{timerRelatorioDiario[_0x53a1b2(0x21d)]();}catch(_0x5ee2de){console[_0x53a1b2(0x1bf)](_0x5ee2de);}timerRelatorioDiario=schedule['scheduleJob'](_0x53a1b2(0x222),function(){geraRelatorio('registros');});}})[_0x2c27dd(0x1b5)](_0x3df4db=>{var _0x1260c2=_0x2c27dd;console[_0x1260c2(0x1bf)]('Erro\x20ao\x20carregar\x20as\x20configurações:\x20'+_0x3df4db);try{timerRelatorioDiario[_0x1260c2(0x21d)]();}catch(_0x371ff3){console[_0x1260c2(0x1bf)](_0x371ff3);}timerRelatorioDiario=schedule[_0x1260c2(0x1bc)]('0\x200\x20*\x20*\x20*',function(){var _0x3f6b7b=_0x1260c2;geraRelatorio(_0x3f6b7b(0x13f));}),configuracaoAtual={'fechamento':0x0,'cartao':0x0,'desligamento':0x0,'encerrarSessao':0x0,'email':'','email2':'','email3':'','identificacao':'','dataRelatorio':''};});var today=new Date(),dataAtual=String(today[_0x2c27dd(0x1ca)]()+'-'+(today[_0x2c27dd(0x1aa)]()+0x1)+'-'+today[_0x2c27dd(0x21b)]());function geraRelatorio(_0x2d3a64){var _0xedb271=_0x2c27dd,_0x530711=['','','','','','','',''];const _0x2e75b5=new Date();_0x530711[0x0]=_0x2e75b5[_0xedb271(0x1c9)](),_0x530711[0x1]=new Date(_0x2e75b5[_0xedb271(0x16b)](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),_0x530711[0x2]=new Date(_0x2e75b5['setDate'](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),_0x530711[0x3]=new Date(_0x2e75b5['setDate'](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),_0x530711[0x4]=new Date(_0x2e75b5[_0xedb271(0x16b)](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),_0x530711[0x5]=new Date(_0x2e75b5[_0xedb271(0x16b)](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),_0x530711[0x6]=new Date(_0x2e75b5[_0xedb271(0x16b)](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))['toLocaleDateString'](),_0x530711[0x7]=new Date(_0x2e75b5[_0xedb271(0x16b)](_0x2e75b5[_0xedb271(0x1ca)]()-0x1))[_0xedb271(0x1c9)](),redeWifiOk==0x1?Evento[_0xedb271(0x188)]({'$or':[{'enviado':0x0},{'dataDevolucao':'-'},{'horaDevolucao':'-'},{'dataRetirada':_0x530711[0x0]},{'dataDevolucao':_0x530711[0x0]},{'dataRetirada':_0x530711[0x1]},{'dataDevolucao':_0x530711[0x1]},{'dataRetirada':_0x530711[0x2]},{'dataDevolucao':_0x530711[0x2]},{'dataRetirada':_0x530711[0x3]},{'dataDevolucao':_0x530711[0x3]},{'dataRetirada':_0x530711[0x4]},{'dataDevolucao':_0x530711[0x4]},{'dataRetirada':_0x530711[0x5]},{'dataDevolucao':_0x530711[0x5]},{'dataRetirada':_0x530711[0x6]},{'dataDevolucao':_0x530711[0x6]},{'dataRetirada':_0x530711[0x7]},{'dataDevolucao':_0x530711[0x7]}]})[_0xedb271(0x1b8)]('referencia\x20descricao\x20gaveta\x20dataRetirada\x20horaRetirada\x20dataDevolucao\x20horaDevolucao\x20usuario\x20setor\x20-_id')[_0xedb271(0x1af)]()[_0xedb271(0x20c)](_0xedb271(0x1a9))[_0xedb271(0x13a)]({'_id':_0xedb271(0x21a)})[_0xedb271(0x161)](_0x3c05e2=>{var _0x32b53f=_0xedb271;if(_0x3c05e2[_0x32b53f(0x209)]>0x0){const _0x233b7e=new ObjectsToCsv(_0x3c05e2);console[_0x32b53f(0x1bf)](_0x32b53f(0x150)),_0x233b7e[_0x32b53f(0x1f7)](_0x32b53f(0x1a8))[_0x32b53f(0x161)](function(){var _0x5ad1e4=_0x32b53f;console['log'](_0x5ad1e4(0x203)),enviaEmail(_0x2d3a64,0x1);});}else enviaEmail(_0x2d3a64,0x0);})[_0xedb271(0x1b5)](_0x114126=>{var _0x1f875b=_0xedb271;console[_0x1f875b(0x1bf)](_0x114126);}):(console[_0xedb271(0x1bf)](_0xedb271(0x171)),adiaEnvioEmail());}function geraRelatorioTramontina(_0x4a22bb){var _0x31113b=_0x2c27dd,_0xf637c=['','','','','','','',''];const _0x4d05f7=new Date();_0xf637c[0x0]=_0x4d05f7[_0x31113b(0x1c9)](),_0xf637c[0x1]=new Date(_0x4d05f7[_0x31113b(0x16b)](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))['toLocaleDateString'](),_0xf637c[0x2]=new Date(_0x4d05f7[_0x31113b(0x16b)](_0x4d05f7['getDate']()-0x1))[_0x31113b(0x1c9)](),_0xf637c[0x3]=new Date(_0x4d05f7[_0x31113b(0x16b)](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))['toLocaleDateString'](),_0xf637c[0x4]=new Date(_0x4d05f7[_0x31113b(0x16b)](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))[_0x31113b(0x1c9)](),_0xf637c[0x5]=new Date(_0x4d05f7['setDate'](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))[_0x31113b(0x1c9)](),_0xf637c[0x6]=new Date(_0x4d05f7['setDate'](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))[_0x31113b(0x1c9)](),_0xf637c[0x7]=new Date(_0x4d05f7[_0x31113b(0x16b)](_0x4d05f7[_0x31113b(0x1ca)]()-0x1))['toLocaleDateString'](),Evento[_0x31113b(0x188)]({'$or':[{'enviado':0x0},{'dataDevolucao':'-'},{'horaDevolucao':'-'},{'dataRetirada':_0xf637c[0x0]},{'dataDevolucao':_0xf637c[0x0]},{'dataRetirada':_0xf637c[0x1]},{'dataDevolucao':_0xf637c[0x1]},{'dataRetirada':_0xf637c[0x2]},{'dataDevolucao':_0xf637c[0x2]},{'dataRetirada':_0xf637c[0x3]},{'dataDevolucao':_0xf637c[0x3]},{'dataRetirada':_0xf637c[0x4]},{'dataDevolucao':_0xf637c[0x4]},{'dataRetirada':_0xf637c[0x5]},{'dataDevolucao':_0xf637c[0x5]},{'dataRetirada':_0xf637c[0x6]},{'dataDevolucao':_0xf637c[0x6]},{'dataRetirada':_0xf637c[0x7]},{'dataDevolucao':_0xf637c[0x7]}]})[_0x31113b(0x1b8)](_0x31113b(0x19b))[_0x31113b(0x1af)]()[_0x31113b(0x20c)](_0x31113b(0x1a9))[_0x31113b(0x13a)]({'_id':'asc'})[_0x31113b(0x161)](_0x2c734b=>{var _0x55c3fc=_0x31113b;if(_0x2c734b[_0x55c3fc(0x209)]>0x0){const _0x21d981=new ObjectsToCsv(_0x2c734b);console[_0x55c3fc(0x1bf)](_0x55c3fc(0x150)),_0x21d981[_0x55c3fc(0x1f7)]('relatorioTramontina.csv')[_0x55c3fc(0x161)](function(){var _0x431b8e=_0x55c3fc;console['log'](_0x431b8e(0x203)),enviaEmailTramontina(_0x4a22bb,0x1);});}else enviaEmailTramontina(_0x4a22bb,0x0);})[_0x31113b(0x1b5)](_0x32ec50=>{var _0x385046=_0x31113b;console[_0x385046(0x1bf)](_0x32ec50);});}function enviaEmailTramontina(_0x2a5dfd,_0x1f66ec){var _0x2d9f60=_0x2c27dd,_0x1b9aea;_0x1f66ec==0x1?(pathToAttachment=_0x2d9f60(0x1f3),attachment=fs[_0x2d9f60(0x20d)](pathToAttachment)[_0x2d9f60(0x1a7)](_0x2d9f60(0x1b7)),_0x1b9aea={'to':emailTramontina,'from':'sistemainteligente.pro@tramontina.com','subject':_0x2d9f60(0x1e0),'text':_0x2d9f60(0x23f)+serialOrganizador,'attachments':[{'content':attachment,'filename':_0x2a5dfd+'.csv','type':_0x2d9f60(0x1be),'disposition':'attachment'}]}):_0x1b9aea={'to':emailTramontina,'from':_0x2d9f60(0x1b3),'subject':_0x2d9f60(0x1e0),'text':_0x2d9f60(0x23f)+serialOrganizador+_0x2d9f60(0x235)},sgMail[_0x2d9f60(0x1a6)](_0x1b9aea)[_0x2d9f60(0x161)](()=>{var _0x2a1dd1=_0x2d9f60;console[_0x2a1dd1(0x1bf)](_0x2a1dd1(0x138));})[_0x2d9f60(0x1b5)](_0xdb329d=>{var _0x10a508=_0x2d9f60;console[_0x10a508(0x1bf)](_0x10a508(0x18e)+_0xdb329d);});}sgMail[_0x2c27dd(0x20b)](process[_0x2c27dd(0x1d0)][_0x2c27dd(0x12d)]);function enviaEmail(_0x3469f0,_0x1eb70c){var _0x2701a4=_0x2c27dd,_0x5bbb0e;_0x1eb70c==0x1?(pathToAttachment=_0x2701a4(0x198),attachment=fs[_0x2701a4(0x20d)](pathToAttachment)[_0x2701a4(0x1a7)](_0x2701a4(0x1b7)),_0x5bbb0e={'to':[configuracaoAtual['email'],configuracaoAtual['email2'],configuracaoAtual[_0x2701a4(0x232)]],'from':_0x2701a4(0x1b3),'subject':_0x2701a4(0x1e0),'text':_0x2701a4(0x22e)+String(configuracaoAtual[_0x2701a4(0x160)]),'attachments':[{'content':attachment,'filename':_0x3469f0+_0x2701a4(0x18a),'type':_0x2701a4(0x1be),'disposition':_0x2701a4(0x208)}]}):_0x5bbb0e={'to':[configuracaoAtual[_0x2701a4(0x1de)],configuracaoAtual[_0x2701a4(0x187)],configuracaoAtual[_0x2701a4(0x232)]],'from':'sistemainteligente.pro@tramontina.com','subject':_0x2701a4(0x1e0),'text':'Relatório\x20'+String(configuracaoAtual[_0x2701a4(0x160)])+_0x2701a4(0x235)},sgMail['send'](_0x5bbb0e)[_0x2701a4(0x161)](()=>{var _0x4e9605=_0x2701a4;console[_0x4e9605(0x1bf)](_0x4e9605(0x157)),geraRelatorioTramontina(_0x4e9605(0x13f));try{timerRelatorioDiario[_0x4e9605(0x21d)]();}catch(_0x38c877){console[_0x4e9605(0x1bf)](_0x38c877);}timerRelatorioDiario=schedule[_0x4e9605(0x1bc)](_0x4e9605(0x222),function(){var _0x1fefaf=_0x4e9605;geraRelatorio(_0x1fefaf(0x13f));}),Evento['updateMany']({'enviado':0x0},{'enviado':0x1})[_0x4e9605(0x161)](_0x319f5e=>{var _0x4bcac9=_0x4e9605;console[_0x4bcac9(0x1bf)](_0x4bcac9(0x1a0));})['catch'](_0x5d0efe=>{var _0x3ad06c=_0x4e9605;console[_0x3ad06c(0x1bf)](_0x5d0efe);});var _0x2ace0e=new Date();Configuracao[_0x4e9605(0x1f2)]({'_id':_0x4e9605(0x1c4)},{'$set':{'dataRelatorio':String(_0x2ace0e['getDate']()+'-'+(_0x2ace0e[_0x4e9605(0x1aa)]()+0x1)+'-'+_0x2ace0e[_0x4e9605(0x21b)]())}})[_0x4e9605(0x161)](()=>{})[_0x4e9605(0x1b5)](_0x4d5251=>{var _0x556380=_0x4e9605;console[_0x556380(0x1bf)]('Erro\x20ao\x20sobrescrever\x20configuracao:\x20'+_0x4d5251);});})['catch'](_0x553ca5=>{var _0x3cf739=_0x2701a4;console[_0x3cf739(0x1bf)](_0x3cf739(0x18e)+_0x553ca5),adiaEnvioEmail();});}function adiaEnvioEmail(){var _0x2eb65b=_0x2c27dd;today=new Date();var _0xcdc5d0=today[_0x2eb65b(0x19a)](),_0x1aada0=today[_0x2eb65b(0x217)]();_0xcdc5d0=_0xcdc5d0+0x5;_0xcdc5d0>=0x3c&&(_0x1aada0=_0x1aada0+0x1,_0xcdc5d0=0x0,_0x1aada0>=0x18&&(_0x1aada0=0x0));console[_0x2eb65b(0x1bf)](_0x2eb65b(0x1cd)+String(_0x1aada0)+'h'+String(_0xcdc5d0));try{timerAdiaEmail['cancel']();}catch(_0x201b5a){console[_0x2eb65b(0x1bf)](_0x201b5a);}timerAdiaEmail=schedule[_0x2eb65b(0x1bc)](String(_0xcdc5d0)+'\x20'+String(_0x1aada0)+_0x2eb65b(0x199),function(){var _0x341ad2=_0x2eb65b;geraRelatorio(_0x341ad2(0x13f));});}wifi[_0x2c27dd(0x1cb)]({'iface':null});function editaConfiguracao(_0x5890ca,_0x225e2a,_0x3dc782,_0x1c442e,_0x2297da,_0x5c2c53,_0x3a1c9e,_0x133eff){var _0x156bd8=_0x2c27dd;Configuracao[_0x156bd8(0x174)]({'_id':'000000000000000000000001'})[_0x156bd8(0x161)](_0x197e3a=>{var _0x4234f6=_0x156bd8;if(!_0x197e3a){const _0x1c15e6={'_id':ObjectId('000000000000000000000001'),'fechamento':_0x5890ca,'cartao':_0x225e2a,'desligamento':_0x3dc782,'encerrarSessao':_0x133eff,'email':_0x1c442e,'email2':_0x2297da,'email3':_0x5c2c53,'identificacao':_0x3a1c9e,'dataRelatorio':'0'};new Configuracao(_0x1c15e6)[_0x4234f6(0x1b4)](),configuracaoAtual={'fechamento':_0x5890ca,'cartao':_0x225e2a,'desligamento':_0x3dc782,'encerrarSessao':_0x133eff,'email':_0x1c442e,'email2':_0x2297da,'email3':_0x5c2c53,'identificacao':_0x3a1c9e,'dataRelatorio':'0'};}else Configuracao[_0x4234f6(0x1f2)]({'_id':_0x4234f6(0x1c4)},{'$set':{'fechamento':_0x5890ca,'cartao':_0x225e2a,'desligamento':_0x3dc782,'email':_0x1c442e,'email2':_0x2297da,'email3':_0x5c2c53,'identificacao':_0x3a1c9e,'encerrarSessao':_0x133eff}})[_0x4234f6(0x161)](()=>{configuracaoAtual={'fechamento':_0x5890ca,'cartao':_0x225e2a,'desligamento':_0x3dc782,'encerrarSessao':_0x133eff,'email':_0x1c442e,'email2':_0x2297da,'email3':_0x5c2c53,'identificacao':_0x3a1c9e};})[_0x4234f6(0x1b5)](_0x2ae887=>{var _0x30d5cd=_0x4234f6;console[_0x30d5cd(0x1bf)]('Erro\x20ao\x20sobrescrever\x20configuracao:\x20'+_0x2ae887);});})[_0x156bd8(0x1b5)](_0x1327a4=>{var _0x452472=_0x156bd8;console[_0x452472(0x1bf)](_0x452472(0x1b0)+_0x1327a4);});}verificaFerramentasRemovidas();function verificaFerramentasRemovidas(){var _0xad83ca=_0x2c27dd;let _0x393cad=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8];for(const _0x4472f1 of _0x393cad){Ferramenta[_0xad83ca(0x188)]({'gaveta':_0x4472f1,'estado':0x0,'desconhecido':0x0})['lean']()[_0xad83ca(0x20c)](_0xad83ca(0x13b))[_0xad83ca(0x161)](_0x1a3180=>{var _0x2a7552=_0xad83ca;!_0x1a3180?console[_0x2a7552(0x1bf)]('Erro\x20evento\x20não\x20encontrado'):ItensErrados[_0x4472f1-0x1]=_0x1a3180[_0x2a7552(0x209)];})[_0xad83ca(0x1b5)](_0x5d217c=>{var _0x155ba4=_0xad83ca;console[_0x155ba4(0x1bf)]('Erro\x20ao\x20acessar\x20banco\x20de\x20dados:\x20'+_0x5d217c);}),Ferramenta[_0xad83ca(0x188)]({'gaveta':_0x4472f1,'desconhecido':0x1})['lean']()[_0xad83ca(0x20c)](_0xad83ca(0x13b))['then'](_0x488a50=>{var _0x6731c8=_0xad83ca;if(!_0x488a50)console[_0x6731c8(0x1bf)](_0x6731c8(0x15c));else _0x488a50['length']>0x0&&(ItensErrados[_0x4472f1-0x1]=0x194);})[_0xad83ca(0x1b5)](_0x3429c3=>{var _0x5409bd=_0xad83ca;console[_0x5409bd(0x1bf)]('Erro\x20ao\x20acessar\x20banco\x20de\x20dados:\x20'+_0x3429c3);});}}function abreCalculadora(){var _0x3592cc=_0x2c27dd;execFile(path['join'](_0x3592cc(0x1dc)),(_0x46e747,_0x56719d,_0x38361c)=>{var _0x2df22c=_0x3592cc;if(_0x46e747){console[_0x2df22c(0x16a)](_0x2df22c(0x183)+_0x46e747);return;}});}function shutdownPC(){var _0x7157da=_0x2c27dd;const _0x802194=spawn(_0x7157da(0x1e1),['-h','now']);}function rebootPC(){var _0x4b6ea9=_0x2c27dd;const _0x353cf6=spawn(_0x4b6ea9(0x18d));}function auxDesligamentoBateriaBaixa(){var _0x11134d=_0x2c27dd;BateriaCarregando==0x0&&(console['log'](_0x11134d(0x1d1)),shutdownPC());}function novoEvento(_0x34253a){var _0x510a5a=_0x2c27dd,_0x24b42c=getHorario(),_0x3c75fc=getData(),_0x6aac1d=userLogged('showUserdata');const _0x1b2b1f={'referencia':_0x34253a[_0x510a5a(0x1db)],'descricao':_0x34253a[_0x510a5a(0x22d)],'gaveta':_0x34253a[_0x510a5a(0x142)],'posicao':_0x34253a['posicao'],'dataRetirada':_0x3c75fc,'horaRetirada':_0x24b42c,'dataDevolucao':'-','horaDevolucao':'-','usuario':_0x6aac1d[_0x510a5a(0x1b6)],'setor':_0x6aac1d[_0x510a5a(0x205)],'devolucao':0x0,'enviado':0x0};new Evento(_0x1b2b1f)[_0x510a5a(0x1b4)]();}function eventoDevolucao(_0x5c692d){var _0x151e32=_0x2c27dd,_0x1ad52a=getHorario(),_0x3eb7c8=getData();Evento[_0x151e32(0x174)]({'gaveta':_0x5c692d['gaveta'],'posicao':_0x5c692d[_0x151e32(0x1ec)],'devolucao':0x0},null,{'sort':{'_id':-0x1}})[_0x151e32(0x161)](_0x45015a=>{var _0x4f370d=_0x151e32;if(!_0x45015a)console[_0x4f370d(0x1bf)](_0x4f370d(0x15c));else{const _0x3214eb={'referencia':_0x45015a[_0x4f370d(0x1db)],'descricao':_0x45015a[_0x4f370d(0x22d)],'gaveta':_0x45015a[_0x4f370d(0x142)],'posicao':_0x45015a['posicao'],'dataRetirada':_0x45015a[_0x4f370d(0x14e)],'horaRetirada':_0x45015a['horaRetirada'],'dataDevolucao':_0x3eb7c8,'horaDevolucao':_0x1ad52a,'usuario':_0x45015a['usuario'],'setor':_0x45015a[_0x4f370d(0x205)],'devolucao':0x1,'enviado':0x0};Evento[_0x4f370d(0x206)]({'_id':_0x45015a[_0x4f370d(0x12f)]})[_0x4f370d(0x161)](()=>{})[_0x4f370d(0x1b5)](_0x2321b0=>{var _0x368e54=_0x4f370d;console[_0x368e54(0x1bf)](_0x368e54(0x23d)+_0x2321b0);}),new Evento(_0x3214eb)['save']();}})['catch'](_0x22b029=>{var _0x4ed524=_0x151e32;console[_0x4ed524(0x1bf)](_0x4ed524(0x1f8)+_0x22b029);});}function getHorario(){var _0x3baf40=_0x2c27dd,_0x519cbc=new Date(),_0x2e0487=_0x519cbc['getHours'](),_0x2a3aa4=_0x519cbc[_0x3baf40(0x19a)]();if(_0x2a3aa4<0xa)_0x2a3aa4='0'+_0x2a3aa4;return _0x2e0487+':'+_0x2a3aa4;}function getData(){var _0x1803e7=_0x2c27dd,_0x37eed7=new Date(),_0x53b0e5=_0x37eed7[_0x1803e7(0x1ca)]();if(_0x53b0e5<0xa)_0x53b0e5='0'+_0x53b0e5;var _0x528600=_0x37eed7['getMonth']()+0x1;if(_0x528600<0xa)_0x528600='0'+_0x528600;var _0x1418af=_0x37eed7[_0x1803e7(0x21b)]();return _0x53b0e5+'/'+_0x528600+'/'+_0x1418af;}function convTempo(_0x38e9bf){var _0x5aa046=_0x2c27dd,_0x47ee4c,_0x979697;return _0x979697=Math['floor'](_0x38e9bf/0xe10),_0x47ee4c=Math[_0x5aa046(0x1f1)](_0x38e9bf%0xe10/0x3c),_0x47ee4c<0xa&&(_0x47ee4c='0'+_0x47ee4c),_0x979697=_0x979697+':'+_0x47ee4c,_0x47ee4c=Math['floor'](_0x38e9bf%0xe10%0x3c),_0x47ee4c<0xa&&(_0x47ee4c='0'+_0x47ee4c),_0x979697=_0x979697+':'+_0x47ee4c,_0x979697;}function validarEmail(_0x3a94f2){var _0x3b8d58=_0x2c27dd,_0x54358b=/\S+@\S+\.\S+/;return _0x54358b[_0x3b8d58(0x1fc)](_0x3a94f2);}const method=function(_0xea8037){var _0x2fea78=_0x2c27dd,_0x2ac5b2=_0xea8037['on'](_0x2fea78(0x13d),function(_0x3c132a){var _0x5bab16=_0x2fea78;console['log'](_0x5bab16(0x175)),FuncSenha('resetPass',0x0),_0x104f3e();function _0x3007a1(){var _0x302db2=_0x5bab16;console[_0x302db2(0x1bf)](_0x302db2(0x137)+auxGavetaAberta),auxGavetaAberta==0x0?_0x3c132a[_0x302db2(0x1ce)]('logoutUsuario'):_0x104f3e();}function _0x104f3e(){var _0x26e09b=_0x5bab16;try{auxTimer[_0x26e09b(0x1fb)]();}catch(_0x580df1){console[_0x26e09b(0x1bf)](_0x580df1);}if(configuracaoAtual['encerrarSessao']!=0x4){var _0x43dfc3;if(configuracaoAtual[_0x26e09b(0x196)]==0x3)_0x43dfc3=0x927c0;else{if(configuracaoAtual['encerrarSessao']==0x2)_0x43dfc3=0x493e0;else{if(configuracaoAtual['encerrarSessao']==0x1)_0x43dfc3=0x2bf20;else _0x43dfc3=0xea60;}}auxTimer=setTimeout(function(){_0x3007a1();},_0x43dfc3);}}_0x3c132a['on'](_0x5bab16(0x21f),function(){_0x104f3e();}),_0x3c132a['on']('statusRedesNeurais',function(){_0x3c132a['emit']('redesNeuraisCarregadas',redesNeuraisCarregadas);}),_0x36295a(),_0x3c132a['on'](_0x5bab16(0x21c),function(){if(abrindoGV==0x0&&fechandoGV==0x0)_0x36295a();});function _0x36295a(){var _0x1e13f4=_0x5bab16;execFile(_0x1e13f4(0x218),(_0x2dc2e5,_0x4d6e3f,_0x244aac)=>{var _0x286bd0=_0x1e13f4;if(_0x2dc2e5){console[_0x286bd0(0x16a)](_0x286bd0(0x183)+_0x2dc2e5);return;}if(_0x244aac){console['error'](_0x286bd0(0x132)+_0x244aac);return;}if(_0x4d6e3f){if(_0x4d6e3f[0x1]=='0'&&_0x4d6e3f[0x2]=='0'){BateriaCarregada=0x0,BateriaCarregando=0x0;if(arrayBateria[_0x286bd0(0x209)]==0x0)cargaBateria=0x5,arrayBateria[0x0]=_0x4d6e3f[0x0],arrayBateria[0x1]=_0x4d6e3f[0x0],arrayBateria[0x2]=0x5,arrayBateria[0x3]=0x5,arrayBateria[0x4]=0x5;else{arrayBateria[0x4]=arrayBateria[0x3],arrayBateria[0x3]=arrayBateria[0x2],arrayBateria[0x2]=arrayBateria[0x1],arrayBateria[0x1]=arrayBateria[0x0],arrayBateria[0x0]=_0x4d6e3f[0x0];if(arrayBateria[0x0]==arrayBateria[0x1]&&arrayBateria[0x1]==arrayBateria[0x2]&&arrayBateria[0x2]==arrayBateria[0x3]&&arrayBateria[0x3]==arrayBateria[0x4]&&cargaBateria>=arrayBateria[0x0])cargaBateria=arrayBateria[0x0];if(cargaBateria>0x5)cargaBateria=0x5;}_0x3c132a[_0x286bd0(0x1ce)](_0x286bd0(0x139),cargaBateria*0x14+'%'),cargaBateria==0x0&&(console[_0x286bd0(0x1bf)]('Inicia\x20timer\x20de\x205\x20minutos\x20para\x20desligar\x20o\x20sistema\x20por\x20bateria\x20baixa'),setTimeout(()=>{auxDesligamentoBateriaBaixa();},0x493e0));}else{if(_0x4d6e3f[0x1]=='1')BateriaCarregada=0x1,BateriaCarregando=0x0,arrayBateria=[],_0x3c132a[_0x286bd0(0x1ce)](_0x286bd0(0x139),'carregada');else _0x4d6e3f[0x2]=='1'&&(BateriaCarregada=0x0,BateriaCarregando=0x1,arrayBateria=[],_0x3c132a[_0x286bd0(0x1ce)](_0x286bd0(0x139),_0x286bd0(0x189)));}}});}_0x3c132a[_0x5bab16(0x1ce)](_0x5bab16(0x1e5),redeWifiOk,wifiLevel),_0x3c132a['on'](_0x5bab16(0x1e6),function(){_0x13d8c0();});function _0x13d8c0(){var _0x4f138a=_0x5bab16;wifi[_0x4f138a(0x159)]((_0x228077,_0x33ee02)=>{var _0x39a65c=_0x4f138a;_0x228077?console[_0x39a65c(0x1bf)](_0x228077):_0x33ee02['length']>0x0?(redeWifiOk=0x1,wifiLevel=_0x33ee02[0x0][_0x39a65c(0x23b)],_0x3c132a[_0x39a65c(0x1ce)](_0x39a65c(0x1e5),0x1,_0x33ee02[0x0][_0x39a65c(0x23b)])):(redeWifiOk=0x0,wifiLevel=0x0,_0x3c132a[_0x39a65c(0x1ce)](_0x39a65c(0x1e5),0x0,0x0));});}_0x3c132a['on'](_0x5bab16(0x1c7),function(_0x570309){var _0x28bd09=_0x5bab16;senha=FuncSenha('insertKey',_0x570309),_0x3c132a[_0x28bd09(0x1ce)](_0x28bd09(0x1da),senha);}),_0x3c132a['on'](_0x5bab16(0x15d),function(_0x1cad1a){var _0x4dfce0=_0x5bab16;senha=FuncSenha('removeKey',_0x1cad1a),_0x3c132a[_0x4dfce0(0x1ce)](_0x4dfce0(0x1da),senha);}),_0x3c132a['on']('estadoGavetas',function(){_0x586b55();}),_0x3c132a['on']('estadoFerramentas',function(){var _0x45f2af=_0x5bab16;_0x3c132a[_0x45f2af(0x1ce)]('estadoFerramentas',ItensErrados);}),_0x3c132a['on']('abreGaveta',function(_0x3b340d){var _0x5d6483=_0x5bab16;if(abrindoGV==0x0&&fechandoGV==0x0&&bloqueiaAbertura==0x0){auxFGVSemRedeNeural=0x0,abrindoGV=0x1,bloqueiaAbertura=0x1,gavetaEmMovimento=_0x3b340d,_0x3c132a[_0x5d6483(0x1ce)](_0x5d6483(0x186)),_0x3ed554(_0x3b340d);try{process['kill'](childCam1['pid']);}catch(_0x3fbaab){console[_0x5d6483(0x1bf)](_0x5d6483(0x223)+_0x3fbaab);}try{process[_0x5d6483(0x164)](childCam2['pid']);}catch(_0x3f9a6f){console[_0x5d6483(0x1bf)](_0x5d6483(0x213)+_0x3f9a6f);}_0x1c1913(_0x3b340d),_0x36d117(_0x3b340d);}}),_0x3c132a['on'](_0x5bab16(0x154),function(_0x2b875e){var _0x1d56bb=_0x5bab16;abrindoGV==0x0&&fechandoGV==0x0&&(fechandoGV=0x1,gavetaEmMovimento=_0x2b875e,_0x3c132a['emit'](_0x1d56bb(0x186)),_0x3d48d6(_0x2b875e));}),_0x3c132a['on'](_0x5bab16(0x1e9),function(){abreCalculadora();}),_0x3c132a['on'](_0x5bab16(0x1e1),function(){shutdownPC();}),_0x3c132a['on'](_0x5bab16(0x18d),function(){rebootPC();}),_0x3c132a['on'](_0x5bab16(0x16e),function(_0x499346,_0x1eb104){_0x3af751(_0x499346,_0x1eb104);}),_0x3c132a['on'](_0x5bab16(0x129),function(){_0x3d6df4();}),_0x3c132a['on'](_0x5bab16(0x16d),function(){_0x54d024();});function _0x3af751(_0x1f48c1,_0x66725){var _0x592108=_0x5bab16;console[_0x592108(0x1bf)](_0x592108(0x1eb)),wifi['connect']({'ssid':_0x1f48c1,'password':_0x66725},_0x3424a1=>{var _0x569951=_0x592108,_0x8cb3ad=String(_0x3424a1);if(!_0x3424a1)console[_0x569951(0x1bf)](_0x569951(0x1b1)),_0x3c132a[_0x569951(0x1ce)](_0x569951(0x151),0x1,0x0);else _0x8cb3ad[_0x569951(0x14b)](_0x569951(0x180))>-0x1?(console[_0x569951(0x1bf)](_0x569951(0x238)+_0x3424a1),_0x3c132a[_0x569951(0x1ce)](_0x569951(0x151),0x0,0x0),_0x3d6df4()):(console[_0x569951(0x1bf)]('Erro\x20ao\x20conectar:\x20'+_0x3424a1),_0x3c132a[_0x569951(0x1ce)](_0x569951(0x151),0x0,0x1),_0x3d6df4());_0x13d8c0();});}function _0x3d6df4(){var _0x1feb55=_0x5bab16;console['log'](_0x1feb55(0x1d2)),wifi[_0x1feb55(0x1df)](_0x35a695=>{var _0x413a7f=_0x1feb55;_0x35a695?console[_0x413a7f(0x1bf)](_0x35a695):(console[_0x413a7f(0x1bf)](_0x413a7f(0x1d3)),setTimeout(()=>{var _0x1963c4=_0x413a7f;_0x3c132a[_0x1963c4(0x1ce)](_0x1963c4(0x1d3));},0x1f4));});}_0x3c132a['on']('GvTrancadaAGV',function(){var _0x381006=_0x5bab16;if(fechandoGV==0x0)_0x3ed554(gavetaEmMovimento);else{fechandoGV=0x0,abrindoGV=0x1,bloqueiaAbertura=0x1;try{process[_0x381006(0x164)](childCam1[_0x381006(0x165)]);}catch(_0x32180d){console[_0x381006(0x1bf)](_0x381006(0x223)+_0x32180d);}try{process[_0x381006(0x164)](childCam2[_0x381006(0x165)]);}catch(_0x53bc0d){console[_0x381006(0x1bf)]('Kill\x20cam2\x20-\x20Erro\x20encontrado:\x20'+_0x53bc0d);}_0x1c1913(gavetaEmMovimento),_0x36d117(gavetaEmMovimento),_0x3ed554(gavetaEmMovimento);}}),_0x3c132a['on']('GvTrancadaFGV',function(){var _0xef3187=_0x5bab16;auxFGVSemRedeNeural=0x1;try{process[_0xef3187(0x164)](childCam1[_0xef3187(0x165)]);}catch(_0x537429){console[_0xef3187(0x1bf)](_0xef3187(0x223)+_0x537429);}try{process['kill'](childCam2[_0xef3187(0x165)]);}catch(_0x58829e){console[_0xef3187(0x1bf)](_0xef3187(0x213)+_0x58829e);}try{process[_0xef3187(0x164)](childVerificacao[_0xef3187(0x165)]);}catch(_0x32b605){console['log'](_0xef3187(0x166)+_0x32b605);}_0x3c132a['emit'](_0xef3187(0x242),gavetaEmMovimento),ItensErrados[gavetaEmMovimento-0x1]=0x194,Ferramenta[_0xef3187(0x188)]({'gaveta':gavetaEmMovimento})['then'](_0x4c0c80=>{var _0x16c287=_0xef3187;if(!_0x4c0c80)console[_0x16c287(0x1bf)]('Erro\x20ferramentas\x20não\x20encontradas');else for(var _0x3e30f4=0x0;_0x3e30f4<_0x4c0c80['length'];_0x3e30f4++){_0x4c0c80[_0x3e30f4]['desconhecido']=0x1,_0x4c0c80[_0x3e30f4][_0x16c287(0x1b4)]();}})[_0xef3187(0x1b5)](_0x3b500e=>{var _0x329c49=_0xef3187;console[_0x329c49(0x1bf)]('Erro\x20ao\x20acessar\x20banco\x20de\x20dados:\x20'+_0x3b500e);}),fechandoGV=0x1,_0x3d48d6(gavetaEmMovimento);});function _0x1c1913(_0x5c9f92){var _0xbf5433=_0x5bab16;childCam1=spawn(_0xbf5433(0x1d5)+_0x5c9f92+_0xbf5433(0x128),[],{'detached':![]}),childCam1['on'](_0xbf5433(0x23e),_0x522449=>{var _0xaaab8b=_0xbf5433;console[_0xaaab8b(0x1bf)](_0xaaab8b(0x149));}),childCam1[_0xbf5433(0x13c)]['on'](_0xbf5433(0x141),_0x94af35=>{}),childCam1['stderr']['on']('data',_0x4cc832=>{});}function _0x36d117(_0x615bb2){var _0x280249=_0x5bab16;childCam2=spawn(_0x280249(0x1d5)+_0x615bb2+_0x280249(0x1a4),[],{'detached':![]}),childCam2['on'](_0x280249(0x23e),_0x59ce17=>{var _0x27cc57=_0x280249;console[_0x27cc57(0x1bf)](_0x27cc57(0x18b));}),childCam2[_0x280249(0x13c)]['on'](_0x280249(0x141),_0x26491c=>{}),childCam2[_0x280249(0x193)]['on'](_0x280249(0x141),_0x562c29=>{});}function _0x44544a(_0x3e2298){var _0x1d9a20=_0x5bab16,_0x2732a6=0x0;childVerificacao=spawn(_0x1d9a20(0x172),['GV'+_0x3e2298],{'detached':![]}),childVerificacao['on'](_0x1d9a20(0x23e),_0x5cc680=>{var _0xcafff=_0x1d9a20;auxFGVSemRedeNeural==0x0&&_0x2732a6==0x0&&_0x3c132a[_0xcafff(0x1ce)](_0xcafff(0x16c),ItensErrados[_0x3e2298-0x1]),bloqueiaAbertura=0x0;}),childVerificacao[_0x1d9a20(0x13c)]['on'](_0x1d9a20(0x141),_0x261110=>{var _0x1737bd=_0x1d9a20;console[_0x1737bd(0x1bf)](_0x1737bd(0x168)+_0x261110);if(_0x261110==_0x1737bd(0x202))_0x2732a6=0x1,_0x3c132a[_0x1737bd(0x1ce)]('falhaComunicacaoCamera',0x1),console['log'](_0x1737bd(0x1f5));else{if(_0x261110==_0x1737bd(0x19d))_0x2732a6=0x1,_0x3c132a[_0x1737bd(0x1ce)](_0x1737bd(0x148),0x2),console[_0x1737bd(0x1bf)](_0x1737bd(0x1c0));else{if(_0x261110==_0x1737bd(0x1b9))_0x2732a6=0x1,_0x3c132a[_0x1737bd(0x1ce)](_0x1737bd(0x148),0xc),console[_0x1737bd(0x1bf)](_0x1737bd(0x231));else{ItensErrados[_0x3e2298-0x1]=0x0;for(var _0x317167=0x0;_0x317167<_0x261110[_0x1737bd(0x209)];_0x317167++){Ferramenta[_0x1737bd(0x174)]({'gaveta':_0x3e2298,'posicao':_0x317167+0x1})['then'](_0x2139b6=>{var _0x102ba9=_0x1737bd;if(!_0x2139b6)console['log'](_0x102ba9(0x13e));else{_0x2139b6[_0x102ba9(0x1a5)]=0x0;if(_0x261110[_0x2139b6[_0x102ba9(0x1ec)]-0x1]==0x31&&_0x2139b6[_0x102ba9(0x12e)]==0x0)console[_0x102ba9(0x1bf)](''+_0x2139b6[_0x102ba9(0x22d)]+_0x102ba9(0x1c1)),_0x2139b6[_0x102ba9(0x12e)]=0x1,eventoDevolucao(_0x2139b6);else{if(_0x261110[_0x2139b6[_0x102ba9(0x1ec)]-0x1]==0x30&&_0x2139b6['estado']==0x1)ItensErrados[_0x3e2298-0x1]=ItensErrados[_0x3e2298-0x1]+0x1,console[_0x102ba9(0x1bf)](''+_0x2139b6['descricao']+_0x102ba9(0x1d4)),_0x2139b6['estado']=0x0,novoEvento(_0x2139b6);else _0x261110[_0x2139b6[_0x102ba9(0x1ec)]-0x1]==0x30&&(ItensErrados[_0x3e2298-0x1]=ItensErrados[_0x3e2298-0x1]+0x1);}}_0x2139b6['save']();})[_0x1737bd(0x1b5)](_0x3acbf5=>{var _0x5421e5=_0x1737bd;console[_0x5421e5(0x1bf)](_0x5421e5(0x182)+_0x3acbf5);});}}}}}),childVerificacao['stderr']['on'](_0x1d9a20(0x141),_0x706344=>{});}function _0x3ed554(_0x48e5f6){var _0x1fd1ae=_0x5bab16;auxFGVSemRedeNeural=0x0,ItensErrados[_0x48e5f6-0x1]=0x194,Ferramenta[_0x1fd1ae(0x188)]({'gaveta':_0x48e5f6})[_0x1fd1ae(0x161)](_0x2681b1=>{var _0x3ae1f9=_0x1fd1ae;if(!_0x2681b1)console['log'](_0x3ae1f9(0x1ef));else for(var _0x357a9e=0x0;_0x357a9e<_0x2681b1[_0x3ae1f9(0x209)];_0x357a9e++){_0x2681b1[_0x357a9e][_0x3ae1f9(0x1a5)]=0x1,_0x2681b1[_0x357a9e][_0x3ae1f9(0x1b4)]();}})[_0x1fd1ae(0x1b5)](_0x53695b=>{var _0x24cabf=_0x1fd1ae;console[_0x24cabf(0x1bf)](_0x24cabf(0x1f8)+_0x53695b);}),execFile('/home/tramontina/Downloads/Interface/Gavetas',['AGV'+_0x48e5f6],(_0x208c90,_0x52b7ef,_0x1706f0)=>{var _0x131b8b=_0x1fd1ae;if(_0x208c90){console[_0x131b8b(0x16a)](_0x131b8b(0x183)+_0x208c90);return;}if(_0x1706f0){console[_0x131b8b(0x16a)](_0x131b8b(0x132)+_0x1706f0);return;}console[_0x131b8b(0x1bf)](_0x131b8b(0x216)+_0x52b7ef);if(_0x52b7ef[0x2]=='A')abrindoGV=0x0,console['log'](_0x131b8b(0x23a)),auxGavetaAberta=0x1,_0x104f3e(),_0x3c132a[_0x131b8b(0x1ce)]('gavetaAberta',_0x48e5f6);else _0x52b7ef==_0x131b8b(0x15a)&&(console[_0x131b8b(0x1bf)](_0x131b8b(0x133)),auxGavetaAberta=0x1,_0x104f3e(),_0x3c132a['emit'](_0x131b8b(0x214),_0x48e5f6));});}function _0x3d48d6(_0x577a67){var _0x549f37=_0x5bab16;abrindoGV=0x0,execFile(_0x549f37(0x1e8),[_0x549f37(0x18c)+_0x577a67],(_0x3c891b,_0x23abb6,_0x49628a)=>{var _0x39cebd=_0x549f37;if(_0x3c891b){console[_0x39cebd(0x16a)](_0x39cebd(0x183)+_0x3c891b);return;}if(_0x49628a){console[_0x39cebd(0x16a)](_0x39cebd(0x132)+_0x49628a);return;}console[_0x39cebd(0x1bf)](_0x39cebd(0x216)+_0x23abb6);if(_0x23abb6[0x2]=='F'){fechandoGV=0x0,console[_0x39cebd(0x1bf)](_0x39cebd(0x1fd)),auxGavetaAberta=0x0,_0x104f3e(),_0x3c132a[_0x39cebd(0x1ce)]('gavetaFechada',_0x577a67);if(auxFGVSemRedeNeural==0x0){try{process[_0x39cebd(0x164)](childVerificacao[_0x39cebd(0x165)]);}catch(_0x2f3ef5){console[_0x39cebd(0x1bf)](_0x39cebd(0x166)+_0x2f3ef5);}_0x44544a(_0x577a67);}else bloqueiaAbertura=0x0,ItensErrados[_0x577a67-0x1]=0x194,_0x3c132a['emit'](_0x39cebd(0x16c),ItensErrados[_0x577a67-0x1]),Ferramenta[_0x39cebd(0x188)]({'gaveta':gavetaEmMovimento})['then'](_0x343957=>{var _0x2bfce8=_0x39cebd;if(!_0x343957)console['log'](_0x2bfce8(0x1ef));else for(var _0x75551d=0x0;_0x75551d<_0x343957[_0x2bfce8(0x209)];_0x75551d++){_0x343957[_0x75551d][_0x2bfce8(0x1a5)]=0x1,console['log']('Ferramenta\x20'+_0x75551d+':\x20'+_0x343957[_0x75551d]['descricao']),_0x343957[_0x75551d][_0x2bfce8(0x1b4)]();}})[_0x39cebd(0x1b5)](_0x21e596=>{var _0x28d44e=_0x39cebd;console['log'](_0x28d44e(0x1f8)+_0x21e596);}),auxFGVSemRedeNeural=0x0;}else{if(_0x23abb6==_0x39cebd(0x15a)){auxFGVSemRedeNeural=0x1;try{process['kill'](childCam1[_0x39cebd(0x165)]);}catch(_0x974e80){console['log']('Kill\x20cam1\x20-\x20Erro\x20encontrado:\x20'+_0x974e80);}try{process[_0x39cebd(0x164)](childCam2[_0x39cebd(0x165)]);}catch(_0x32781f){console[_0x39cebd(0x1bf)](_0x39cebd(0x213)+_0x32781f);}try{process[_0x39cebd(0x164)](childVerificacao[_0x39cebd(0x165)]);}catch(_0x303a8f){console[_0x39cebd(0x1bf)](_0x39cebd(0x166)+_0x303a8f);}console[_0x39cebd(0x1bf)](_0x39cebd(0x133)),auxGavetaAberta=0x1,_0x104f3e(),_0x3c132a[_0x39cebd(0x1ce)]('gavetaTrancada',_0x577a67);}}});}function _0x586b55(){var _0x46a91b=_0x5bab16;execFile(_0x46a91b(0x1e8),[_0x46a91b(0x155)],(_0x6db738,_0x58a3ae,_0x5fbbe4)=>{var _0x280f44=_0x46a91b;if(_0x6db738){console[_0x280f44(0x16a)](_0x280f44(0x183)+_0x6db738);return;}if(_0x5fbbe4){console[_0x280f44(0x16a)](_0x280f44(0x132)+_0x5fbbe4);return;}console[_0x280f44(0x1bf)](_0x280f44(0x216)+_0x58a3ae),_0x3c132a['emit']('estadoGavetas',_0x58a3ae),_0x58a3ae[0x0]=='A'||_0x58a3ae[0x1]=='A'||_0x58a3ae[0x2]=='A'||_0x58a3ae[0x3]=='A'||_0x58a3ae[0x4]=='A'||_0x58a3ae[0x5]=='A'||_0x58a3ae[0x6]=='A'||_0x58a3ae[0x7]=='A'?(console[_0x280f44(0x1bf)](_0x280f44(0x230)),auxGavetaAberta=0x1):(console['log'](_0x280f44(0x136)),auxGavetaAberta=0x0);});}function _0x17c5e3(_0x3ddec2){var _0x4aeb79=_0x5bab16;_0x3c132a[_0x4aeb79(0x1ce)](_0x4aeb79(0x210),_0x3ddec2);}_0x3c132a['on'](_0x5bab16(0x162),function(_0x1da49f,_0x32e08d){var _0x50cc90=_0x5bab16;console[_0x50cc90(0x1bf)](_0x50cc90(0x229)+_0x1da49f+_0x50cc90(0x1a2)+_0x32e08d),numRepeticoesGVEspecifica=_0x32e08d,pausaTestesGavetas=0x0,paraTestesGavetas=0x0,_0x3f5587(_0x1da49f),console['log'](_0x50cc90(0x1dd));}),_0x3c132a['on'](_0x5bab16(0x1ae),function(){var _0x4c92f0=_0x5bab16;pausaTestesGavetas=0x1,console[_0x4c92f0(0x1bf)](_0x4c92f0(0x1c6)+pausaTestesGavetas);}),_0x3c132a['on']('stopTesteGVEspecifica',function(){var _0x3963d4=_0x5bab16;paraTestesGavetas=0x1,contRepeticoesGVEspecifica=0x0,testesGavetasAndamento==0x0&&(contRepeticoesGVEspecifica=0x0,numRepeticoesGVEspecifica=0x0,pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,_0x3c132a[_0x3963d4(0x1ce)](_0x3963d4(0x1d6))),console[_0x3963d4(0x1bf)](_0x3963d4(0x1cc)+pausaTestesGavetas);}),_0x3c132a['on'](_0x5bab16(0x190),function(){var _0x343b71=_0x5bab16;_0x3c132a[_0x343b71(0x1ce)](_0x343b71(0x190),testesGavetasAndamento,contRepeticoesGVEspecifica);});function _0x3f5587(_0x2d46f4){var _0x5ab442=_0x5bab16;testesGavetasAndamento=0x1,console[_0x5ab442(0x1bf)]('Cont.\x20repeticoes:\x20'+contRepeticoesGVEspecifica),_0x3c132a['emit'](_0x5ab442(0x194),contRepeticoesGVEspecifica);if(contRepeticoesGVEspecifica>=numRepeticoesGVEspecifica){var _0x5f424a=getData(),_0x5d4890=convTempo(segDecorridoGVEspecifica);if(contRepeticoesGVEspecifica>0x0){const _0x1cfe3c={'data':_0x5f424a,'gaveta':_0x2d46f4,'tempo':_0x5d4890,'contagemCiclos':contRepeticoesGVEspecifica,'tipo':0x0,'finalizado':0x1};new DadosTeste(_0x1cfe3c)[_0x5ab442(0x1b4)]();}contRepeticoesGVEspecifica=0x0,numRepeticoesGVEspecifica=0x0,pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,_0x3c132a[_0x5ab442(0x1ce)](_0x5ab442(0x140));}else{if(pausaTestesGavetas==0x0&&paraTestesGavetas==0x0)_0xe9e622(_0x2d46f4);else{if(paraTestesGavetas==0x1)testesGavetasAndamento=0x0,pausaTestesGavetas=0x0,paraTestesGavetas=0x0,_0x3c132a[_0x5ab442(0x1ce)](_0x5ab442(0x1d6));else pausaTestesGavetas==0x1&&(testesGavetasAndamento=0x0,pausaTestesGavetas=0x0,_0x3c132a[_0x5ab442(0x1ce)]('testePausadoGVEspecifica'));}}}function _0xe9e622(_0x1807fd){var _0x483aa4=_0x5bab16;execFile(_0x483aa4(0x1e8),[_0x483aa4(0x1bd)+_0x1807fd],(_0x417aa0,_0xdba2c2,_0x2029e9)=>{var _0x21a602=_0x483aa4;_0x417aa0&&console[_0x21a602(0x16a)](_0x21a602(0x183)+_0x417aa0);_0x2029e9&&console[_0x21a602(0x16a)](_0x21a602(0x132)+_0x2029e9);console[_0x21a602(0x1bf)](_0x21a602(0x216)+_0xdba2c2);if(_0xdba2c2[0x2]=='A')console[_0x21a602(0x1bf)]('Gaveta\x20aberta'),_0x2d72ea(_0x1807fd);else{if(_0xdba2c2==_0x21a602(0x15a)){var _0x1aed21=getData(),_0x15ee1c=convTempo(segDecorridoGVEspecifica);const _0x2a9fcc={'data':_0x1aed21,'gaveta':_0x1807fd,'tempo':_0x15ee1c,'contagemCiclos':contRepeticoesGVEspecifica,'tipo':0x0,'finalizado':0x0};new DadosTeste(_0x2a9fcc)[_0x21a602(0x1b4)](),pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,_0x3c132a[_0x21a602(0x1ce)]('testeFalhouGVEspecifica'),console['log'](_0x21a602(0x133));}}});}function _0x2d72ea(_0x5561b0){var _0xe96c29=_0x5bab16;execFile(_0xe96c29(0x1e8),[_0xe96c29(0x18c)+_0x5561b0],(_0x39aecb,_0x1e5c6b,_0x2aac32)=>{var _0x5bb33a=_0xe96c29;_0x39aecb&&console['error']('error:\x20'+_0x39aecb);_0x2aac32&&console[_0x5bb33a(0x16a)](_0x5bb33a(0x132)+_0x2aac32);console[_0x5bb33a(0x1bf)](_0x5bb33a(0x216)+_0x1e5c6b);if(_0x1e5c6b[0x2]=='F')console[_0x5bb33a(0x1bf)](_0x5bb33a(0x1fd)),contRepeticoesGVEspecifica=contRepeticoesGVEspecifica+0x1,_0x3f5587(_0x5561b0);else{if(_0x1e5c6b==_0x5bb33a(0x15a)){var _0x230514=getData(),_0x3ffce6=convTempo(segDecorridoGVEspecifica);const _0x44a4a0={'data':_0x230514,'gaveta':_0x5561b0,'tempo':_0x3ffce6,'contagemCiclos':contRepeticoesGVEspecifica,'tipo':0x0,'finalizado':0x0};new DadosTeste(_0x44a4a0)[_0x5bb33a(0x1b4)](),pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,_0x3c132a['emit'](_0x5bb33a(0x1c8)),console['log'](_0x5bb33a(0x133));}}});}_0x3c132a['on']('testetodasgavetas',function(_0x1b09bf){var _0x28c3af=_0x5bab16;console[_0x28c3af(0x1bf)]('Repeticoes:\x20'+_0x1b09bf),numRepeticoesTodasGVs=_0x1b09bf,pausaTestesGavetas=0x0,paraTestesGavetas=0x0,_0x419556(),console[_0x28c3af(0x1bf)](_0x28c3af(0x17d));}),_0x3c132a['on'](_0x5bab16(0x144),function(){var _0x41f5d1=_0x5bab16;pausaTestesGavetas=0x1,console[_0x41f5d1(0x1bf)]('Pausando\x20teste\x20'+pausaTestesGavetas);}),_0x3c132a['on']('stopTesteTodasGVs',function(){var _0x168aae=_0x5bab16;paraTestesGavetas=0x1,contRepeticoesTodasGVs=0x0,testesGavetasAndamento==0x0&&(contRepeticoesTodasGVs=0x0,numRepeticoesTodasGVs=0x0,pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,gavetaEmTeste=0x1,_0x3c132a[_0x168aae(0x1ce)](_0x168aae(0x243))),console[_0x168aae(0x1bf)](_0x168aae(0x1cc)+pausaTestesGavetas);}),_0x3c132a['on']('estadoTestesTodasGVs',function(){var _0x34139f=_0x5bab16;_0x3c132a[_0x34139f(0x1ce)](_0x34139f(0x246),testesGavetasAndamento,contRepeticoesTodasGVs);});function _0x419556(){var _0x20005f=_0x5bab16;console[_0x20005f(0x1bf)]('aux...'),testesGavetasAndamento=0x1,console[_0x20005f(0x1bf)](_0x20005f(0x241)+contRepeticoesTodasGVs),_0x3c132a[_0x20005f(0x1ce)](_0x20005f(0x211),contRepeticoesTodasGVs);if(contRepeticoesTodasGVs>=numRepeticoesTodasGVs){var _0x4542fd=getData(),_0x1a2d28=convTempo(segDecorridoTodasGVs);if(contRepeticoesTodasGVs>0x0){const _0x1a4c61={'data':_0x4542fd,'gaveta':0x0,'tempo':_0x1a2d28,'contagemCiclos':contRepeticoesTodasGVs,'tipo':0x1,'finalizado':0x1};new DadosTeste(_0x1a4c61)[_0x20005f(0x1b4)]();}contRepeticoesTodasGVs=0x0,numRepeticoesTodasGVs=0x0,gavetaEmTeste=0x1,pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,_0x3c132a['emit'](_0x20005f(0x22a));}else{if(pausaTestesGavetas==0x0&&paraTestesGavetas==0x0)_0x5bba63();else{if(paraTestesGavetas==0x1)testesGavetasAndamento=0x0,pausaTestesGavetas=0x0,paraTestesGavetas=0x0,gavetaEmTeste=0x1,_0x3c132a['emit'](_0x20005f(0x243));else pausaTestesGavetas==0x1&&(testesGavetasAndamento=0x0,pausaTestesGavetas=0x0,_0x3c132a[_0x20005f(0x1ce)](_0x20005f(0x1c5)));}}}function _0x5bba63(){var _0x4ab261=_0x5bab16;execFile(_0x4ab261(0x1e8),[_0x4ab261(0x1bd)+gavetaEmTeste],(_0x94e6f0,_0x19b8ed,_0x4b0ccb)=>{var _0x482176=_0x4ab261;_0x94e6f0&&console[_0x482176(0x16a)]('error:\x20'+_0x94e6f0);_0x4b0ccb&&console[_0x482176(0x16a)](_0x482176(0x132)+_0x4b0ccb);console[_0x482176(0x1bf)](_0x482176(0x216)+_0x19b8ed);if(_0x19b8ed[0x2]=='A')console[_0x482176(0x1bf)](_0x482176(0x23a)),_0x373ea0();else{if(_0x19b8ed==_0x482176(0x15a)){var _0x43a2a2=getData(),_0x42915a=convTempo(segDecorridoTodasGVs);const _0x4a35b7={'data':_0x43a2a2,'gaveta':0x0,'tempo':_0x42915a,'contagemCiclos':contRepeticoesTodasGVs,'tipo':0x1,'finalizado':0x0};new DadosTeste(_0x4a35b7)[_0x482176(0x1b4)](),pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,gavetaEmTeste=0x1,_0x3c132a[_0x482176(0x1ce)](_0x482176(0x1a1)),console['log'](_0x482176(0x133));}}});}function _0x373ea0(){var _0x597d4a=_0x5bab16;execFile(_0x597d4a(0x1e8),[_0x597d4a(0x18c)+gavetaEmTeste],(_0x40e629,_0xdabf3,_0x2b816d)=>{var _0x51157f=_0x597d4a;_0x40e629&&console[_0x51157f(0x16a)](_0x51157f(0x183)+_0x40e629);_0x2b816d&&console[_0x51157f(0x16a)]('stderr:\x20'+_0x2b816d);console['log'](_0x51157f(0x216)+_0xdabf3);if(_0xdabf3[0x2]=='F')console['log'](_0x51157f(0x1fd)),gavetaEmTeste<0x8?gavetaEmTeste=gavetaEmTeste+0x1:(contRepeticoesTodasGVs=contRepeticoesTodasGVs+0x1,gavetaEmTeste=0x1),_0x419556();else{if(_0xdabf3=='GVT'){var _0x5489fe=getData(),_0xeb6d86=convTempo(segDecorridoTodasGVs);const _0x537099={'data':_0x5489fe,'gaveta':0x0,'tempo':_0xeb6d86,'contagemCiclos':contRepeticoesTodasGVs,'tipo':0x1,'finalizado':0x0};new DadosTeste(_0x537099)[_0x51157f(0x1b4)](),pausaTestesGavetas=0x0,testesGavetasAndamento=0x0,paraTestesGavetas=0x0,gavetaEmTeste=0x1,_0x3c132a[_0x51157f(0x1ce)]('testeFalhouTodasGVs'),console[_0x51157f(0x1bf)](_0x51157f(0x133));}}});}_0x3c132a['on'](_0x5bab16(0x237),function(){var _0x333689=_0x5bab16;redeWifiOk==0x1?_0x2487c2():_0x3c132a[_0x333689(0x1ce)](_0x333689(0x130),0x0);}),_0x3c132a['on'](_0x5bab16(0x153),function(){var _0x29d5d8=_0x5bab16;redeWifiOk==0x1?(_0x362a1e(),_0x3c132a[_0x29d5d8(0x1ce)](_0x29d5d8(0x1bb),0x1)):_0x3c132a[_0x29d5d8(0x1ce)](_0x29d5d8(0x1bb),0x0);});function _0x2487c2(){var _0x2148a7=_0x5bab16;console[_0x2148a7(0x1bf)](_0x2148a7(0x219)),fs[_0x2148a7(0x228)]('searchVersion.sh','777'),childSearchVersion=spawn(_0x2148a7(0x185),[],{'detached':!![]}),childSearchVersion['on'](_0x2148a7(0x23e),_0x19cda6=>{var _0x16ad97=_0x2148a7,_0x5da0bb=require('path'),_0x23da54=require['resolve'](_0x16ad97(0x143));delete require[_0x16ad97(0x1fe)][_0x23da54];var _0x4acae1=require('../latestVersion');console[_0x16ad97(0x1bf)](_0x16ad97(0x156)+_0x4acae1),_0x3c132a[_0x16ad97(0x1ce)](_0x16ad97(0x130),_0x4acae1);}),childSearchVersion[_0x2148a7(0x13c)]['on'](_0x2148a7(0x141),_0xf99778=>{var _0x1f6bc0=_0x2148a7;console[_0x1f6bc0(0x1bf)](_0xf99778);}),childSearchVersion[_0x2148a7(0x193)]['on'](_0x2148a7(0x141),_0x2c6692=>{var _0x2cb97f=_0x2148a7;console[_0x2cb97f(0x1bf)](_0x2cb97f(0x132)+_0x2c6692);});}function _0x362a1e(){var _0x3392ce=_0x5bab16;console['log'](_0x3392ce(0x184)),fs[_0x3392ce(0x228)]('update.sh',_0x3392ce(0x215)),childAtualizaSoftware=spawn('/home/tramontina/Downloads/Interface/update.sh',[],{'detached':!![]}),childAtualizaSoftware['on'](_0x3392ce(0x23e),_0x21dcd9=>{var _0x4a1e53=_0x3392ce;console[_0x4a1e53(0x1bf)](_0x4a1e53(0x244)),rebootPC();}),childAtualizaSoftware[_0x3392ce(0x13c)]['on'](_0x3392ce(0x141),_0x7a7ecc=>{console['log'](_0x7a7ecc);}),childAtualizaSoftware[_0x3392ce(0x193)]['on'](_0x3392ce(0x141),_0x387d9b=>{var _0x43def7=_0x3392ce;console[_0x43def7(0x1bf)]('stderr:\x20'+_0x387d9b);});}_0x3c132a['on'](_0x5bab16(0x20f),function(_0x3d8f21){segDecorridoGVEspecifica=_0x3d8f21;}),_0x3c132a['on'](_0x5bab16(0x1f4),function(_0x293809){segDecorridoTodasGVs=_0x293809;}),_0x3c132a['on'](_0x5bab16(0x12b),function(_0x4f317d,_0x454c13,_0x449e37,_0xc98877,_0x36b775,_0x11541c,_0x49059e,_0xdc05b9){var _0x6bdf74=_0x5bab16;console[_0x6bdf74(0x1bf)]('Salvando\x20configuração...'),console[_0x6bdf74(0x1bf)]('Ident:\x20'+_0x49059e),editaConfiguracao(_0x4f317d,_0x454c13,_0x449e37,_0xc98877,_0x36b775,_0x11541c,_0x49059e,_0xdc05b9);}),_0x3c132a['on'](_0x5bab16(0x146),function(_0x45eab1){var _0x1a0767=_0x5bab16;if(_0x45eab1==0x0)console['log']('Exclui\x20resgistros\x20com\x20ferramentas\x20devolvidas'),Evento['deleteMany']({'devolucao':0x1})[_0x1a0767(0x161)](()=>{var _0x3db022=_0x1a0767;console[_0x3db022(0x1bf)]('Histórico\x20deletado\x20com\x20sucesso!');})['catch'](_0x966737=>{var _0x55d3a5=_0x1a0767;console['log'](_0x55d3a5(0x158)+_0x966737);});else _0x45eab1==0x1&&(console[_0x1a0767(0x1bf)](_0x1a0767(0x204)),Evento[_0x1a0767(0x1e7)]()[_0x1a0767(0x161)](()=>{var _0x16332c=_0x1a0767;console[_0x16332c(0x1bf)](_0x16332c(0x152));})['catch'](_0x33a886=>{var _0x4395d9=_0x1a0767;console[_0x4395d9(0x1bf)]('Houve\x20um\x20erro\x20ao\x20deletar\x20o\x20histórico:\x20'+_0x33a886);}));}),_0x3c132a['on'](_0x5bab16(0x173),function(){var _0x33c2b1=_0x5bab16;_0x3c132a[_0x33c2b1(0x1ce)]('versaoSoftware',versaoSoftware);}),_0x3c132a['on'](_0x5bab16(0x178),function(){var _0x4adb5f=_0x5bab16;if(redeWifiOk==0x1)_0x16be4d();else _0x3c132a[_0x4adb5f(0x1ce)](_0x4adb5f(0x176));}),_0x3c132a['on'](_0x5bab16(0x1d9),function(){if(redeWifiOk==0x1)_0x638901();else _0x3c132a['emit']('falhaConexao');}),_0x3c132a['on'](_0x5bab16(0x191),function(){_0x4f8934();});function _0x16be4d(){var _0x287cc7=_0x5bab16;console['log'](_0x287cc7(0x1e3)),ngrok[_0x287cc7(0x17c)]({'region':'sa','proto':_0x287cc7(0x245),'addr':0x1f91,'authtoken':_0x287cc7(0x236)})[_0x287cc7(0x161)](_0x31c9d0=>{var _0x27e5bd=_0x287cc7;console[_0x27e5bd(0x1bf)](_0x27e5bd(0x1ad)+_0x31c9d0),_0x3c132a[_0x27e5bd(0x1ce)](_0x27e5bd(0x225),_0x31c9d0);})[_0x287cc7(0x1b5)](_0x482ade=>{var _0x4c9b2b=_0x287cc7;console[_0x4c9b2b(0x1bf)](_0x4c9b2b(0x17a)+_0x482ade),_0x3c132a['emit'](_0x4c9b2b(0x176)),ngrok['kill']();});}function _0x638901(){var _0x2201df=_0x5bab16;console['log'](_0x2201df(0x233)),ngrok[_0x2201df(0x17c)]({'region':'sa','proto':_0x2201df(0x1b2),'addr':0x16,'authtoken':_0x2201df(0x236)})[_0x2201df(0x161)](_0x3319c8=>{var _0x2fca44=_0x2201df;console['log']('Url\x20da\x20conexao:\x20'+_0x3319c8),_0x3c132a[_0x2fca44(0x1ce)](_0x2fca44(0x181),_0x3319c8);})[_0x2201df(0x1b5)](_0x3ff27c=>{var _0x2cef7d=_0x2201df;console['log'](_0x2cef7d(0x17a)+_0x3ff27c),_0x3c132a[_0x2cef7d(0x1ce)](_0x2cef7d(0x176)),ngrok[_0x2cef7d(0x164)]();});}function _0x4f8934(){var _0x58ba1e=_0x5bab16;console[_0x58ba1e(0x1bf)](_0x58ba1e(0x15e)),ngrok[_0x58ba1e(0x1df)]();}_0x3c132a['on'](_0x5bab16(0x145),function(_0x1c49e4){var _0x1ec975=_0x5bab16;console[_0x1ec975(0x1bf)](_0x1c49e4),setDateTime(_0x1c49e4);}),_0x3c132a['on'](_0x5bab16(0x1ac),function(){_0x3c132a['emit']('setSerialNumber',serialOrganizador);}),_0x3c132a['on'](_0x5bab16(0x195),function(){_0x24625a();});async function _0x24625a(){var _0x4b53a2=_0x5bab16,_0x3c6139=await _0x218c46();console[_0x4b53a2(0x1bf)]('Database\x20\x27organizadorinteligente\x27\x20restaurado\x20com\x20sucesso:\x20'+_0x3c6139),_0x3c6139=await _0x539cbb(),console['log'](_0x4b53a2(0x21e)+_0x3c6139),rebootPC();}function _0x218c46(){return new Promise(_0x479e44=>{var _0x279782=_0x4ae0,_0x23e27a=child_restoreSystem[_0x279782(0x23c)](_0x279782(0x226),(_0x3f6a8f,_0x3dabc7,_0x53e5b5)=>{var _0x17b904=_0x279782;_0x3f6a8f&&console[_0x17b904(0x1bf)](_0x17b904(0x1ee)+_0x3f6a8f),_0x53e5b5&&console[_0x17b904(0x1bf)](_0x17b904(0x248)+_0x53e5b5),_0x3dabc7&&console[_0x17b904(0x1bf)](_0x17b904(0x1cf)+_0x3dabc7);});_0x23e27a['on'](_0x279782(0x23e),function(){_0x479e44(0x1);});});}function _0x539cbb(){return new Promise(_0x24778e=>{var _0x596c5c=_0x4ae0,_0x5c9d89=child_restoreSystem[_0x596c5c(0x23c)](_0x596c5c(0x169),(_0x176b73,_0x4357f3,_0x3e10e8)=>{var _0x8aa140=_0x596c5c;_0x176b73&&console[_0x8aa140(0x1bf)](_0x8aa140(0x1ee)+_0x176b73),_0x3e10e8&&console[_0x8aa140(0x1bf)](_0x8aa140(0x248)+_0x3e10e8),_0x4357f3&&console[_0x8aa140(0x1bf)](_0x8aa140(0x1cf)+_0x4357f3);});_0x5c9d89['on'](_0x596c5c(0x23e),function(){_0x24778e(0x1);});});}function _0x54d024(){var _0x13e65f=_0x5bab16;redeWifiOk==0x1?Evento['find']({'devolucao':0x0})['select'](_0x13e65f(0x14c))[_0x13e65f(0x1af)]()[_0x13e65f(0x20c)](_0x13e65f(0x1a9))[_0x13e65f(0x13a)]({'_id':_0x13e65f(0x21a)})['then'](_0x4c76fd=>{var _0x273cd2=_0x13e65f;if(_0x4c76fd['length']>0x0){const _0x3a0e0a=new ObjectsToCsv(_0x4c76fd);console['log']('Gerando\x20relatorio...'),_0x3a0e0a[_0x273cd2(0x1f7)]('ferramentasAusentes.csv')[_0x273cd2(0x161)](function(){var _0x3993e3=_0x273cd2;console[_0x3993e3(0x1bf)](_0x3993e3(0x203)),_0x429aa2(0x1);});}else _0x429aa2(0x0),console[_0x273cd2(0x1bf)](_0x273cd2(0x224));})['catch'](_0x36af8e=>{var _0x1f7899=_0x13e65f;console[_0x1f7899(0x1bf)](_0x36af8e);}):(console[_0x13e65f(0x1bf)](_0x13e65f(0x221)),_0x3c132a['emit'](_0x13e65f(0x163),0x0));}function _0x429aa2(_0x513dcd){var _0x4e0c30=_0x5bab16;if(validarEmail(configuracaoAtual[_0x4e0c30(0x1de)])!=0x1&&validarEmail(configuracaoAtual[_0x4e0c30(0x187)])!=0x1&&validarEmail(configuracaoAtual[_0x4e0c30(0x232)])!=0x1)console[_0x4e0c30(0x1bf)](_0x4e0c30(0x18f)),_0x3c132a['emit'](_0x4e0c30(0x163),0x2);else{var _0x4030cb,_0x92d4ed=userLogged('showUserdata'),_0x5227ee=getHorario(),_0x5110fc=getData(),_0x31494f='';_0x31494f=_0x4e0c30(0x167)+_0x92d4ed[_0x4e0c30(0x1b6)]+_0x4e0c30(0x1ba)+_0x92d4ed[_0x4e0c30(0x205)],_0x31494f=_0x31494f+_0x4e0c30(0x192)+_0x5227ee+'\x0aData:\x20'+_0x5110fc+'\x0a';let _0x403138=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8];for(const _0x4d5e6a of _0x403138){if(ItensErrados[_0x4d5e6a-0x1]==0x194)_0x31494f=_0x31494f+_0x4e0c30(0x19f)+String(_0x4d5e6a)+_0x4e0c30(0x17b);else ItensErrados[_0x4d5e6a-0x1]==0x0?_0x31494f=_0x31494f+_0x4e0c30(0x19f)+String(_0x4d5e6a)+_0x4e0c30(0x240):_0x31494f=_0x31494f+_0x4e0c30(0x19f)+String(_0x4d5e6a)+':\x20'+String(ItensErrados[_0x4d5e6a-0x1])+'\x20ferramentas\x20ausentes';}console[_0x4e0c30(0x1bf)](_0x31494f),_0x513dcd==0x1?(pathToAttachment=_0x4e0c30(0x1e2),attachment=fs[_0x4e0c30(0x20d)](pathToAttachment)['toString'](_0x4e0c30(0x1b7)),_0x4030cb={'to':[configuracaoAtual[_0x4e0c30(0x1de)],configuracaoAtual[_0x4e0c30(0x187)],configuracaoAtual[_0x4e0c30(0x232)]],'from':_0x4e0c30(0x1b3),'subject':_0x4e0c30(0x220),'text':_0x4e0c30(0x22e)+String(configuracaoAtual['identificacao'])+'\x0a\x0a'+_0x31494f,'attachments':[{'content':attachment,'filename':_0x4e0c30(0x1c2),'type':'application/csv','disposition':_0x4e0c30(0x208)}]}):_0x4030cb={'to':[configuracaoAtual['email'],configuracaoAtual[_0x4e0c30(0x187)],configuracaoAtual[_0x4e0c30(0x232)]],'from':_0x4e0c30(0x1b3),'subject':_0x4e0c30(0x220),'text':_0x4e0c30(0x22e)+String(configuracaoAtual[_0x4e0c30(0x160)])+'\x0a\x0a'+_0x31494f},sgMail[_0x4e0c30(0x1a6)](_0x4030cb)[_0x4e0c30(0x161)](()=>{var _0x1778f6=_0x4e0c30;console[_0x1778f6(0x1bf)](_0x1778f6(0x157)),_0x3c132a[_0x1778f6(0x1ce)](_0x1778f6(0x163),0x1);})[_0x4e0c30(0x1b5)](_0x43deb9=>{var _0x1d2acb=_0x4e0c30;console[_0x1d2acb(0x1bf)]('Erro\x20ao\x20enviar\x20email:\x20'+_0x43deb9),_0x3c132a[_0x1d2acb(0x1ce)](_0x1d2acb(0x163),0x3);});}}_0x3c132a[_0x5bab16(0x1ce)](_0x5bab16(0x177),senha);});return console[_0x2fea78(0x1bf)](_0x2ac5b2),router;};module['exports']=method;